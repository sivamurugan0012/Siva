
<!doctype html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.40, maximum-scale=1.5" />
    <meta name="description" content="theme_five" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
      type="text/css"
    />
    <style>html {
  background-color: #f2f2f2;
}

body {
  margin: 0 auto;
  font-family: "Roboto", sans-serif;
  background-color: white;
}

.page-footer {
  display: flex;
  align-items: center;
  font-size: 3.5mm;
  justify-content: center;
  font-weight: 500;
}

.page-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 3.5mm;
  font-weight: 500;
}

table {
  width: 100%;
}

.main-container {
  padding: 0 !important;
}

.page-header-type {
  display: flex;
  align-items: center;
}

.page-header-type-value {
  margin-right: 10px;
}

.page-header-sub-type {
  border: 1px solid #868597;
  box-sizing: border-box;
  border-radius: 2px;
  color: #868597;
  letter-spacing: 0.15px;
  text-transform: uppercase;
  margin-right: 4px;
}

.page-header-tagline {
  font-weight: 500;
}

.page-header-tagline-container {
  display: flex;
  align-items: flex-end;
  flex-direction: column;
}

/* Typography */
.text-small {
  font-size: 11px;
}

.text-smallest {
  font-size: 10px !important;
}

/* Company Details */
#company-details {
  border: 1px solid black;
  min-height: 25mm;
  display: flex;
}

#company-details-meta {
  flex: 1;
  display: flex;
  align-items: center;
}

.company-logo-container {
  flex-direction: column;
  justify-content: center;
  align-items: center;
  display: flex;
  margin: 1mm;
  object-fit: contain;
}

#company-logo {
  margin: 2.1mm;
  object-fit: contain;
}

#company-details-content {
  flex: 1;
  margin: 1mm;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
}

#company-name {
  font-size: 16px;
  font-weight: 600;
  color: #bf6200;
  margin-bottom: 0.5mm;
}

#company-address {
  font-size: 12px;
  margin-bottom: 1mm;
}

#company-contact-details,
#company-contact-details-2,
#company-email-content,
#company-pan-number-content {
  display: flex;
  font-size: 12px;
  align-items: center;
}

#company-gst-number-content {
  margin-right: 3mm;
}

#company-gst-number-content > span:first-child,
#company-mobile-number-content > span:first-child,
#company-email-content > span:first-child,
#company-pan-number-content > span:first-child {
  font-weight: 500;
}

/* Invoice Details */
#invoice-details-meta {
  display: flex;
  flex-direction: column;
  border-left: 1px solid black;
  flex: 1;
}

#invoice-main-details {
  flex: 1;
  display: flex;
  align-items: center;
  font-size: 12px;
  text-align: center;
  justify-content: space-around;
  font-weight: 600;
}

#invoice-main-details > div {
  min-width: 33%;
}

#invoice-main-details > div > div:last-child {
  font-weight: 400;
}

#invoice-sub-details {
  flex: 1;
  border-top: 1px solid black;
  display: flex;
  font-size: 12px;
  text-align: center;
  justify-content: space-around;
  align-items: center;
}

#invoice-sub-details > div {
  padding-top: 2mm;
  word-break: break-all;
  min-width: 20mm;
  margin: 0 2mm;
}

#invoice-sub-details > div > div:first-child {
  font-weight: 600;
}

/* Address Details */
#address-details {
  border-left: 1px solid black;
  border-right: 1px solid black;
  display: flex;
}

.meta-bill-ship-to {
  font-size: 11px;
  padding-bottom: 8px;
  line-height: 14px;
}

.meta-bill-ship-to > div {
  margin-left: 2mm;
  margin-right: 2mm;
  margin-bottom: 2px;
  display: flex;
}

#bill-to {
  flex: 1;
}

#ship-to {
  flex: 1;
  border-left: 1px solid black;
}

.title-bill-ship-to {
  margin: 2mm;
  margin-bottom: 1mm;
  font-size: 3mm;
  font-weight: 500;
}

#bill-to-company-name,
#ship-to-company-name {
  font-size: 12px;
  font-weight: 600;
  margin-left: 2mm;
  margin-right: 2mm;
  margin-bottom: 1mm;
  text-transform: uppercase;
}

#bill-to-address,
#ship-to-address {
  word-break: break-word;
}

.field-bill-ship-to {
  margin-right: 1.5mm;
}

.mr-4 {
  margin-right: 4mm;
}

#party-addn-field-container {
  display: flex;
  flex-direction: column;
}

.party-addn-field {
  display: flex;
  font-size: 11px;
  line-height: 14px;
  flex-direction: row;
}

/* Items table */
#items-table {
  border: 1px solid black;
  border-collapse: collapse;
  border-spacing: 0 !important;
  margin: 0;
  padding: 0;
}

#items-table tr {
  padding: 0.35em;
  page-break-inside: avoid;
}

#items-table th,
#items-table td {
  padding: 0.625em;
  border-right: 1px solid black;
  max-width: 75mm;
  page-break-inside: avoid;
}

.items-table-header {
  font-size: 3mm;
  font-weight: 500;
  background-color: rgba(247, 144, 34, 0.2);
  border-bottom: 1px solid black;
  min-height: 5mm;
}

.items-table-info {
  font-size: 11px;
  font-weight: 400;
  justify-content: center;
  word-break: break-word;
  vertical-align: top;
  padding: 2mm;
  padding-top: 0.5mm;
  padding-bottom: 0.5mm;
  flex-direction: column;
}

.item-serial-number {
  text-align: center;
}

.item-serial-no,
.item-imei {
  font-size: 10px;
  margin-top: 2px;
  color: rgba(0, 0, 0, 0.7);
}

.item-hsn,
.item-quantity,
.item-mrp,
.item-rate,
.item-charge-rate,
.item-additional-info-rate,
.item-discount-amount,
.item-tax-amount,
.item-sgst-amount,
.item-cgst-amount,
.item-igst-amount,
.item-charge-tax-amount,
.item-additional-info-tax-amount,
.item-charge-sgst-amount,
.item-additional-info-sgst-amount,
.item-charge-cgst-amount,
.item-additional-info-cgst-amount,
.item-charge-igst-amount,
.item-additional-info-igst-amount,
.item-cess-amount,
.item-total {
  text-align: right;
}

.item-discount-percentage,
.item-tax-percentage,
.item-sgst-percentage,
.item-cgst-percentage,
.item-igst-percentage,
.item-charge-tax-percentage,
.item-charge-sgst-percentage,
.item-charge-cgst-percentage,
.item-charge-igst-percentage,
.item-cess-percentage {
  color: rgba(0, 0, 0, 0.6);
  text-align: right;
  font-size: 10px;
}

.items-addn1-column,
.items-addn2-column,
.items-addn3-column,
.items-addn4-column {
  text-align: center !important;
}

.items-discount-column,
.tax-column,
.items-hsn-column,
.tax-sgst-column,
.tax-cgst-column,
.tax-igst-column,
.items-cess-column,
.items-qty-column,
.items-rate-column,
.items-mrp-column {
  white-space: nowrap;
}

.nowrap {
  white-space: nowrap;
}

/* Additional Charges */
.item-charge-dash,
.item-charge-label,
.item-charge-value,
.item-additional-info-dash,
.item-additional-info-label,
.item-additional-info-value {
  text-align: right;
}

.item-charge-label,
.item-additional-info-label {
  font-size: 11px;
  font-style: italic;
  padding-right: 1mm;
  font-weight: 500;
}

/* Tax Table */
#tax-table {
  border: 1px solid black;
  border-collapse: collapse;
  border-spacing: 0 !important;
  margin: 2mm 0;
  padding: 0;
}

#tax-table tr {
  page-break-inside: avoid;
}

#tax-table th,
#tax-table td {
  border-right: 1px solid black;
  max-width: 25%;
  page-break-inside: avoid;
}

.tax-table-header {
  font-size: 3mm;
  font-weight: 500;
  background-color: rgba(247, 144, 34, 0.2);
  border-bottom: 1px solid black;
}

.tax-table-sub-header {
  display: flex;
  justify-content: space-around;
  align-items: center;
  border-top: 1px solid black;
}

.tax-table-sub-header > div:last-child {
  border-left: 1px solid black;
}

.tax-table-rate-header {
  width: 30%;
  display: flex;
  justify-content: center;
}

.tax-table-amount-header {
  width: 70%;
  display: flex;
  justify-content: center;
}

.tax-table-info {
  font-size: 12px;
  word-break: break-all;
  padding: 0.5mm 2mm;
  text-align: right;
}

.tax-table-sub-info {
  padding: 0;
  height: 1px;
}

.tax-table-sub-info > div {
  font-size: 3mm;
  word-break: break-all;
  display: flex;
  justify-content: space-around;
  align-items: center;
  height: 100%;
}

.tax-cgst-rate,
.tax-sgst-rate,
.tax-igst-rate {
  width: 30%;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding: 0 0.5mm;
}

.tax-cgst-amount,
.tax-sgst-amount,
.tax-igst-amount {
  width: 70%;
  display: flex;
  justify-content: flex-end;
  height: 100%;
  align-items: center;
  padding: 0 1mm;
  border-left: 1px solid black;
}

/* Amount in words */
#amount-words,
#foreign-amount-words {
  display: flex;
  flex: 1;
  flex-direction: column;
  min-height: 5mm;
  align-items: center;
}

#amount-words-container {
  border: 1px solid black;
  padding-bottom: 4px;
}

#amount-words-label,
#foreign-amount-words-label {
  align-self: flex-start;
  padding-right: 2mm;
  font-size: 12px;
  padding-left: 2mm;
  padding-top: 1mm;
  padding-bottom: 1mm;
  font-weight: 500;
}

#amount-words-value,
#foreign-amount-words-value {
  padding-right: 2mm;
  font-size: 11px;
  padding-left: 2mm;
  flex: 1;
  align-self: flex-start;
}

#amount-words-container {
  display: flex;
  flex-direction: row;
}

/* Misc Details */
.misc-details-container {
  display: flex;
  border-left: 1px solid black;
}

.bottom-content-container {
  break-inside: avoid;
}

.misc-details-container > div {
  flex: 1 0;
  border-bottom: 1px solid black;
  border-right: 1px solid black;
  overflow-wrap: anywhere;
}

#notes-label,
#bank-details-label,
#tnc-label {
  padding: 2mm;
  padding-bottom: 1mm;
  padding-top: 4px;
  font-size: 12px;
  font-weight: 500;
}

#notes,
#tnc {
  page-break-inside: avoid;
}

#upi-scan-label {
  font-size: 12px;
  font-weight: 500;
  margin-bottom: 8px;
}

#notes-value,
#tnc-value {
  font-size: 11px;
  word-break: break-word;
  padding-left: 2mm;
  padding-right: 2mm;
}

/* Bank Details */
.bank-details-info {
  display: flex;
  font-size: 11px;
  margin-bottom: 4px;
}

.bank-details-info-label {
  padding-left: 2mm;
  width: 30%;
  min-width: 30%;
}

.bank-details-value {
  max-width: 70%;
  margin-right: 2mm;
}

/* UPI Details */
#upi-details {
  display: flex;
  justify-content: space-between;
}

#upi-details-meta {
  flex-grow: 1;
  font-size: 11px;
  padding: 4px;
}

#upi-id {
  word-break: break-all;
}

#upi-qr-code {
  height: 18mm;
  padding: 2mm;
}

#upi-scan-desc {
  margin-bottom: 1mm;
  color: rgba(0, 0, 0, 0.8);
}

/* Signature */
#signature {
  page-break-inside: avoid;
}

#signature-img-container {
  margin-top: 8px;
  height: 15mm;
  text-align: center;
}

#signature-img {
  height: 100%;
  max-width: 100px;
  object-fit: contain;
}

#signature-label,
#signatory-name {
  font-size: 11px;
  text-align: center;
}

/* Total and party balance */
.items-table-total,
.items-table-total-foreign {
  font-size: 3mm;
  font-weight: 500;
  background-color: rgba(247, 144, 34, 0.2);
  border-top: 1px solid black;
  text-align: end;
  word-break: break-all;
  padding: 0 1mm;
}

td[class^="items-table-tax-total-"],
.items-table-balance,
.items-table-received,
.items-table-prev-balance,
.items-table-total-payable,
.items-table-tax-tds,
.items-table-curr-balance {
  font-size: 3mm;
  font-weight: 500;
  border-top: 1px solid black;
  text-align: end;
  word-break: break-all;
  padding: 0 1mm;
}

/* Highlights */
.highlight {
  border: 3px dashed #de776f !important;
  background: rgba(245, 212, 209, 0.2);
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}

.highlight-padding {
  padding-top: 2mm;
  padding-bottom: 2mm;
  padding-left: 4mm;
  padding-right: 4mm;
}

.plus-missing-field-text {
  font-size: small;
  display: inline-block;
  vertical-align: middle;
}

.plus-missing-field-icon {
  margin: 2mm 4mm;
  display: inline-block;
  vertical-align: middle;
}

/* Page branding */
.page-branding {
  font-size: 2.5mm;
  display: none;
}

/* MBB Pay */
#upi-mbb-container {
  margin-left: 1mm;
}

#mbb-pay {
  margin-top: 8px;
  margin-bottom: 12px;
}

#upi-apps {
  margin-bottom: 0px;
  margin-top: 8px;
}

#payment-link-container {
  display: none;
  line-height: 23px;
  margin-bottom: -8px;
}

#payment-cta {
  font-weight: bold;
  font-size: 2.5mm;
  color: white;
  background-color: #bf6200;
  border-radius: 1.8mm;
  padding: 1.5mm 2.5mm;
  text-decoration: none;
}

#payment-link {
  color: #bf6200;
  font-size: 3mm;
  margin-left: 1mm;
  text-decoration: none;
}

/* E-Invoicing */
#e-invocing-container {
  margin-top: 8px;
  border: 1px solid #000;
  padding: 8px;
  display: flex;
  flex-direction: row;
  page-break-inside: avoid;
}

#e-invoice-qr {
  height: 100px;
  width: 100px;
  margin-right: 8px;
}

#e-invoicing-info-container {
  flex: 1;
}

.e-info-container {
  font-size: 10px;
  margin-top: 8px;
  display: flex;
  flex-direction: row;
}

.e-info-label {
  width: 100px;
}

#e-invoice-description {
  font-size: 10px;
  margin-top: 12px;
}

#e-invoice-details {
  font-weight: 600;
  font-size: 12px;
  text-align: center;
  margin-right: 116px;
}

/* Common classes */
.bold {
  font-weight: 600;
}

/* MBB Logo Container */
#mbb-logo-container {
  width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
}</style>
    <style>@media screen {
  .page-header {
    height: 10mm;
  }

  .page-footer {
    height: 10mm;
  }

  body {
    padding: 4mm 10mm;
    width: 190mm;
  }
}

@media print {
  html {
    background-color: initial;
  }

  body {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .page-footer {
    width: 100%;
    position: fixed;
    bottom: 0;
    padding-bottom: 2mm;
  }

  .page-header {
    width: 100%;
    position: fixed;
    top: 0;
    padding-top: 2mm;
  }

  #main-header {
    display: table-header-group;
  }

  #main-footer {
    display: table-footer-group;
  }

  .page-header,
  .page-header-space {
    height: 11mm;
  }

  .page-footer,
  .page-footer-space {
    height: 9mm;
  }

  .highlight {
    display: none;
    visibility: hidden;
  }
}

@page {
  size: A4;
  margin: 0mm 10mm;
}

.page-header-tagline {
  font-size: 3.5mm;
}

.page-header-sub-type {
  padding: 2px 4px;
}

/* Company Details */
.company-logo-container,
#company-logo {
  height: 23mm;
  width: 23mm;
}

#company-details-content {
  text-align: center;
  align-items: center;
}

#company-mobile-number-content,
#company-email-content {
  padding-right: 16px;
}

#dummy-div {
  height: 100%;
  width: 23mm;
}

/* Item Details */
#items-table {
  margin-bottom: 2mm;
}

/* Misc Details */
.misc-details-container {
  flex-flow: row wrap;
}

.misc-details:nth-last-child(5):first-child,
.misc-details:nth-last-child(5):first-child~.misc-details {
  flex-basis: 30%;
}

.misc-details:nth-last-child(4):first-child,
.misc-details:nth-last-child(4):first-child~.misc-details {
  flex-basis: 40%;
}

/* UPI Details */
#upi-details {
  display: block;
}

#upi-details-container {
  display: flex;
  justify-content: space-between;
}

.sub-details-class,
#invoice-main-details {
  min-height: 12mm;
}</style>
  </head>

  <body>
    <!-- Page Header -->
    <div class="page-header">
      <div class="page-header-type">
        <div class="page-header-type-value"></div>
        <div class="page-header-sub-type"></div>
      </div>
      <div class="page-header-tagline-container">
        <div id="mbb-logo-container">
          <a href="https://mybillbook.sng.link/A1sl1/kmwx/t5ek" target="_blank">
            <img src="mbb_logo.svg" width="151px" />
          </a>
        </div>
        <div class="page-header-tagline-value"></div>
      </div>
    </div>

    <!-- Main Content -->
    <div id="main-content">
      <table>
        <thead id="main-header">
          <tr>
            <td>
              <div class="page-header-space"></div>
            </td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="main-container">
              <!-- Theme Content -->
              <div class="page">
                <!-- Company details -->
                <div id="company-details">
                  <div id="company-details-meta" class="business_details" data-subsection-id="0">
                    <div id="company-logo-container">
                      <img id="company-logo" />
                    </div>
                    <div id="company-details-content">
                      <div id="company-name"></div>
                      <div id="company-address"></div>
                      <div id="company-highlight-label"></div>
                      <div id="company-contact-details">
                        <div id="company-mobile-number-content">
                          <span>Mobile:</span>&nbsp;
                          <span id="company-mobile-number"></span>
                        </div>
                        <div id="company-email-content">
                          <span>Email:</span>&nbsp;
                          <span id="company-email"></span>
                        </div>
                        <div id="company-pan-number-content">
                          <span>PAN Number:</span>&nbsp;
                          <span id="company-pan-number"></span>
                        </div>
                      </div>
                    </div>
                    <div id="dummy-div"></div>
                  </div>
                </div>

                <!-- Address details -->
                <div id="address-details">
                  <div id="bill-to" class="party_details" data-subsection-id="2">
                    <div id="title-bill-to" class="title-bill-ship-to">BILL TO</div>
                    <div id="bill-to-company-name"></div>
                    <div class="meta-bill-ship-to">
                      <div id="bill-to-address-container">
                        <span class="field-bill-ship-to">Address:</span>
                        <span id="bill-to-address"></span>
                      </div>
                      <div>
                        <div id="bill-to-mobile-container" class="mr-4">
                          <span class="field-bill-ship-to">Mobile:</span>
                          <span id="bill-to-mobile"></span>
                        </div>
                        <div id="bill-to-pan-container">
                          <span class="field-bill-ship-to">PAN Number:</span>
                          <span id="bill-to-pan"></span>
                        </div>
                      </div>
                      <div id="party-addn-field-container"></div>
                    </div>
                  </div>

                  <div id="invoice-details-meta">
                    <div id="invoice-main-details">
                      <div id="invoice-number-container">
                        <div id="invoice-number-label">Invoice No.</div>
                        <div id="invoice-number"></div>
                      </div>
                      <div id="invoice-date-container">
                        <div id="invoice-date-label">Invoice Date</div>
                        <div id="invoice-date"></div>
                      </div>
                      <div id="invoice-due-date-container">
                        <div id="invoice-due-date-label">Due Date</div>
                        <div id="invoice-due-date"></div>
                      </div>
                    </div>
                    <div id="invoice-sub-details" class="sub-details-class">
                      <div id="invoice-addn-field-container-1">
                        <div id="invoice-addn-field-name-1"></div>
                        <div id="invoice-addn-field-value-1"></div>
                      </div>
                      <div id="invoice-addn-field-container-2">
                        <div id="invoice-addn-field-name-2"></div>
                        <div id="invoice-addn-field-value-2"></div>
                      </div>
                      <div id="invoice-addn-field-container-3">
                        <div id="invoice-addn-field-name-3"></div>
                        <div id="invoice-addn-field-value-3"></div>
                      </div>
                    </div>
                    <div id="invoice-sub-details" class="sub-details-class sub-details-row">
                      <div id="invoice-addn-field-container-4">
                        <div id="invoice-addn-field-name-4"></div>
                        <div id="invoice-addn-field-value-4"></div>
                      </div>
                      <div id="invoice-addn-field-container-5">
                        <div id="invoice-addn-field-name-5"></div>
                        <div id="invoice-addn-field-value-5"></div>
                      </div>
                      <div id="invoice-addn-field-container-6">
                        <div id="invoice-addn-field-name-6"></div>
                        <div id="invoice-addn-field-value-6"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Items Table -->
                <table id="items-table" class="item_table" data-subsection-id="3">
                  <thead>
                    <tr>
                      <th scope="col" class="items-table-header">S.NO.</th>
                      <th scope="col" class="items-table-header items-type-header">ITEMS</th>
                      <th
                        scope="col"
                        class="items-table-header items-addn1-header items-addn1-column"
                      >
                        ADDN1
                      </th>
                      <th
                        scope="col"
                        class="items-table-header items-addn2-header items-addn2-column"
                      >
                        ADDN2
                      </th>
                      <th
                        scope="col"
                        class="items-table-header items-addn3-header items-addn3-column"
                      >
                        ADDN3
                      </th>
                      <th
                        scope="col"
                        class="items-table-header items-addn4-header items-addn4-column"
                      >
                        ADDN4
                      </th>
                      <th scope="col" class="items-table-header items-qty-column">QTY.</th>
                      <th scope="col" class="items-table-header items-mrp-header items-mrp-column">
                        MRP
                      </th>
                      <th
                        scope="col"
                        class="items-table-header items-rate-header items-rate-column"
                      >
                        RATE
                      </th>
                      <th scope="col" class="items-table-header items-discount-column">DISC.</th>
                      <th scope="col" class="items-table-header">AMOUNT</th>
                    </tr>
                  </thead>
                  <tbody id="items-table-content"></tbody>
                </table>

                <!-- Amount in words and Misc Details to keep together -->
                <div class="bottom-content-container">
                  <!-- Amount in words -->
                  <div id="amount-words-container" class="amount_in_words" data-subsection-id="4">
                    <div id="amount-words">
                      <div id="amount-words-label">Total Amount (in words)</div>
                      <div id="amount-words-value"></div>
                    </div>
                    <div id="foreign-amount-words">
                      <div id="foreign-amount-words-label">Total Amount (in words)</div>
                      <div id="foreign-amount-words-value"></div>
                    </div>
                  </div>

                  <!-- Misc details  -->
                  <div class="misc-details-container">
                    <!-- Notes -->
                    <div id="notes" class="misc-details notes" data-subsection-id="5">
                      <div id="notes-label">Notes</div>
                      <div id="notes-value"></div>
                    </div>

                    <!-- Bank Details -->
                    <div id="bank-details" class="misc-details bank_details" data-subsection-id="6">
                      <div id="bank-details-label">Bank Details</div>
                      <div class="bank-details-info">
                        <div class="bank-details-info-label">Name:</div>
                        <div id="bank-details-name" class="bank-details-value"></div>
                      </div>
                      <div class="bank-details-info">
                        <div class="bank-details-info-label">IFSC Code:</div>
                        <div id="bank-details-ifsc" class="bank-details-value"></div>
                      </div>
                      <div class="bank-details-info">
                        <div class="bank-details-info-label">Account No:</div>
                        <div id="bank-details-account" class="bank-details-value"></div>
                      </div>
                      <div class="bank-details-info">
                        <div class="bank-details-info-label">Bank:</div>
                        <div id="bank-details-bank-name" class="bank-details-value"></div>
                      </div>
                    </div>

                    <!-- UPI Details -->
                    <div id="upi-details" class="misc-details">
                      <div id="upi-details-container">
                        <div id="upi-details-meta">
                          <div id="upi-scan-label">Payment QR Code</div>
                          <div id="upi-id-label">UPI ID:</div>
                          <div id="upi-id"></div>
                          <div id="mbb-pay">
                            <!-- MBB Pay -->
                            <div id="payment-link-container">
                              <a id="payment-cta" target="_blank" href="">PAY NOW ></a>
                              <br />
                              <a id="payment-link" target="_blank" href=""></a>
                            </div>
                          </div>
                          <!-- UPI Apps -->
                          <div id="upi-apps">
                            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAv4AAAAyCAYAAAAk0N9fAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACf1SURBVHgB7Z19jBzlned/T9XMMPgFmhy7gd2cXWwwsOgk2tgmSIfkGhK45C+PE3TaZBOmBsMy2IZpS/cHtyjnntsj5I/Tur2AMxyQ7smuQiKxYXzSKVmD4kIXrQg2uP1PQpZEFIiIbMJC4xc8THfVs79fdfe4X+rlqe6a6eru5yOacVc99dr18n1+z++FgUQiWXXe02/VVaWS5kzZyYCn8ZPiwFINTaza5zRONz+215nXmGYJJBLJ4HH8ggblSh6A68BYFu7YOAeSvuS+mX2LDJSbwtopoE7Mz+csSCD37d2bZo76Qlg7BmA+Nf/4tNe8v3rgwUPAYRIGEcZLjLPiJ6DOFQR+w7+6f/+HeLJSgY04lP7PU09cEdTkXzNjk5/OLS8Gtdn46A7j7CMnChCBEZBIJKsCin1NVe0MivwpDnaKHpv4b3cep0doM1rto2Ob2fXqeXj/8zsK3FYX/sh8xQSJRDIYHD+Xhkr5OP6rKgw4N/D/Uvj3IUYmk2JLlV1Qe677gU9+K6min2AVpoPCtbB2nPHT/jNJ9Ievoy/h9B9Pj/HKpDGT2Rok/u+d2a8DhIh+cM/ly2FtmMLy72XGi1fnliyv+esf3ZFmDA6lsunFUrYobCiUwl8iiZma4Edrnq3Tdw+RL4SD7xVQbeP3n99h2rY6fbX5igWrhGHMaBCZ8VKhkJOjEhKJKK6lv0yW1VBhIEk+Yx9XUDALNTUhwXCF7RJ5S40wbnpNRzGsAVQ0GHTQin8J2AfxX9N+TfBy0EEIHmjJR8GvY38jpSrgu71RgDTqhJQzOpbBr1kQRAp/iSRGUKTPMqhkW9x4ukXHjsRbf7j9luwf/fTVVbEMchXIAqlBJJZgas/9KPxZkXFYwJ6KWSjMWyCRSLypVA5B5PtMklgUPgkChh3u8KOQYJiAWKVRiyNHjhS95o3WjFzDgBMyqoFifadIJ0qFMTNoPmPVawvXZ2AnYM7L6m8DTLnbYnwWrf45Uat/rMLf0PIpGMMLiDkad1yfN62liYXDEm9jl8hEzVAsWNPSWigZCC5a+UHv1MIfBg4NZrFjYaD1f2I1rf/RcDs4Omd436tg3X3PTOF7352XbgsSSSsvnj0InA+mD/TQouwMc/MhlteNmJBQaq4pIpj+sxyhDtCgU3P90kMbcijOPxXs+qUosJPXLi0/qz/q6XTtn5Gs/l0Lf1fsX+IYKPR3ceo10o5y/7Ev90BsPAgco5jakjcZOAuFN/cUQCLpU2qivwOLeUdoI6pDVsPdkDw0fBBlp/Y8MMlsvlta/yWSGi+dmwLHyYJkYBB1b0HJYxZyyXWJRLku1Bl1wPb1SWec7RwW3Y+H6XseRF2/GGPFoPlo4ddQK9dFvafVf8PfbNeh0WUwgtVfzDvNAxL8d1+XP8hH4S0U/SREdIgOWkeVPHYA3qJ1uZ0IiaSPWGPRjx1ndvqcvW4aEg1Pk+tQZ3EDEskAcZyn0NJ/CEV/ASQDhah7S5BQTAQMdoo083NNcUcM2PDErDhBIx+K2IieDXwhsIHSrqdrVv+LTRTWuq261T+Ujiz+xg15nduQZzw2saPhurLYiTCMLc/OyREAST/QC9H/sbNOX5s0n+S3zw8Ht3FSwJQ0+TRC+znQuMooiHErSCTDBIn9yrk0vt0noXJ2Cs11vRdFP76ggVJOuwKNQwkUVoI7NppCy9LxLJ+9KO4Ys2BkQxEm2JC76oq5tzgJDuylUQvGK+nQhgGuKaIjBgMB3jvPPPWE6d9AzPWrMj4SaPFXOLnMt266zerf3mETtPpHFv5onT+Eol+oV9EBWm0E4KaFN6cPgESSYFD0ZyG66DfxRXAab+yirXCrPpE5kFaZspODt8VgbUW/u8VS4bvzBZGWrmVfxY47Ph5a1pE27pnJ4nqyIFlztG17ZzmwLHSbQYaj0GPcQuPMURgbXbReEU9LqN06o/Gymsd1aBAF3B7uO94nThHGxkyRbWrb9k3hNZiD4OMtMnt0wip6u15s3raPOvJ6wPIlznnundePNMexkP8+8Iwr8stnq9NoPD1cA7i7DsfOtLa0YHR0AiYutVamUEagSvlUSEeihMJ8tyvqqx2Q2ep+lRtcAqDqc/vimRJwZRFG1bmm7dQ5dsbAxlN4PM0ihJalYzx2FsULGgfuvKwAQ4iQe0uoUOwtwqMWLHDUIrSGwaAQlIKTaiGAI5ASVcT1y2cUpu7rn3rsVs3htleHTcjXX1j4kxuOM+qmclqLHzmD4l9nZdhdsKYtkEgSxu9v32FAm9ANpGDb6lxAUK6JnxyNIigjFQNfKivDemsv+qNR8+U3jD0zJXyozTbOwwflrGFkcjLt59rDmWLgxdO9tZm5LzPNDeAulw9t2r4vp1RG5/zEcxPLIwYuj8JRTAE3oDHgOkfFgduETdv2FZRR3GZABwDbZgSONw3KMnWuC20bTO/XORXUCibFaDutefc5z0K8aLC8bEDjC7y8nIHwbGFo0edT8NK5m3C0IRvYSXDnOQaU8XPsXAFGywdg4oqSW2dg2XVNuim458JJeOSxg4DPKmU33LmhCENCnLnae4vYqIUNsOg1vRrMamtQLT7Zv9BzQ8hdyT8FZ7UWAoTCWHCGp3cz6/G+cs9p+9ZrVv8/d2zd92cTsPoLCX/jhryGVv7jDJgW1O62L18Lt+2+Fjb9+afc78cWfgGLj3f8LEjzUTiOHY6tMvuPJEmQOAdmHxRqjNZSW3Gmr37ppCnSvNYxyOI2CqriHMcb/aMki/5GCs/OZ6b2PLCzJghqoFBRljyFlmSVWSUXE9TwGa5WJrVbMxNRrP9dbRNfQ7xc0bUde3dbJ7xTCq6hS01vXHfo+EQCKBlMgoNiPhLUAVB17ADkoOJkI/psa7j8KexsGPCFDQswBIi7twTnau813Y5a1CzX10Cfc9/M/uMiKU2DUnB2WwthZb5CWYH810RWfwfYFQGd8lCrv1Bwr2O7F68W1ObKP90AX/vrW+CGz10F6y4bcz+TD6bhzqkboQs0Ev8gkSSIDfq7ZOnXwtqRpf68s26rqOhvhDoAo87y1n4R/XU84wIashNIBgWu8XL5BS2dWUMRjNt02HEU//J6CqLzDpCGb/tcx8tTAPM/nREUxH1OlwGxSUA0KDf5oxbd4Y5aiCSnoTiHgIq93dZCqKMwtgsCdwOMP3OWNkPghlyrv+9vGyr8yacfdzbUvef9356Db3/jJ/D+u+eapn/tkVvg5i9sgi5I0z6ARJIA+HFIXXrbe8bGv3wTlMuXAxoyq1vRfoVZLPWT6HdxxtssXFwZHh/QISPtKJUMrC0p7ihr3OGQCMMgD8c/HOjfphoQK2DMCBGKvSauCrP9jpuCU4CgOId4aiEAfJjB5xsP/13+57nfhl1/gRl+AoW/sSVv4B/hB/s7v/zAU/zf++3bVtx/OiRjXJvXQSLpMeWyOsmBaSObzgGJf/XTF9raYM+/ZDvKRN+J9hjoxJffMPamDWPGoEDglQ99N2Z0kCQahpaltRfhnDLUGCBJIilYVta6M7imxBQQ23M49P+oRSwIp+AEf//+GGohEMvqmA4CfK583v0EEmD19/Xxp2BevDDE/JgbqFv+H/77L8KVn9ngTiO3n4eO3A7f/vpP3PmdwNGSIP39Jb2GKWwloJcs/pfd8wYs/ewquPD/r15pYzM+l5zKusmERL2jwiQDPsUpLWgravXP1J778X5ni8xWDhcK7UOkxr0zOlpImoKs0Rr3smhGolam9szkW6ctPDuf8LoJPSVVE+E5WEPwfbBrrbcpEYSxWbT659xA4QGEgaN3ExCbBEQrzJJrSpJHLeJBLAXnM/MB2ZnI9Usgf0FoJ8pRJoXieJAHP/5X+PnlfxbUxNfX39fi74y52Tk06AAvtx+KAXj4H74I6zaOQYdoMLZqaUQlklDIzQc8hkfHb/sdrPvCu8DGbdfF56qXTg6tIPGy0uNz7KOL8zOpqXseOEQFvpibASgsS4k73+Cqc4pEOS3fNLviZpMwGj+c8Y5cA3GkwWhdl+AzeLhhPXHl0qW7T2JJAY6MwsCiCFnKA4VijxF1b4EE1yCIAzcFJ4il4PSbF6vrl2DsCNGN1V/xb++++DrGT/yT5b9T0LI3K6v7SnpFpTLie3NfsuMPrvVf+cy5ozDEoBXfaJvIq5YvyvfvqEsmPlw67cBjB2DpVKP4r6USNZubsRSNBEBEuMJm2ybaLWkbJW2g9T3gpcdX0eq7rIEkofBwIdSHxCEUE4Ggewt3+EC/z9wUnCLtAlJwxuX69V5mXIOIxnay+ofg6evv6epDvv28Q2t/I15uP5T1h3z+n3n4Z9ABKbjEFRaRLaqUkhQcfEHVMxYwKOHRW4VfTBcD2hvuF+5Yw1RNOOq5GiL0oJmu68/X3yzA90CY2x89FznBuR8c+NHjj2zsmaXN2PPAJO5De20Dp/oSxE7BIvOtA+IKRGxH1UApF7ui+YgHDcU/VQSeqE/AB+pca0AUfj8IEV6+FGfAudO6PbPWsZAEwQNGbZzRAlPLdF6Ds1DUVyUccAhktqL1JuSZxEwIrwEQcZXMgt5Tqn00iAS7HAaQuHK19x4x95bldSMmDDDxpODsrhbCCkqEZ1+NutX/56Pr/Rt55PX3FP5coDARBes+9GRn1nvK93/DLVetfP/47LLr/09/w+COuG8nCVjHhgz+JFPcbklbRdd82c1aZDFw5tqEvQ36xRgHBYzr8lrhX6azMKB0da6GBM64xoJv8NLYneWeCREGSs+y55CLDwcn3/oAZGSUR/FsGPel8TLyEgNUEXau8N2nCh7r9KkIDDq55dT9+AvPzJtTe2ZMaBaNOi0vKtwd1cm0/rK4X8OSk7yAPaUWaxRLoSWfnn9djbDWinwZou217ft1znn/pXC+c+MEvHhWb5rmuEWBXhBanrGJpu8cO8BdFcTih+G8k4XdNT97qsLL4JBwqk4OFihs2q0ATPz4Qw0UBdfBIsf9DRJx5WrvJbFWmO1z4kjBGVcFZ1zPZAeFDjvy9W8T/rWgXh1CoIDduhW/E1qXvfmOTfCzH/1aZFGd9lEoyNeBLAvvxGgclPzd1+U3f+9fpn2H9Tn9uINMjOdqUMEHQLDVkve6emEMVVojUHW5WUpzFQ5WnxltTz+r7ipTKDxdxPZbQV3K1qv74t/Tij2u+2UCWqkIfO+MVbPgr8AVTuso1L+TSHcryzaiuIIzCwLHweHCrpb9tzoNEO47UPRbrx8ptE7Wbt6P4p+vqdCzTj5hbt62D/qSukiuQ2JZVTtbthvoOfRfLm8e3r/zsgK8+BHer0ws/gVH0Zr26UtXWED30rGzuwbVjSeMKAGxYbnae8ngjFp0RxwpOOOs4KwwZycXjextoBOrf7vFfxyHT20I5eMz4db5VWPM9alahBhB4ZA1rs9/VPjVdGQ3omFDnitvGINeW0fiFP46WtEDzQ8cloJm0wvwQKHwHav+vSbwM2iJz2FnIa/YMC2S/hMt+tmpPffjaAa76MbEWZrcc+qZfkikY5tDjcHC+LCdRVGfC92GW1m42V2FRiFg6HEs6OBF1A3arTMaL4OkK/hpz8kVZxE7ImLC37ZN71U7p/FBN5TC3w2IFSp5mmz//m5HLSiYdRQqeYFV4OlKhLuaJxz4VqF2AXEOcdVCeC8zTh4mHb+/o1r924W/I3YglLP/f+z6v67LD1n/qWpvHeoUfP9br7YtQ779jXz/0VdX3Htef/EdEIapGnQACrNFWIYD7pcRtF5TsZEG30XuwEEcTSjIlKHyXEm6gZeYgqL/6e94PuxqlvwJiACz1TmuOpNNExXXp3rFsoZDpYdr7in1KSlQPjEgxDXQDerljX0cXgKHfLYlcaPpOEpUqqBwdDSv+bzMMiDpDsY+BEn8uAGx4ZI56QGx3bq3UDArExS8XCTHZcIJinOgWgginaiwNJ44ujLZjZElqtXfy8dfA0FI/NOHsvU0CX8U815uO63C//WX3uksr7/Tcfq40yhUrdq/LaoLwEfhLbjY00qhyCVrhgmS5nN1Q36C23AKhvhc4UPs7WAf/3C/yUGn6r7jGIVnn451qJss+zgCYUHj84m3nG9nPAfqhdkWq39gTJAbm8CbXRfwN16UQb3xQWLfObM8y0Ax+NmyVq3RIBOlSvoNsYBYRRlJrJtPPBVmnclhuX+D4hzirIWgKLCTd9lHimL1bxP+uHGh7Au9hCqnQgyQtXpqS55uUn1louonZrk2dV3+BajmayVhUcJftMgUOFx4Y9r02wYKZh0F8xQ095DpQiqyMsw1iOuLy1DK0nFIOzYVOHI7OdrKNkOWXVnH9c9muKOQ6KnvL0HtzbBlvcBjtMLOlbEln3aquc93QXMH0mTgLPR7UDAOW5aC7k26LinXP5volctPT4dVTfKzX4jgF3+xiBfFz5AFuNHdhrL8sGK1IwEkxE00i5SaLPNKc7AwufQY0zMLXIHGtJw6pfakAGCvfaD0o22vMJnCMza0bXtnUexnGaPftv+tf5LhhNxbACpaWDsSikkueBVHhVmhYNYBQcH3j9+8uFy/KI0nF6kDEEIUq/8IDDmMwdvNo/y+flYaztMavqfoO4r6ybuvy2dbg13dIOkxyNN8n/WlcbTBaF3WXW4ULes2aB73VipoWXd5NzsPX+QOu8nzGCgX+ihMokifKLwZLT1n0Lm6+/r8LHcg5/M80DkoOnYcdi68OT0NfYrDeBEfeoFtXlm6Cm/g35nQA9BybUFsMDxWfji8mVMCe50p4qtfhzLykEsOpQyunk26qNpy6tC15Q4pcxVmXWu/iEmEKwX8pZrz8VfvQbNtP4wZrTVjEG7vqLT2x8Omm/flOXRXD2Z1CCsaJ5E0I5qrPUgoJoIuK8yKBrMOCoEpOONy/eogjacfolb/oRf+ceAGu16bf7nw64uWf2cURTAP7123BcqO401li7lbeQXZ4ihBFi2oYa5QlLnpOHYyronDR586G9jByYk0Na7Lv923aVFtuwiK/y2TO/+f4IcXPnsQ4B9NEOSnj2wQtp18/tFzpzgEWAYY/whig5dWI6vN1D0zeRT9BkRHE2lUcwkyoWFkiit8yjAy2bbOidcDl0WvETK4dC6QUfQfYiyJop/cv9islt5rWsWLPsxaOqNxtSx/e4kPMeVq7yHVCrOVcMsyVZh9ynvUQjyYtf8hF51n5h83/VvEUwtBoRo0MY2gvDoammmzxIFbYgMVkhoMXxSsUC3W0kxjUCEJYY/UmCWcdpg+AM1pH2uBsgEvWVaoLbvgtWzwdpmJ06aZ4hxoWbZeDK1rqLPRMqlE23O3C8250Kn6MvQpY3e6gaRtHaX3nHWw76P/TKKfvuq3PjepQczoj13QAkU/uEOwJiSYqXseOARBYrCaDtW8+Oms6isV9GqZkgJlKdO2OQatqSotP5egYYP88kkgQwdoN+818DfIQGLhKPLZqc3b9vH6B0U/xXr1rA6GJNkwkXTelKt9PjhXey+Jo8IsBbPCkIACecFvXpQKzqG1EFg85/TR9X8Cf7fuj4OalGwOE2cfOVFoM1+2uXMkEAbxuTQ4KIBZ88p9fiRmLrxpTNS/oYVfR+FwvKHBxfoC7Zb+EivD1rpfPQr0XIRAWQu3u+IeU7OuNy1r3JhPu1V127drtexzsWmfq9VOha1cfueq5tPfMNk5UPjVij9/YWpLnuJG9JX91fJa1BiDpEAdmXoeeuL18pXwv85udcV/nQpT8xAxa00Yim3PhlkFHM4juW6tJVX3Hu4hBnmJMXYYKuOeaTeN++5LA1cn8ZlEHVoNBPAq6IXXPS2fXVmvW3CseX3DmsITBf6hzTfvb66TcLZMz5eOLP6cKQd74c+PL+rTLEJyColEhDhztfeW7kYtRINZBwGy9j81/3jWt4GjpkWecWG1EN7NrMf12Bp0ycMb/yP84yWBl6gr+s8/csLVCO0Wfxa9BHprxV3K8kOfVQM7JxADFIyKL/sm0YpXvdDx19x6WoVK9cy3BWqwYqPQpUBZ3tqrZoKi5g13PVbTxHJtey3xCdiJO+2xzytwLl5WPeRcNV9xZcVs2Y/mYx3p35czCtCVh+IPlz7rWvobRX8Nffv3vxybxZOs/RDiNsHxQWV+M8YiQDHjpsxsx2I220p5+n2LeD39dJHmM5s6UuIjAIw7rQ9cjYJ8618oqLd1X4amYFc7KTxhWtOnQ9Gv7RCzhK0GCk9uznBJ/yIaEBuWq73XdDtq4QazDgHcTUaihhju+BQI4HAWqCdHlO7O6RmmCoh+Zi0vq1vrot/dblubCpXqhkhQ3n5Ky9ko9h86cjv83d6futPXbRyDTTd+CmLD6SyFJFkN796STyloqXa46+fe+uNZreI4BBIiF894VdBaIgsqrq9VZ5CgF4kCx/VzyirUNE2gOJvbDs+VcV3e/XfkczVmp2lkomGbm2FAGL2jYv7h2HrzifM36v/vk03+DRV2aPtzdxVPfvV5E7oErf2L+PYJFGIswWlV3cq4fKnteiUxLxpIS+2m9twPwjjrCqBeONiU2rNa/df0Ceo1QdIhDSOwNovNXzUyCnbK+9iVUJJQugyITQKxjFoo3eWaTzrcfQc4C0/Pt1cxb4WR/go5FeExAiQT2K5OPWxI9H/98mvglyOXBrQi0a9MLGVfsRqntgt/Gw++A89/yts/+eDFdzsV9vrfx++CVaESfVSiBvnAz9KJ9vrNGDiDNdTPYTIgq1AYWk0oRT5XnKsvgGAHox/50r99aQ7vfD20IePH0fJ/4OTXfpSDDtCzPMVGz78AAr7HTllJ8LXrIfpJy0fInlMT68JWaDe15z0zLQW9QKdOCChLetsCMoVnx+DIYcPIItN64eZDWCefMDdv31+ElroMEkmnxBEQmwTiqTArFszKFWer6owJj84mgfFxKOVyYpnpRDtRDjiBGZ4+zEBqmXcWLN2N6CfahH8tt70JEaO3jy38Am7bfS1c+ZlVdPFxYWbBMmK/qMi/t/Dr/s4zv1YM+7kiK/72H3zFBJF7BC3/237wlZtGuT33ylcXLRBk+3OTevmDxfwlpTu08NasYGYvtaCf4NHc9RyVslVFxKOgFwX51vz9V4jaCZE0oygNPsGMC3fOOLDDCmvxJ+bc8BhdFAZ/ywOUsQwkkhgQD4hlnRoj14RuK8y6wayOWDDr0z4VfweFuFy/ltUxvRMbybvKmCv6f6uOBbTyF/2EZ25CpsBR7kQT/uTu8+1v/AQe/vsvrqr4Z2AvQOdY0Bz8VarlK5+L6OLTL+CxwQHfuZXAYFALOjxXbgYhW/FeN4MSLt/3D4YRbk9XFPVUQN2HFfBBYdhM1bEDYCqKffjEf130PH49P5k6M65M4vCfW/Dtk//wD8BHfg/j7/9l4PqTbe0nlJIbGt4IE3f/8nLNEcG1+u+ZOdq4rEcmH9qXbp4pQw6zyNIOUWFQfOfkExmPOebmbfsolqijGAPaF23b/sMcuHT5kXQNjmzrYgGxPLHPkDgqzLIKEypWFRbMOhDE5frlKJNRPadERD/+jqfZ8jp9KWv6Gsi9k5J/AgXs6tILMtLDl/z5/9vtz8MNn7sKbrjlqhWf/3d++QG888YHbqegS6xuqr/iOZ6Dsmthqh9XaTVGD0Roy5CzCuD6i512aLo6V58oi/2atUcUst5v/8FdKLj5IZH2tWJVBndUY/sPv0KZn9zUoKwa64HClmvngGmtz9bly49BZf3rsO63/x2UypXtK3b4XPKt/WMWwFLTFDzeSRT0c2GWdlf0q11YcBk+y3hAp4HxYuGZp0yQdASzRyagE3hQdWuG83hHwp+wXnsig+IfpPiXdI+Ye0tlfCSxxqw4Ksxyhe0S0SsjjJswwMTq+hUxjWcU0V8KEP2E5+VA7j6MQXjVTh/e+PnvYPHxIjzz8M/cD7kB0bRuQet1171qOjYSpbXP6oj+tsxIPE0pLOvf3Hz7vMVvm4sFBYdst9S8Spj0qg9gXJefbNwfPyKcq+Z5Y+0ZaOiYabswQJz8i+dzaEKObm2vjhLo+JmsVTbV8YbV/Jo7I+/Dx3/6GNiXvtE8g7HFn35zYxYSTi1jj9k8laVI0JOw91vOTQGqckpd69smdNvVvPym33zmsI6fc8MOZ2zOKibTr5nEf3W0U2b6kXRGrLnae4kblBtOUIVZJuDWSiMGRwbczSeOWgjEe5lxDSK818Tce2BBRPQT/mVIlyGHRymcO3sNsKDSJ1U1Kc1lc/c4xUfh+NR1ecq1X6oF3DYKcquLgOWLVEdqDrVs95Rx/bOHcViphKMMaSrwxUl4jrpiqDNrXQutue0pKJhy9+P0l0FxUtxRduEx6zTPuDY/MUhuVSe/+nx2+3N3Ua/0IKwiJP7P/8ljcMkHk3DJh7vd9J18ed009AlUVIu3BzKRNf+tqT0zBWazo9V0nSzlKPwmbE959vWGYXaragWOXk3WZ9vuOoc4hWc3lJjCD7x94skCJBjr9SdzWnpmERRFx4tgNqwAnkTSyOC4t3RXYbYWzCqCCQOOuOtXSAVnRdyV/hfqpbD3sk2hov/MX58wQBDfy9q1+nNIjLCgLDKrZqGPGRK2zGkbMdFqBbYMaHGhopGMOI6t9pu1+vRrKLwP4W2fZ1VxXt+2HlwtOAKq2yFr3X8K0svTtqHRWsA6zjKUWEj8d2T574BPPrUIS1c+e5qXlQkzy/rifiDI8t5eUXcFsuy/QCMA9BfbZaHFwoTWpANVF5DOtg0eaXaHtWBXF1CxtTlmj15jnQhPeZcErOK8Zb1+pGC99uTWt197kmGHZSsew4TXR44OSBoh9xaRdkl2b4lj1EI0mNUB+2UYeBQh95ywCs6MM6FzSqL/G2GWfg6Ho4h+YiRoJglY47P5w1yJJzcy+fpTms+okIgu/CaRWWQs8BsRsSHLFM/8901UM+RMZyH6dj3BdeXwN9PCfjP3nMbUkaKiYsaW/AQeK6We1AKalqDcJ6M2ESHxv+O5L1v4lDyI1ngNVgm0XC+MjR3PmNnZvhH9dagQl3HvTD2fvjAoyg4UnvnOIo4MCMVTeK7DgaNt94Qz+BYqESirEf4owS9tFYoo9vt+GD/oGLTt+6fx2pQZgSSRAmIT7d4SR4XZAahjEAdRMhuFtVGYs5OHjBz88+iG0oMbN6XOKKp/IzQ4nnnk1SxEZCSsQeE305mpLXnq5XQ9TEoFve6cuhHWXVbtvVAwcBhUhn3hN/dkoBNsHG5R2MVLthyhZ67ij2ezQv0r47wtJytTcUTEhgz+gG4F3MKvDbM+ryaqDePafIGqrmKbm8jXH6qWcQrqPIoHt9jq9uKK6OvzB1ayxXDHatu3ZcixUepU1CrvthwX/WbGDflcbd9uWunxM1ZkjnscJrZpWqarc0XbfNPN1HMNdgAMztBSwqkD4Lpm0PEWGaCwKMNiv4zadMKJr/6ocOtzk2YZ1Cxjnack9ITiN2w299rXnu/rjlNN/JsosPIQ7kZo4XmcRtFvQpeg6G+y3skUng2g6CerOAw7FXzmqiCRxBIQmwzEKsz6jVoMSh2DOIjL9eu9zLgeVpPmx5dcVnpo4+Zgj4wORT8RKvwJVoYJ8hWHLv39Seh//1uvRlnEUspiQyJeoLglP6tF6AAS4PhnWqBNYKekJuxNiLLtX00HiruaeM50u29N7bs4V03reXO6QH9gSKnl6je2P3dXoeb3r0M3kOB32OENFyo5c3px1TpN2JGMJd5DhJrrzTXYAdDdInNugTKWQgGawqcmZXQpouBfqLVbYeHZ+WugA9wg4dZnlyzY1WvSWjqTsorN7gXarTMaL4db1UTQ0nsN35kKa4oXcRgZUni8nXVJ/yJYpTYoIDYJiFaY9Ru1iCuYdRCIK7MRdgwCry3O2eGHNmga/svf1awL0U8ICX8SmmhBnuC268rRteVfBLL0o+jXB9lCLBlcqMgX/jFxBEArMzWDt7n4qBmKfXxgLzoOHN34iW2upuCvU5hfe+t3WMaduMAH9iw010U3pbW/56S4WjmlbdtnNk7k+MyPo/Lvppv3HeIszPBxcTsRUyvLd9LAI1illsHB+2b2JzJtLIrxlEidGQh8BjtCHSA7BqNhkonT9UtRYCf3v7Tmrjp0IXvZt/iHvi26FP2EkPAnahbkrcZn87m4fP79IP/zjt17JJIEURsBcK9lKtB1bnwkDa4VxklxxlI4cng55/xtVKclhzmlMXDMV/5CvMKvJBjDmNHx/DZ1uOJICyzxgTMLmKhw51otnW3jNIgDhUE6njV50vexDhJ/yL0FoKKJtEVxvSaG0I4QvAGCgnIZZztDdT+H0jNPdVDEr4+Iy/WL0nhy7nvNzH36b5eyG/5muw4+rkC47PTZR14tQJcIC/86rv/4lnwRrylyY9AgXizKJNTmfy6RDAA1y70JQ5D2LClwtS2QWKbwXE3Y4ItiHIo/DZKBRdS9ZVDwC8qtpfEMHTHgjA9+Np+4XL/803i6ot9toni7t1dF/4kCxIBYH6YF8uNmZdhaS4dnQfeQa8McrXOQcrxLJJLeUSsOpjdOkyk8VxnbzQU+0K4wOFQ/0G4NEqfjuMK+g4Jy572DchWHC45m8CG4H8TSePrVQlhZi3c9mRXRX6N1WyXH5hNxiX4issW/Ts33PksfN5MLsCm8AHSIBDOZYh+FT5SC9OWXSCRx4qiQbbHRWDKF5+pCwbratn1Hw9IY9zGmdXKw3RqGHSH3lgEhKChXNJh10NN4irp+CVVwZs2i3gGYvvpvlwr176nHbtUcbjd2uEo2h4nz3zwZ60hqx8K/kXomF7cg1AikaTgDh0M3Q7srkIVC/zRUFAtsPEmWIcW+RCKJHbL2t4pPJoN61wbbzoKqUkYKkcDCvoLZo31TLVsSHVH3lkHBLyg3SjCr34jBoCCc2QiCMxu9m1mPgt7W6t9bRX91Im5rpbfFLJvz3ecfORG7+2Qswr9OzWpvgvRhlkgkPcTD2i9TeK4RVC1Xu3nvAc5YHlYTpqyp4QiPZ+7t4mCLnGEHhawWV4B54gkIyh2cOgZxIJbZyAk5FyMKdaTwCgNesh22++rcUlt7h9VdgZi1vKxMLGVfsWAV6MjHXyKRSJIKWftZu7VfFuxaQ6ggGL7idsOq+fszy3rtibXyLS4xBgfeOflEFiSDjWIPTcYmxpj//eMGs4aT9DoGceC6foVBnaj5YBdAhZHrFC+B40x4if4aO1db9Lv7AhKJRDJAOIqHfzmTKTx9WSXLOQlzZttbsdMV97kvMdvZHdQArW8fQQyQexizR7daJ5/MQa9hop0o7n3s4xE6YX5tu92HhPP0kSOUsdCEAYdcdC4dVw/4t4gnmLXfcV2/WPeZjT7MQIo7oJHo/+Nc2bNzuf7RHWn6ZVZb9BOxuvpIJBJJr0HrrNEyyWqtAjwM4HmYRkvUwZBGL1snV89yTm4/+MfQ0pkMqBW9WsOCb4ZO4XAanNFCa8XfVhTbxu2pl3PONIgAY5zWW3S3Mza6aL3ShWvPl66w4NhHh3GtwXVvOBdzQRt1srCspLCjFnD+mAV22buTMnFFCf7pozlcPljUOc5Rt+1q7EMfUB4f2T22VM4xFL8c4qkinRzwtwG+gKI/l/MJRL1v7940OOHHLRTM2ucojKfxGWKGtcPRk0LQ/DKMag4HtPSXLd91ODy1bKurLvqJfwdGcRKmb8adHwAAAABJRU5ErkJggg==" height="10px" />
                          </div>
                        </div>
                        <div id="upi-qr-code-container"><canvas id="upi-qr-code"></canvas></div>
                      </div>
                    </div>

                    <!-- Terms and conditions -->
                    <div id="tnc" class="misc-details tnc" data-subsection-id="7">
                      <div id="tnc-label">Terms and Conditions</div>
                      <div id="tnc-value"></div>
                    </div>

                    <!-- Signature -->
                    <div id="signature" class="misc-details signature" data-subsection-id="8">
                      <div id="signature-img-container"><img id="signature-img" /></div>
                      <div id="signature-label">Authorised Signatory For</div>
                      <div id="signatory-name"></div>
                    </div>
                  </div>
                </div>

                <!-- E Invoicing Container -->
                <div id="e-invocing-container">
                  <div id="e-invoice-qr-container">
                    <canvas id="e-invoice-qr"></canvas>
                  </div>
                  <div id="e-invoicing-info-container">
                    <div id="e-invoice-details">e-Invoice details</div>
                    <div class="e-info-container" id="e-invoice-irn-container">
                      <div class="e-info-label">IRN:</div>
                      <div class="e-info-value" id="e-invoice-irn"></div>
                    </div>
                    <div class="e-info-container" id="e-invoice-ack-no-container">
                      <div class="e-info-label">Ack No:</div>
                      <div class="e-info-value" id="e-invoice-ack-no"></div>
                    </div>
                    <div class="e-info-container" id="e-invoice-ack-date-container">
                      <div class="e-info-label">Ack Date:</div>
                      <div class="e-info-value" id="e-invoice-ack-date"></div>
                    </div>
                    <div id="e-invoice-description">
                      e-Invoicing detail(s) generated from the Government's e-Invoicing system.
                    </div>
                  </div>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
        <tfoot id="main-footer">
          <tr>
            <td>
              <div class="page-footer-space"></div>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>

    <!-- Page Footer -->
    <div class="page-footer">
      <!-- Page Branding -->
      <div class="page-branding" id="page-branding-container">
        <a href="https://mybillbook.sng.link/A1sl1/kmwx/t5ek" target="_blank">
          <img src="data:image/png;base64,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" height="30mm" />
        </a>
      </div>
    </div>

    <!-- Sentry Lib -->
    <script
      src="https://browser.sentry-cdn.com/7.24.2/bundle.min.js"
      integrity="sha384-9uapQGwcpfQ0MhBPF9K0kJQcSl6WlSXljCtI/zMwbz8mDaI+FgInHBwR+MNVz+h+"
      crossorigin="anonymous"
    ></script>
    <!-- Init Sentry SDK -->
    
    <!-- QRCode Lib -->
    
    <!-- Big Decimal lib -->
    
    <!-- Utils  -->
    
    <!-- Currency helper -->
    
    <!-- Helper function that prepare data -->
    
    <!-- DOM manipulation Helper -->
    
    <!-- Box themes specific things -->
    
    <!-- Invoice render file -->
    <script>"use strict";function initSentry(){try{Sentry.init({dsn:"https://0a601e5acb114b2f99081586a8c0899d@o975537.ingest.sentry.io/6717756",tracesSampleRate:1,environment:"production"})}catch(e){console.log(null==e?void 0:e.toString())}}function setSentryUser(e){var t=e.email,e=e.userId;try{Sentry.setUser({email:t,id:e})}catch(e){console.log(null==e?void 0:e.toString())}}initSentry();var e,QRCode=function(e){function G(e){return x[e]}function S(){return void 0!==i}var i,x=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Y=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},o=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var d=t(function(e,o){o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2},o.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},o.from=function(e,t){if(o.isValid(e))return e;try{var n=e;if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+n)}}catch(e){return t}}});function R(){this.buffer=[],this.length=0}d.L,d.M,d.Q,d.H,d.isValid,R.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var X=R;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}n.prototype.set=function(e,t,n,o){e=e*this.size+t;this.data[e]=n,o&&(this.reservedBit[e]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};for(var $=n,z=t(function(e,a){var i=Y;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,e=i(e),n=145===e?26:2*Math.ceil((e-13)/(2*t-2)),o=[e-7],r=1;r<t-1;r++)o[r]=o[r-1]-n;return o.push(6),o.reverse()},a.getPositions=function(e){for(var t=[],n=a.getRowColCoords(e),o=n.length,r=0;r<o;r++)for(var i=0;i<o;i++)0===r&&0===i||0===r&&i===o-1||r===o-1&&0===i||t.push([n[r],n[i]]);return t}}),k=(z.getRowColCoords,z.getPositions,Y),ee=function(e){e=k(e);return[[0,0],[e-7,0],[0,e-7]]},q=t(function(e,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){for(var t=e.size,n=0,o=0,r=0,i=null,a=null,s=0;s<t;s++){for(var o=r=0,i=a=null,l=0;l<t;l++){var u=e.get(s,l);u===i?o++:(5<=o&&(n+=o-5+3),i=u,o=1),(u=e.get(l,s))===a?r++:(5<=r&&(n+=r-5+3),a=u,r=1)}5<=o&&(n+=o-5+3),5<=r&&(n+=r-5+3)}return n},s.getPenaltyN2=function(e){for(var t=e.size,n=0,o=0;o<t-1;o++)for(var r=0;r<t-1;r++){var i=e.get(o,r)+e.get(o,r+1)+e.get(o+1,r)+e.get(o+1,r+1);4!==i&&0!==i||n++}return 3*n},s.getPenaltyN3=function(e){for(var t=e.size,n=0,o=0,r=0,i=0;i<t;i++)for(var o=r=0,a=0;a<t;a++)o=o<<1&2047|e.get(i,a),10<=a&&(1488===o||93===o)&&n++,r=r<<1&2047|e.get(a,i),10<=a&&(1488===r||93===r)&&n++;return 40*n},s.getPenaltyN4=function(e){for(var t=0,n=e.data.length,o=0;o<n;o++)t+=e.data[o];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},s.applyMask=function(e,t){for(var n=t.size,o=0;o<n;o++)for(var r=0;r<n;r++)t.isReserved(r,o)||t.xor(r,o,function(e,t,n){switch(e){case s.Patterns.PATTERN000:return(t+n)%2==0;case s.Patterns.PATTERN001:return t%2==0;case s.Patterns.PATTERN010:return n%3==0;case s.Patterns.PATTERN011:return(t+n)%3==0;case s.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case s.Patterns.PATTERN101:return t*n%2+t*n%3==0;case s.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case s.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}(e,r,o))},s.getBestMask=function(e,t){for(var n=Object.keys(s.Patterns).length,o=0,r=1/0,i=0;i<n;i++){t(i),s.applyMask(i,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(i,e),a<r&&(r=a,o=i)}return o}}),r=(q.Patterns,q.isValid,q.getPenaltyN1,q.getPenaltyN2,q.getPenaltyN3,q.getPenaltyN4,q.applyMask,q.getBestMask,[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81]),a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],te=function(e,t){switch(t){case d.L:return r[4*(e-1)+0];case d.M:return r[4*(e-1)+1];case d.Q:return r[4*(e-1)+2];case d.H:return r[4*(e-1)+3];default:return}},W=function(e,t){switch(t){case d.L:return a[4*(e-1)+0];case d.M:return a[4*(e-1)+1];case d.Q:return a[4*(e-1)+2];case d.H:return a[4*(e-1)+3];default:return}},s=new Uint8Array(512),l=new Uint8Array(256),u=1,c=0;c<255;c++)s[c]=u,l[u]=c,256&(u<<=1)&&(u^=285);for(var m=255;m<512;m++)s[m]=s[m-255];function P(e,t){return 0===e||0===t?0:s[l[e]+l[t]]}var h=t(function(e,o){o.mul=function(e,t){for(var n=new Uint8Array(e.length+t.length-1),o=0;o<e.length;o++)for(var r=0;r<t.length;r++)n[o+r]^=P(e[o],t[r]);return n},o.mod=function(e,t){for(var n=new Uint8Array(e);0<=n.length-t.length;){for(var o=n[0],r=0;r<t.length;r++)n[r]^=P(t[r],o);for(var i=0;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},o.generateECPolynomial=function(e){for(var t=new Uint8Array([1]),n=0;n<e;n++)t=o.mul(t,new Uint8Array([1,s[n]]));return t}});function f(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}h.mul,h.mod,h.generateECPolynomial,f.prototype.initialize=function(e){this.degree=e,this.genPoly=h.generateECPolynomial(this.degree)},f.prototype.encode=function(e){var t,n;if(this.genPoly)return(t=new Uint8Array(e.length+this.degree)).set(e),e=h.mod(t,this.genPoly),0<(t=this.degree-e.length)?((n=new Uint8Array(this.degree)).set(e,t),n):e;throw new Error("Encoder not initialized")};function y(e){return!isNaN(e)&&1<=e&&e<=40}function O(e,t){for(var n=(e=e.bit<<3|t)<<10;0<=o(n)-F;)n^=1335<<o(n)-F;return 21522^(e<<10|n)}var ne=f,p="(?:(?![A-Z0-9 $%*+\\-./:]|"+(w="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+".replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",g=new RegExp(w,"g"),v=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),p=new RegExp(p,"g"),b=new RegExp("[0-9]+","g"),I=new RegExp("[A-Z $%*+\\-./:]+","g"),D=new RegExp("^"+w+"$"),B=new RegExp("^[0-9]+$"),L=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),_={KANJI:g,BYTE_KANJI:v,BYTE:p,NUMERIC:b,ALPHANUMERIC:I,testKanji:function(e){return D.test(e)},testNumeric:function(e){return B.test(e)},testAlphanumeric:function(e){return L.test(e)}},K=t(function(e,o){o.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(y(t))return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2];throw new Error("Invalid version: "+t)},o.getBestModeForData=function(e){return _.testNumeric(e)?o.NUMERIC:_.testAlphanumeric(e)?o.ALPHANUMERIC:_.testKanji(e)?o.KANJI:o.BYTE},o.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},o.isValid=function(e){return e&&e.bit&&e.ccBits},o.from=function(e,t){if(o.isValid(e))return e;try{var n=e;if("string"!=typeof n)throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+n)}}catch(e){return t}}}),J=(K.NUMERIC,K.ALPHANUMERIC,K.BYTE,K.KANJI,K.MIXED,K.getCharCountIndicator,K.getBestModeForData,K.isValid,t(function(e,c){var n=o(7973);function m(e,t){return K.getCharCountIndicator(e,t)+4}c.from=function(e,t){return y(e)?parseInt(e,10):t},c.getCapacity=function(e,t,n){if(!y(e))throw new Error("Invalid QR Code version");void 0===n&&(n=K.BYTE);t=8*(G(e)-W(e,t));if(n===K.MIXED)return t;var o=t-m(n,e);switch(n){case K.NUMERIC:return Math.floor(o/10*3);case K.ALPHANUMERIC:return Math.floor(o/11*2);case K.KANJI:return Math.floor(o/13);default:K.BYTE;return Math.floor(o/8)}},c.getBestVersionForData=function(e,t){var n,t=d.from(t,d.M);if(Array.isArray(e)){if(1<e.length){var o=e;var r=t;for(var i=1;i<=40;i++)if(function(e,n){var o=0;return e.forEach(function(e){var t=m(e.mode,n);o+=t+e.getBitsLength()}),o}(o,i)<=c.getCapacity(i,r,K.MIXED))return i;return}if(0===e.length)return 1;n=e[0]}else n=e;for(var a=n.mode,s=n.getLength(),l=t,u=1;u<=40;u++)if(s<=c.getCapacity(u,l,a))return u},c.getEncodedBits=function(e){if(!y(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=o(t)-n;)t^=7973<<o(t)-n;return e<<12|t}})),F=(J.getCapacity,J.getBestVersionForData,J.getEncodedBits,o(1335));function C(e){this.mode=K.NUMERIC,this.data=e.toString()}C.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},C.prototype.getLength=function(){return this.data.length},C.prototype.getBitsLength=function(){return C.getBitsLength(this.data.length)},C.prototype.write=function(e){for(var t,n,o=0;o+3<=this.data.length;o+=3)t=this.data.substr(o,3),n=parseInt(t,10),e.put(n,10);var r=this.data.length-o;0<r&&(t=this.data.substr(o),n=parseInt(t,10),e.put(n,3*r+1))};var M=C,U=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function T(e){this.mode=K.ALPHANUMERIC,this.data=e}T.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},T.prototype.getLength=function(){return this.data.length},T.prototype.getBitsLength=function(){return T.getBitsLength(this.data.length)},T.prototype.write=function(e){for(var t=0;t+2<=this.data.length;t+=2){var n=45*U.indexOf(this.data[t]);n+=U.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(U.indexOf(this.data[t]),6)};var H=T;function E(e){this.mode=K.BYTE,this.data=new Uint8Array(function(e){for(var t=[],n=e.length,o=0;o<n;o++){var r,i=e.charCodeAt(o);55296<=i&&i<=56319&&o+1<n&&56320<=(r=e.charCodeAt(o+1))&&r<=57343&&(i=1024*(i-55296)+r-56320+65536,o+=1),i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||57344<=i&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):65536<=i&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}(e))}E.getBitsLength=function(e){return 8*e},E.prototype.getLength=function(){return this.data.length},E.prototype.getBitsLength=function(){return E.getBitsLength(this.data.length)},E.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Q=E;function N(e){this.mode=K.KANJI,this.data=e}N.getBitsLength=function(e){return 13*e},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(e){for(var t=0;t<this.data.length;t++){n=this.data[t];var n=i(n);if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}e.put(n=192*(n>>>8&255)+(255&n),13)}};var V=N,j=t(function(e){var h={single_source_shortest_paths:function(e,t,n){var o={},r={};r[t]=0;var i,a,s,l,u,c,m,d=h.PriorityQueue.make();for(d.push(t,0);!d.empty();)for(s in a=(i=d.pop()).value,l=i.cost,u=e[a]||{})u.hasOwnProperty(s)&&(c=l+u[s],m=r[s],void 0===r[s]||c<m)&&(r[s]=c,d.push(s,c),o[s]=a);if(void 0!==n&&void 0===r[n])throw t=["Could not find a path from ",t," to ",n,"."].join(""),new Error(t);return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],o=t;o;)n.push(o),o=e[o];return n.reverse(),n},find_path:function(e,t,n){e=h.single_source_shortest_paths(e,t,n);return h.extract_shortest_path_from_predecessor_list(e,n)},PriorityQueue:{make:function(e){var t,n=h.PriorityQueue,o={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(o[t]=n[t]);return o.queue=[],o.sorter=e.sorter||n.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=h}),Z=t(function(e,a){function s(e){return unescape(encodeURIComponent(e)).length}function r(e,t,n){for(var o,r=[];null!==(o=e.exec(n));)r.push({data:o[0],index:o.index,mode:t,length:o[0].length});return r}function l(e){var t,n=r(_.NUMERIC,K.NUMERIC,e),o=r(_.ALPHANUMERIC,K.ALPHANUMERIC,e),e=S()?(t=r(_.BYTE,K.BYTE,e),r(_.KANJI,K.KANJI,e)):(t=r(_.BYTE_KANJI,K.BYTE,e),[]);return n.concat(o,t,e).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function f(e,t){switch(t){case K.NUMERIC:return M.getBitsLength(e);case K.ALPHANUMERIC:return H.getBitsLength(e);case K.KANJI:return V.getBitsLength(e);case K.BYTE:return Q.getBitsLength(e)}}function n(e,t){var n=K.getBestModeForData(e);if((t=K.from(t,n))!==K.BYTE&&t.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+K.toString(t)+".\n Suggested mode is: "+K.toString(n));switch(t=t!==K.KANJI||S()?t:K.BYTE){case K.NUMERIC:return new M(e);case K.ALPHANUMERIC:return new H(e);case K.KANJI:return new V(e);case K.BYTE:return new Q(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(n(t,null)):t.data&&e.push(n(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var n=function(e,t){for(var n={},o={start:{}},r=["start"],i=0;i<e.length;i++){for(var a=e[i],s=[],l=0;l<a.length;l++){var u=a[l],c=""+i+l;s.push(c),n[c]={node:u,lastCount:0},o[c]={};for(var m=0;m<r.length;m++){var d=r[m];n[d]&&n[d].node.mode===u.mode?(o[d][c]=f(n[d].lastCount+u.length,u.mode)-f(n[d].lastCount,u.mode),n[d].lastCount+=u.length):(n[d]&&(n[d].lastCount=u.length),o[d][c]=f(u.length,u.mode)+4+K.getCharCountIndicator(u.mode,t))}}r=s}for(var h=0;h<r.length;h++)o[r[h]].end=0;return{map:o,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];switch(o.mode){case K.NUMERIC:t.push([o,{data:o.data,mode:K.ALPHANUMERIC,length:o.length},{data:o.data,mode:K.BYTE,length:o.length}]);break;case K.ALPHANUMERIC:t.push([o,{data:o.data,mode:K.BYTE,length:o.length}]);break;case K.KANJI:t.push([o,{data:o.data,mode:K.BYTE,length:s(o.data)}]);break;case K.BYTE:t.push([{data:o.data,mode:K.BYTE,length:s(o.data)}])}}return t}(l(e)),t),o=j.find_path(n.map,"start","end"),r=[],i=1;i<o.length-1;i++)r.push(n.table[o[i]].node);return a.fromArray(r.reduce(function(e,t){var n=0<=e.length-1?e[e.length-1]:null;return n&&n.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(l(e))}});function oe(e,t,n){for(var o,r=e.size,i=O(t,n),a=0;a<15;a++)o=1==(i>>a&1),a<6?e.set(a,8,o,!0):a<8?e.set(a+1,8,o,!0):e.set(r-15+a,8,o,!0),a<8?e.set(8,r-a-1,o,!0):a<9?e.set(8,15-a-1+1,o,!0):e.set(8,15-a-1,o,!0);e.set(r-8,8,1,!0)}function re(e,t,n,o){var r;if(Array.isArray(e))r=Z.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var i=t;i||(a=Z.rawSplit(e),i=J.getBestVersionForData(a,n)),r=Z.fromString(e,i||40)}var a=J.getBestVersionForData(r,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else t=a;for(var e=function(t,e,n){var o=new X,n=(n.forEach(function(e){o.put(e.mode.bit,4),o.put(e.getLength(),K.getCharCountIndicator(e.mode,t)),e.write(o)}),8*(G(t)-W(t,e)));for(o.getLengthInBits()+4<=n&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var r=(n-o.getLengthInBits())/8,i=0;i<r;i++)o.put(i%2?17:236,8);for(var n=o,a=G(c=t),s=a-W(c,e),l=te(c,e),u=l-a%l,c=Math.floor(a/l),m=Math.floor(s/l),d=m+1,h=c-m,f=new ne(h),y=0,p=new Array(l),g=new Array(l),v=0,b=new Uint8Array(n.buffer),I=0;I<l;I++){var _=I<u?m:d;p[I]=b.slice(y,y+_),g[I]=f.encode(p[I]),y+=_,v=Math.max(v,_)}for(var C,T=new Uint8Array(a),E=0,N=0;N<v;N++)for(C=0;C<l;C++)N<p[C].length&&(T[E++]=p[C][N]);for(N=0;N<h;N++)for(C=0;C<l;C++)T[E++]=g[C][N];return T}(t,n,r),i=Y(t),a=new $(i),s=a,i=t,l=s.size,u=ee(i),c=0;c<u.length;c++)for(var m=u[c][0],d=u[c][1],h=-1;h<=7;h++)if(!(m+h<=-1||l<=m+h))for(var f=-1;f<=7;f++)d+f<=-1||l<=d+f||(0<=h&&h<=6&&(0===f||6===f)||0<=f&&f<=6&&(0===h||6===h)||2<=h&&h<=4&&2<=f&&f<=4?s.set(m+h,d+f,!0,!0):s.set(m+h,d+f,!1,!0));for(var y=a,L=y.size,p=8;p<L-8;p++){var g=p%2==0;y.set(p,6,g,!0),y.set(6,p,g,!0)}for(var v=a,b=t,I=z.getPositions(b),_=0;_<I.length;_++)for(var F=I[_][0],M=I[_][1],C=-2;C<=2;C++)for(var T=-2;T<=2;T++)-2===C||2===C||-2===T||2===T||0===C&&0===T?v.set(F+C,M+T,!0,!0):v.set(F+C,M+T,!1,!0);if(oe(a,n,0),7<=t){var E=a;b=t;for(var N,U,H,Q=E.size,V=J.getEncodedBits(b),A=0;A<18;A++)N=Math.floor(A/3),E.set(N,U=A%3+Q-8-3,H=1==(V>>A&1),!0),E.set(U,N,H,!0)}for(var w=a,j=e,S=w.size,x=-1,R=S-1,k=7,P=0,O=S-1;0<O;O-=2)for(6===O&&O--;;){for(var D,B=0;B<2;B++)w.isReserved(R,O-B)||(D=!1,P<j.length&&(D=1==(j[P]>>>k&1)),w.set(R,O-B,D),-1==--k&&(P++,k=7));if((R+=x)<0||S<=R){R-=x,x=-x;break}}return isNaN(o)&&(o=q.getBestMask(a,oe.bind(null,a,n))),q.applyMask(o,a),oe(a,n,o),{modules:a,version:t,errorCorrectionLevel:n,maskPattern:o,segments:r}}Z.fromArray,Z.fromString,Z.rawSplit;function ie(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,o,r=d.M;if(void 0!==t&&(r=d.from(t.errorCorrectionLevel,d.M),n=J.from(t.version),o=q.from(t.maskPattern),t.toSJISFunc)){if("function"!=typeof(t=t.toSJISFunc))throw new Error('"toSJISFunc" is not a valid function.');i=t}return re(e,n,r,o)}var A=t(function(e,h){function r(e){if("string"!=typeof(e="number"==typeof e?e.toString():e))throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);6===(t=3!==t.length&&4!==t.length?t:Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))).length&&t.push("F","F");e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+t.slice(0,6).join("")}}h.getOptions=function(e){(e=e||{}).color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&21<=e.width?e.width:void 0,o=e.scale||4;return{width:n,scale:n?4:o,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},h.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},h.getImageWidth=function(e,t){var n=h.getScale(e,t);return Math.floor((e+2*t.margin)*n)},h.qrToImageData=function(e,t,n){for(var o=t.modules.size,r=t.modules.data,i=h.getScale(o,n),a=Math.floor((o+2*n.margin)*i),s=n.margin*i,l=[n.color.light,n.color.dark],u=0;u<a;u++)for(var c=0;c<a;c++){var m=4*(u*a+c),d=n.color.light;s<=u&&s<=c&&u<a-s&&c<a-s&&(d=l[r[Math.floor((u-s)/i)*o+Math.floor((c-s)/i)]?1:0]),e[m++]=d.r,e[m++]=d.g,e[m++]=d.b,e[m]=d.a}}}),w=(A.getOptions,A.getScale,A.getImageWidth,A.qrToImageData,t(function(e,o){o.render=function(e,t,n){var o=t,t=(void 0!==n||t&&t.getContext||(n=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),n=A.getOptions(n),A.getImageWidth(e.modules.size,n)),r=o.getContext("2d"),i=r.createImageData(t,t);return A.qrToImageData(i.data,e,n),e=o,n=t,r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px",r.putImageData(i,0,0),o},o.renderToDataURL=function(e,t,n){void 0!==n||t&&t.getContext||(n=t,t=void 0),e=o.render(e,t,n=n||{}),t=n.type||"image/png",n=n.rendererOpts||{};return e.toDataURL(t,n.quality)}}));function ae(e,t){var n=e.a/255,e=t+'="'+e.hex+'"';return n<1?e+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':e}function se(e,t,n){e+=t;return void 0!==n&&(e+=" "+n),e}w.render,w.renderToDataURL;function le(o,r,i,a,e){var t=[].slice.call(arguments,1),n=t.length,t="function"==typeof t[n-1];if(!(t||"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then))throw new Error("Callback required as last argument");if(!t){if(n<1)throw new Error("Too few arguments provided");return 1===n?(i=r,r=a=void 0):2!==n||r.getContext||(a=i,i=r,r=void 0),new Promise(function(e,t){try{var n=ie(i,a);e(o(n,r,a))}catch(e){t(e)}})}if(n<2)throw new Error("Too few arguments provided");2===n?(e=i,i=r,r=a=void 0):3===n&&(r.getContext&&void 0===e?(e=a,a=void 0):(e=a,a=i,i=r,r=void 0));try{var s=ie(i,a);e(null,o(s,r,a))}catch(o){e(o)}}g=ie,v=le.bind(null,w.render),p=le.bind(null,w.renderToDataURL),b=le.bind(null,function(e,t,n){return e=e,n=n,n=A.getOptions(n),r=e.modules.size,e=e.modules.data,i=r+2*n.margin,a=n.color.light.a?"<path "+ae(n.color.light,"fill")+' d="M0 0h'+i+"v"+i+'H0z"/>':"",e="<path "+ae(n.color.dark,"stroke")+' d="'+function(e,t,n){for(var o="",r=0,i=!1,a=0,s=0;s<e.length;s++){var l=Math.floor(s%t),u=Math.floor(s/t);l||(i=i||!0),e[s]?(a++,0<s&&0<l&&e[s-1]||(o+=i?se("M",l+n,.5+u+n):se("m",r,0),r=0,i=!1),l+1<t&&e[s+1]||(o+=se("h",a),a=0)):r++}return o}(e,r,n.margin)+'"/>',r='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+('viewBox="0 0 '+i+" "+i+'"')+' shape-rendering="crispEdges">'+a+e+"</svg>\n","function"==typeof o&&o(null,r),r;var o,r,i,a}),I={create:g,toCanvas:v,toDataURL:p,toString:b};return e.create=g,e.default=I,e.toCanvas=v,e.toDataURL=p,e.toString=b,Object.defineProperty(e,"__esModule",{value:!0}),e}({}),t=1e6,n=1e6,i="[big.js] ",o=i+"Invalid ",s=o+"decimal places",c=i+"Division by zero",f={},u=void 0,h=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function l(e,t,n,o){var r=e.c;if(0!==(n=n===u?e.constructor.RM:n)&&1!==n&&2!==n&&3!==n)throw Error("[big.js] Invalid rounding mode");if(t<1)o=3===n&&(o||!!r[0])||0===t&&(1===n&&5<=r[0]||2===n&&(5<r[0]||5===r[0]&&(o||r[1]!==u))),r.length=1,o?(e.e=e.e-t+1,r[0]=1):r[0]=e.e=0;else if(t<r.length){if(o=1===n&&5<=r[t]||2===n&&(5<r[t]||5===r[t]&&(o||r[t+1]!==u||1&r[t-1]))||3===n&&(o||!!r[0]),r.length=t,o)for(;9<++r[--t];)if((r[t]=0)===t){++e.e,r.unshift(1);break}for(t=r.length;!r[--t];)r.pop()}return e}function a(e,t,n){var o=e.e,r=e.c.join(""),i=r.length;if(t)r=r.charAt(0)+(1<i?"."+r.slice(1):"")+(o<0?"e":"e+")+o;else if(o<0){for(;++o;)r="0"+r;r="0."+r}else if(0<o)if(++o>i)for(o-=i;o--;)r+="0";else o<i&&(r=r.slice(0,o)+"."+r.slice(o));else 1<i&&(r=r.charAt(0)+"."+r.slice(1));return e.s<0&&n?"-"+r:r}f.abs=function(){var e=new this.constructor(this);return e.s=1,e},f.cmp=function(e){var t,n=this.c,o=(e=new this.constructor(e)).c,r=this.s,i=e.s,a=this.e,e=e.e;if(!n[0]||!o[0])return n[0]?r:o[0]?-i:0;if(r!=i)return r;if(t=r<0,a!=e)return e<a^t?1:-1;for(i=(a=n.length)<(e=o.length)?a:e,r=-1;++r<i;)if(n[r]!=o[r])return n[r]>o[r]^t?1:-1;return a==e?0:e<a^t?1:-1},f.div=function(e){var n=this.constructor,o=this.c,r=(e=new n(e)).c,i=this.s==e.s?1:-1,a=n.DP;if(a!==~~a||a<0||t<a)throw Error(s);if(!r[0])throw Error(c);if(!o[0])return e.s=i,e.c=[e.e=0],e;var m,d,h,f,y,p=r.slice(),g=m=r.length,v=o.length,b=o.slice(0,m),I=b.length,_=e,C=_.c=[],T=0,a=a+(_.e=this.e-e.e)+1;for(_.s=i,i=a<0?0:a,p.unshift(0);I++<m;)b.push(0);do{for(h=0;h<10;h++){if(m!=(I=b.length))f=I<m?1:-1;else for(y=-1,f=0;++y<m;)if(r[y]!=b[y]){f=r[y]>b[y]?1:-1;break}if(!(f<0))break;for(d=I==m?r:p;I;){if(b[--I]<d[I]){for(y=I;y&&!b[--y];)b[y]=9;--b[y],b[I]+=10}b[I]-=d[I]}for(;!b[0];)b.shift()}}while(C[T++]=f?h:++h,b[0]&&f?b[I]=o[g]||0:b=[o[g]],(g++<v||b[0]!==u)&&i--);return C[0]||1==T||(C.shift(),_.e--,a--),a<T&&l(_,a,n.RM,b[0]!==u),_},f.eq=function(e){return 0===this.cmp(e)},f.gt=function(e){return 0<this.cmp(e)},f.gte=function(e){return-1<this.cmp(e)},f.lt=function(e){return this.cmp(e)<0},f.lte=function(e){return this.cmp(e)<1},f.minus=f.sub=function(e){var t,n,o,r,i=this,a=i.constructor,s=i.s,l=(e=new a(e)).s;if(s!=l)return e.s=-l,i.plus(e);var u=i.c.slice(),c=i.e,m=e.c,d=e.e;if(u[0]&&m[0]){if(s=c-d){for((o=(r=s<0)?(s=-s,u):(d=c,m)).reverse(),l=s;l--;)o.push(0);o.reverse()}else for(n=((r=u.length<m.length)?u:m).length,s=l=0;l<n;l++)if(u[l]!=m[l]){r=u[l]<m[l];break}if(r&&(o=u,u=m,m=o,e.s=-e.s),0<(l=(n=m.length)-(t=u.length)))for(;l--;)u[t++]=0;for(l=t;s<n;){if(u[--n]<m[n]){for(t=n;t&&!u[--t];)u[t]=9;--u[t],u[n]+=10}u[n]-=m[n]}for(;0===u[--l];)u.pop();for(;0===u[0];)u.shift(),--d;u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d}else m[0]?e.s=-l:u[0]?e=new a(i):e.s=1;return e},f.mod=function(e){var t,n=this,o=n.constructor,r=n.s,i=(e=new o(e)).s;if(e.c[0])return t=(n.s=e.s=1)==e.cmp(n),n.s=r,e.s=i,t?new o(n):(r=o.DP,i=o.RM,o.DP=o.RM=0,n=n.div(e),o.DP=r,o.RM=i,this.minus(n.times(e)));throw Error(c)},f.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},f.plus=f.add=function(e){var t,n,o,r=this,i=r.constructor;if(e=new i(e),r.s!=e.s)return e.s=-e.s,r.minus(e);var a=r.e,s=r.c,l=e.e,u=e.c;if(s[0]&&u[0]){if(s=s.slice(),t=a-l){for((o=0<t?(l=a,u):(t=-t,s)).reverse();t--;)o.push(0);o.reverse()}for(s.length-u.length<0&&(o=u,u=s,s=o),t=u.length,n=0;t;s[t]%=10)n=(s[--t]=s[t]+u[t]+n)/10|0;for(n&&(s.unshift(n),++l),t=s.length;0===s[--t];)s.pop();e.c=s,e.e=l}else u[0]||(s[0]?e=new i(r):e.s=r.s);return e},f.pow=function(e){var t=this,r=new t.constructor("1"),i=r,a=e<0;if(e!==~~e||e<-1e6||n<e)throw Error(o+"exponent");for(a&&(e=-e);1&e&&(i=i.times(t)),e>>=1;)t=t.times(t);return a?r.div(i):i},f.prec=function(e,n){if(e!==~~e||e<1||t<e)throw Error(o+"precision");return l(new this.constructor(this),e,n)},f.round=function(e,n){if(e===u)e=0;else if(e!==~~e||e<-t||t<e)throw Error(s);return l(new this.constructor(this),e+this.e+1,n)},f.sqrt=function(){var e,t,n,o=this,r=o.constructor,a=o.s,s=o.e,u=new r("0.5");if(!o.c[0])return new r(o);if(a<0)throw Error(i+"No square root");for(s=(e=0===(a=Math.sqrt(o+""))||a===1/0?((t=o.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),new r(((a=Math.sqrt(t))==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+s)):new r(a+"")).e+(r.DP+=4);n=e,e=u.times(n.plus(o.div(n))),n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""););return l(e,(r.DP-=4)+e.e+1,r.RM)},f.times=f.mul=function(e){var t,n=this.constructor,o=this.c,r=(e=new n(e)).c,i=o.length,a=r.length,s=this.e,l=e.e;if(e.s=this.s==e.s?1:-1,o[0]&&r[0]){for(e.e=s+l,i<a&&(t=o,o=r,r=t,l=i,i=a,a=l),t=new Array(l=i+a);l--;)t[l]=0;for(s=a;s--;){for(a=0,l=i+s;s<l;)a=t[l]+r[s]*o[l-s-1]+a,t[l--]=a%10,a=a/10|0;t[l]=a}for(a?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();e.c=t}else e.c=[e.e=0];return e},f.toExponential=function(e,n){var o=this,r=o.c[0];if(e!==u){if(e!==~~e||e<0||t<e)throw Error(s);for(o=l(new o.constructor(o),++e,n);o.c.length<e;)o.c.push(0)}return a(o,!0,!!r)},f.toFixed=function(e,n){var o=this,r=o.c[0];if(e!==u){if(e!==~~e||e<0||t<e)throw Error(s);for(e=e+(o=l(new o.constructor(o),e+o.e+1,n)).e+1;o.c.length<e;)o.c.push(0)}return a(o,!1,!!r)},f.toJSON=f.toString=function(){var e=this,t=e.constructor;return a(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},f.toNumber=function(){var e=Number(a(this,!0,!0));if(!0!==this.constructor.strict||this.eq(e.toString()))return e;throw Error(i+"Imprecise conversion")},f.toPrecision=function(e,n){var r=this,i=r.constructor,s=r.c[0];if(e!==u){if(e!==~~e||e<1||t<e)throw Error(o+"precision");for(r=l(new i(r),e,n);r.c.length<e;)r.c.push(0)}return a(r,e<=r.e||r.e<=i.NE||r.e>=i.PE,!!s)},f.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(i+"valueOf disallowed");return a(this,this.e<=e.NE||this.e>=e.PE,!0)},(e=function l(){function c(e){var t=this;if(!(t instanceof c))return e===u?l():new c(e);if(e instanceof c)t.s=e.s,t.e=e.e,t.c=e.c.slice();else{if("string"!=typeof e){if(!0===c.strict&&"bigint"!=typeof e)throw TypeError(o+"value");e=0===e&&1/e<0?"-0":String(e)}var n,r,i,a=t,s=e;if(!h.test(s))throw Error(o+"number");for(a.s="-"==s.charAt(0)?(s=s.slice(1),-1):1,0<(r=(s=-1<(n=s.indexOf("."))?s.replace(".",""):s).search(/e/i))?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),i=s.length,r=0;r<i&&"0"==s.charAt(r);)++r;if(r==i)a.c=[a.e=0];else{for(;0<i&&"0"==s.charAt(--i););for(a.e=n-r-1,a.c=[],n=0;r<=i;)a.c[n++]=+s.charAt(r++)}}t.constructor=c}return c.prototype=f,c.DP=20,c.RM=1,c.NE=-7,c.PE=21,c.strict=!1,c.roundDown=0,c.roundHalfUp=1,c.roundHalfEven=2,c.roundUp=3,c}()).default=e.Big=e,"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window.Big=e;var DEFAULT_TEXT="--",ICON_BASE64="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUUSURBVHgB5ZtNbBtFGIbf9V9ix6amCSCjRriHpBwqnJZKROIQR8AFpBIkLiAhCge4IKUHxIFL0isX0isc6IVekwvnmHuqOogDSSt5pVAiUNK4jXF+nGQ63+6O6669693Z8U/UR/qyiXd214++mdndmYkGxTDG0nwzYUXO2tJnWVtR3Yoyj995FDVNK6AfISkeMzyWeewweejYRR7X0A9YYnMsmJQTJR6/8Mii23RYrBVzXRNlZlUsse5TYp2suszM2o+s99B3SEMl/IRZHkXWP5SYxyqreZHjm2U0d/O9RucxzW8tulshV8E+lhPoaCPpKHgK5AQ6XCRbCjKzEd9F/8sJijAly/YdIYcD5nB65Ah6HJzzVJJn7xrrM/a3HngtOmP30WxyWfRBu6v+vYbKvTsory6j+mAdx9VdjH78LV6e/rTdoVRFzzdW1YitwOfogZwQ2l1fwe79O4aQnYPtf7ycivqO6zzmxQd1QSt78+gC9GUf/VFwFbKTGrsCj8xylwWRxcYMzqNDCCHKVJlvvQjZSY2/6bXoM1lsFJyCIkioct+scrJCjcTPXUA4nvJzSD2LhiAzn9KzkKRRqHJvhf+9CZWkxjxnT0BZzPNYEhmcgQT/Ld/m8atyITvpXB4SzPJYEjd6qerZDTnCRwfTyASvmekQ/5GHmVLfZN7/Gp0m6b96CozBL8rgBCQZnryK7Gfz6CTp3DQCYAjmEQAZyRPGUK2deCqbODeOAOSokzmDgJAkdeXrC1/heK/5lmAIHZ7g/9qxIbZ/ZMqdjUfwSjLmeF66NUi2P4GRwSwUkOCC49d/Mr4UCVUOjvFv5RClnX2sbe1h4/EBHu4d1eUIKudGSr79CdJKBNlhFWxzDbGNu8hOTEJ/fNRSyE4yFnE9b8D2R2QjkICEsL2Bk82/eKyBPdwAO6ga++I88lcuorDyJw4Oa67nGYyEXPcHbH8GvgVZZQu1xRt1oVa8kEy0lRzgctGw85BQbPhVo10HJeSzPM/enqucQEgOxKIt9w9F3S8dsHOpQ1fRfR1wdhSRyx96KkuS77yVw1B8sGlfIhp2PVZBB0PoJFj2e1T48lVEJj/xVHYoPoApnkm75FCsXQbVCa5CgvDFdxGZ+tJTWbtkIhZGSHNuf9T2qA0q4BEJFiFJeOxtKcnBsPuAekJB52JRCCRIyEi+NDLiWi79Rh6KKApB3+2wET+SyTMvIvf9bV4FM45lfAxPuFGmKfGQNTgTKIuEV0ktY7avC7M/t5Sk1yOfwxNO0Lx//T54Ewogyeh730CLJRzLhDKvG1snSYXtb8m4nvVHAQGrqSD02iVEP/jOUTKUeSrQSlJyeMKOzmvmLeN69MOqpkqyaJxveLSlpJYaMfY1IiTjo+NI8ran6AmmUL+m+IWZM0olSA5ftILxB/Labz+YD+fw1xkF5LyYTqs/TqjOonFOWya1jLL25caNxrlC++SL8iwa5+VvIGx3+5n21yF02CZDmx4prCmoRZxOvhCdi6DpiZcXoO5VaVXtEjftcoTbFDbNE0oPKXYZncclz1PYVsGP4PNdsUfocJifJ57fZSSCPpbU4WEhUNsxGesE0+iv6kov6W3lfMHMxXgLrPfQd1C7GM8mSstMSqz70NpUqXlMGUlafTjPusOOda3OZa2N6C3WmYz2TqwVzKy6iyz4ovRlZq4qViLW9jYhAzNnjekpiKbGxb8UZG3FdJgv2TRcsmpti043bFmeAPB+YMJJV4TEAAAAAElFTkSuQmCC";function isTrue(e){return null!=e&&e}function isFalse(e){return!(null==e||e)}function isNullOrZero(e){return!e||0==e}function isNullOrEmpty(e){return!e}function orElse(e,t){return isNullOrEmpty(e)?t:e}function convertToDouble(e){try{var t=parseFloat(e);return t?t:0}catch(e){return 0}}function convertToInt(e){try{var t=parseInt(e);return t?t:0}catch(e){return 0}}function toFixedTwoDouble(e){try{var t=convertToDouble(e);return t%1!=0?t<0?-round(Math.abs(t)):round(t):parseFloat(t.toFixed(0))}catch(e){return 0}}function round(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;return Number(Math.round(e+"e+"+t)+"e-"+t)}function formatIndianCurrency(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&{style:"currency",currency:"INR"};try{var n=toFixedTwoDouble(e).toLocaleString("en-IN",t),o=n.split("."),r=n;return r=0==o[1]?o[0]:r}catch(e){return"-"}}function formatInvoiceDate(e){try{var t=new Date(e);return"Invalid Date"==t.toString()?DEFAULT_TEXT:e.match(/^\d{4}-\d{2}-\d{2}$/)?null==e?void 0:e.split("-").reverse().join("/"):t.toLocaleString("default",{day:"2-digit"})+"/"+t.toLocaleString("default",{month:"2-digit"})+"/"+t.toLocaleString("default",{year:"numeric"})}catch(e){return DEFAULT_TEXT}}function formatDateTime(e){try{var t,n,o,r=new Date(e);return"Invalid Date"==r.toString()?DEFAULT_TEXT:(t=r.toLocaleString("default",{day:"2-digit"}),n=r.toLocaleString("default",{month:"short"}),o=r.toLocaleString("default",{year:"numeric"}),"".concat(t," ").concat(n," ").concat(o," | ").concat(r.toLocaleTimeString()))}catch(e){return DEFAULT_TEXT}}function nestedAccess(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e&&n.reduce(function(e,t){return null==e?void 0:e[t]},e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function set(e,t,n,o){return(set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,o){var r,e=_superPropBase(e,t);if(e){if((r=Object.getOwnPropertyDescriptor(e,t)).set)return r.set.call(o,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(o,t)){if(!r.writable)return!1;r.value=n,Object.defineProperty(o,t,r)}else _defineProperty(o,t,n);return!0})(e,t,n,o)}function _set(e,t,n,o,r){if(!set(e,t,n,o||e)&&r)throw new TypeError("failed to set property");return n}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _callSuper(e,t,n){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],_getPrototypeOf(e).constructor):t.apply(e,n))}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}Number.prototype.toBigDecimal=function(){return new Big(this)};var FOREIGN_CURRENCY=[{name:"Indian Rupee",nickname:"INR",symbol:"",minorName:"Paise",conversionRate:1},{nickname:"USD",name:"US Dollar",symbol:"$",minorName:"Cents",conversionRate:1},{nickname:"AUD",name:"Australian Dollar",symbol:"$",minorName:"Cents",conversionRate:1},{nickname:"AED",name:"UAE Dirham",symbol:".",minorName:"Fils",conversionRate:1},{nickname:"GBP",name:"Pound Sterling",symbol:"",minorName:"Penny",conversionRate:1},{nickname:"EUR",name:"Euro",symbol:"",minorName:"Cents",conversionRate:1},{nickname:"SGD",name:"Singapore Dollar",symbol:"$",minorName:"Cents",conversionRate:1},{nickname:"JPY",name:"Japanese Yen",symbol:"",minorName:"Sen",conversionRate:1},{nickname:"CNY",name:"Chinese Yuan",symbol:"",minorName:"Fen",conversionRate:1},{nickname:"OMR",name:"Omani Rial",symbol:"",minorName:"Baisa",conversionRate:1},{nickname:"NPR",name:"Nepalese Rupee",symbol:"",minorName:"Paise",conversionRate:1},{nickname:"RMB",name:"Renminbi",symbol:"",minorName:"Fen",conversionRate:1}],Currency=function(){function e(){_classCallCheck(this,e),_defineProperty(this,"currencyName",void 0),_defineProperty(this,"subCurrencyName",void 0),_defineProperty(this,"currencyNickname",void 0),_defineProperty(this,"locale",void 0),_defineProperty(this,"highNumbers",void 0),_defineProperty(this,"baseNumber",new Map),this.baseNumber.set(0,"Zero"),this.baseNumber.set(1,"One"),this.baseNumber.set(2,"Two"),this.baseNumber.set(3,"Three"),this.baseNumber.set(4,"Four"),this.baseNumber.set(5,"Five"),this.baseNumber.set(6,"Six"),this.baseNumber.set(7,"Seven"),this.baseNumber.set(8,"Eight"),this.baseNumber.set(9,"Nine"),this.baseNumber.set(10,"Ten"),this.baseNumber.set(11,"Eleven"),this.baseNumber.set(12,"Twelve"),this.baseNumber.set(13,"Thirteen"),this.baseNumber.set(14,"Fourteen"),this.baseNumber.set(15,"Fifteen"),this.baseNumber.set(16,"Sixteen"),this.baseNumber.set(17,"Seventeen"),this.baseNumber.set(18,"Eighteen"),this.baseNumber.set(19,"Nineteen"),this.baseNumber.set(20,"Twenty"),this.baseNumber.set(30,"Thirty"),this.baseNumber.set(40,"Forty"),this.baseNumber.set(50,"Fifty"),this.baseNumber.set(60,"Sixty"),this.baseNumber.set(70,"Seventy"),this.baseNumber.set(80,"Eighty"),this.baseNumber.set(90,"Ninety")}return _createClass(e,[{key:"asWord",value:function(e){if(!(e="number"!=typeof e?Number(e):e))return"Zero ".concat(this.currencyName);for(var e=e.toLocaleString(this.locale,{maximumFractionDigits:2}).split("."),e=_slicedToArray(e,2),t=e[0],e=e[1],n=t.split(","),o="",r=n.length-1,i=0;-1<r;){var a=n[r],s="",l="",u=a;3===a.length&&0!=a[0]&&(s="".concat(this.baseNumber.get(convertToInt(a[0]))," ").concat(this.highNumbers[0]," "),u=a.slice(1,3)),0!=u&&(l=this._getTwoDigitWord(u)),0!=a&&(u=0==i?"":" ".concat(this.highNumbers[i]),o="".concat(s).concat(l).concat(u," ").concat(o)),--r,++i}t="";return o&&(t="".concat(o).concat(this.currencyName)),e&&_threeDecimalCurrency[this.currencyNickname]?t+=" ".concat(t?" and ":"").concat(_threeDecimalCurrency[this.currencyNickname].asWord(this._getThreeDigitsFromAnyAmount(e))):e&&(t+=" ".concat(t?" and ":"").concat(this._getTwoDigitWord(e<10&&1==e.length?10*e:e)," ").concat(this.subCurrencyName)),t.replace("  "," ").replace("  "," ")}},{key:"_getThreeDigitsFromAnyAmount",value:function(e){var t=e.toString(),n=convertToInt(e);switch(t.length){case 0:return 0;case 1:return 100*n;case 2:return 10*n;case 3:return n}}},{key:"_getTwoDigitWord",value:function(e){var t,n,e=convertToInt(e);return e<21?this.baseNumber.get(e):(t="",0<(n=e%10)&&(t+=this.baseNumber.get(n)),"".concat(this.baseNumber.get(e-n)," ").concat(t))}},{key:"format",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=toFixedTwoDouble(e),n={maximumFractionDigits:2};return t&&(n.style="currency",n.currency=this.currencyNickname),e.toLocaleString(this.locale,n)}}]),e}(),IndianCurrency=function(){function t(){var e;return _classCallCheck(this,t),e=_callSuper(this,t),_defineProperty(_assertThisInitialized(e),"currencyName","Rupees"),_defineProperty(_assertThisInitialized(e),"subCurrencyName","Paise"),_defineProperty(_assertThisInitialized(e),"currencyNickname","INR"),_defineProperty(_assertThisInitialized(e),"locale","en-IN"),_defineProperty(_assertThisInitialized(e),"highNumbers",["Hundred","Thousand","Lakh","Crore","Arab","Kharab","Neel","Padm","Shankh"]),e}return _inherits(t,Currency),_createClass(t)}(),EnglishCurrency=function(){function i(e){var t,n,o=e.currencyName,r=e.subCurrencyName,e=e.currencyNickname;return _classCallCheck(this,i),n=_callSuper(this,i),_defineProperty(_assertThisInitialized(n),"currencyName","Dollars"),_defineProperty(_assertThisInitialized(n),"subCurrencyName","Cents"),_defineProperty(_assertThisInitialized(n),"currencyNickname","USD"),_defineProperty(_assertThisInitialized(n),"locale","en-US"),_defineProperty(_assertThisInitialized(n),"highNumbers",["Hundred","Thousand","Million","Billion","Trillion","Quadrillion","","",""]),_set((t=_assertThisInitialized(n),_getPrototypeOf(i.prototype)),"currencyName",null!=o?o:n.currencyName,t,!0),_set((o=_assertThisInitialized(n),_getPrototypeOf(i.prototype)),"subCurrencyName",null!=r?r:n.subCurrencyName,o,!0),_set((t=_assertThisInitialized(n),_getPrototypeOf(i.prototype)),"currencyNickname",null!=e?e:n.currencyNickname,t,!0),n}return _inherits(i,Currency),_createClass(i)}(),indianCurrencyFormatter=new IndianCurrency,parseIndianCurrencyToNumber=function(e){return toFixedTwoDouble(String(e).replace(/,/g,""))},_threeDecimalCurrency=_defineProperty({},"OMR",new EnglishCurrency({currencyName:"Baisa",subCurrencyName:"",currencyNickname:"OMR"}));function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}var UNION_TERRITORIES=["Andaman & Nicobar Islands","Chandigarh","Dadra & Nagar Haveli & Daman & Diu","Ladakh","Lakshadweep"],FONT_MAP={Small:"14px",Medium:"16px",Large:"18px"},GST_STATES={35:"Andaman & Nicobar Islands",37:"Andhra Pradesh",28:"Andhra Pradesh",12:"Arunachal Pradesh",18:"Assam",10:"Bihar",4:"Chandigarh",22:"Chhattisgarh",25:"Dadra & Nagar Haveli & Daman & Diu",26:"Dadra & Nagar Haveli & Daman & Diu",7:"Delhi",30:"Goa",24:"Gujarat",6:"Haryana",2:"Himachal Pradesh",1:"Jammu & Kashmir",20:"Jharkhand",29:"Karnataka",32:"Kerala",38:"Ladakh",31:"Lakshadweep",23:"Madhya Pradesh",27:"Maharashtra",14:"Manipur",17:"Meghalaya",15:"Mizoram",13:"Nagaland",21:"Odisha",34:"Puducherry",3:"Punjab",8:"Rajasthan",11:"Sikkim",33:"Tamil Nadu",36:"Telangana",16:"Tripura",9:"Uttar Pradesh",5:"Uttarakhand",19:"West Bengal"},UNIT_NONE="NONE",REMAINING_AMOUNT_THRESHOLD=.01,DEFAULT_COLUMN_QUANTITY="qty",DEFAULT_COLUMN_RATE="rate",KeralaCess={STATE_CODE:32,LABEL:"Kerala Flood Cess",STATE_NAME:"Kerala"},DEFAULT_THEME_ID=7,voucherType={paymentIn:"payment_in",paymentOut:"payment_out",sales:"sales_invoice",quotation:"quotation",purchase:"purchase_record",salesReturn:"credit_note",purchaseReturn:"debit_note",creditNote:"credit_memo",debitNote:"debit_memo",deliveryChallan:"delivery_challan",purchaseOrder:"purchase_order",expense:"expense",addMoney:"add_money",reduceMoney:"reduce_money",proforma:"proforma"};function getThemeId(e){var t=DEFAULT_THEME_ID;switch(e){case"theme_one":t=1;break;case"theme_two":t=2;break;case"theme_three":t=3;break;case"theme_four":t=4;break;case"theme_five":t=5;break;case"theme_six":t=6;break;case"theme_seven":t=7;break;case"theme_eight":t=8}return t}function isThisLatestVoucher(e,t){var n;return(null!=(n=e._id)?n:e.id)===t.latest_voucher_id||e.mbb_id===t.latest_voucher_id}function getTaxType(e,t){return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]?{first:"IGST",second:"IGST"}:isNullOrEmpty(e)||isNullOrEmpty(t)?{first:"CGST",second:"SGST"}:e.toUpperCase()!==t.toUpperCase()?{first:"IGST",second:"IGST"}:UNION_TERRITORIES.includes(e)?{first:"CGST",second:"UTGST"}:{first:"CGST",second:"SGST"}}function getVoucherType(e,t,n){switch(t){case voucherType.quotation:return"QUOTATION";case voucherType.purchase:return"PURCHASE";case voucherType.salesReturn:return"SALES RETURN";case voucherType.purchaseReturn:return"PURCHASE RETURN";case voucherType.creditNote:return"CREDIT NOTE";case voucherType.debitNote:return"DEBIT NOTE";case voucherType.deliveryChallan:return"DELIVERY CHALLAN";case voucherType.purchaseOrder:return"PURCHASE ORDER";case voucherType.proforma:return"PROFORMA INVOICE"}return"theme_five"!=e&&"theme_six"!=e&&(0<n||"theme_three"==e||"theme_four"==e||"theme_eight"==e)?"TAX INVOICE":"BILL OF SUPPLY"}function getDueDate(e){return isNullOrZero(e.remaining_amount)||isNullOrEmpty(e.due_date)?"":formatInvoiceDate(e.due_date)}function getVoucherLabels(e){switch(e){case voucherType.quotation:return{invoiceNumberLabel:"Quotation No.",invoiceDateLabel:"Quotation Date",dueDateLabel:"Expiry Date"};case voucherType.purchase:return{invoiceNumberLabel:"Purchase No.",invoiceDateLabel:"Purchase Date",dueDateLabel:"Due Date"};case voucherType.salesReturn:case voucherType.purchaseReturn:return{invoiceNumberLabel:"Return No.",invoiceDateLabel:"Return Date",dueDateLabel:"Due Date"};case voucherType.creditNote:return{invoiceNumberLabel:"Credit Note No.",invoiceDateLabel:"Credit Note Date",dueDateLabel:"Due Date"};case voucherType.debitNote:return{invoiceNumberLabel:"Debit Note No.",invoiceDateLabel:"Debit Note Date",dueDateLabel:"Due Date"};case voucherType.deliveryChallan:return{invoiceNumberLabel:"Challan No.",invoiceDateLabel:"Challan Date",dueDateLabel:"Due Date"};case voucherType.purchaseOrder:return{invoiceNumberLabel:"PO No.",invoiceDateLabel:"PO Date",dueDateLabel:"Expiry Date"};case voucherType.proforma:return{invoiceNumberLabel:"Proforma Invoice No.",invoiceDateLabel:"Proforma Date",dueDateLabel:"Expiry Date"}}return{invoiceNumberLabel:"Invoice No.",invoiceDateLabel:"Invoice Date",dueDateLabel:"Due Date"}}function getVoucherAdditionalFields(e,t){var n,o=null!=(o=null==(o=t.invoice_settings)||null==(o=o.additional_settings)?void 0:o.map(function(e){return{name:null==e?void 0:e.key,value:null==e?void 0:e.value}}))?o:[];return null!=e&&null!=(n=e.invoice)&&n.po_number&&o.push({name:"P.O. No.",value:null==(n=t.invoice_settings)?void 0:n.po_number}),null!=e&&null!=(n=e.invoice)&&n.eway_bill_number&&o.push({name:"E-way Bill No.",value:null==(n=t.invoice_settings)?void 0:n.eway_bill_number}),null!=e&&null!=(n=e.invoice)&&n.vehicle_number&&o.push({name:"Vehicle No.",value:null==(e=t.invoice_settings)?void 0:e.vehicle_number}),o.push({name:"Original Invoice No.",value:t.reference}),o.filter(function(e){return!isNullOrEmpty(e.name)&&!isNullOrEmpty(e.value)})}function getItemDefaultColumns(e){var t={};return null!=e&&null!=(e=e.filter(function(e){return[DEFAULT_COLUMN_QUANTITY,DEFAULT_COLUMN_RATE].includes(e.default)}))&&e.forEach(function(e){t[encodeString(e.default)]=!isFalse(e.value)}),t}function getAdditionalCharges(e,t){var e=null!=e?e:[],u=(isNullOrZero(t)||e.push({name:KeralaCess.LABEL,charge:t}),0),c=0,m=0,d=[],h={},f={},y={};return e.forEach(function(e){var t=convertToDouble(e.gst_percentage),n=0<t?convertToDouble(e.charge):0,o=getItemTax(n,t),r=getCessRate(t),i=getItemTax(n,r),a=o+convertToDouble(e.charge),s=getEffectiveTaxRate(t),l=o-i;d.push({name:encodeString(e.name),amount:formatIndianCurrency(e.charge),taxInclusiveAmount:formatIndianCurrency(a),igstAmount:formatIndianCurrency(l),igstPercentage:s,cgstAmount:formatIndianCurrency(l/2),cgstPercentage:s/2,sgstAmount:formatIndianCurrency(l/2),sgstPercentage:s/2,taxAmount:formatIndianCurrency(l),gstPercentage:s}),h[s]=(null!=(e=h[s])?e:0)+l,f[r]=(null!=(s=f[r])?s:0)+i,y[t]={taxAmount:(null!=(l=null==(e=y[t])?void 0:e.taxAmount)?l:0)+o,taxableAmount:(null!=(s=null==(r=y[t])?void 0:r.taxableAmount)?s:0)+n},u+=a,c+=o,m+=n}),{additionalChargesList:d,additionalChargesSlab:h,additionalChargesCessSlab:f,ACHsnSlab:y,additionalChargesTotal:u,additionalChargesTaxTotal:c,additionalChargeTaxableAmountTotal:m}}function getTaxSummary(n,t,o,r,i){var a={},s=(Object.keys(t).forEach(function(e){a[e]=t[e]+(null!=(e=r[e])?e:0)}),[]),l=(Object.keys(a).forEach(function(e){var t;isNullOrZero(e)||(t=a[e],e=convertToDouble(e),"GST"===n.first||"IGST"===n.second?s.push({taxRate:"".concat(n.first," @").concat(e,"%"),taxAmount:t}):"SGST"!=n.second&&"UTGST"!=n.second||(s.push({taxRate:"".concat(n.first," @").concat(e/2,"%"),taxAmount:t/2}),s.push({taxRate:"".concat(n.second," @").concat(e/2,"%"),taxAmount:t/2})))}),s.sort(function(e,t){return e.taxRate.split("@")[1].replace("%","")-t.taxRate.split("@")[1].replace("%","")}),{});return Object.keys(o).forEach(function(e){l[e]=o[e]+(null!=(e=i[e])?e:0)}),Object.keys(l).forEach(function(e){isNullOrZero(e)||s.push({taxRate:"Cess @".concat(toFixedTwoDouble(e),"%"),taxAmount:o[e]})}),s}function getTaxes(e,t,n,o,r,i){switch(e){case"theme_one":case"theme_two":case"theme_seven":case"theme_eight":return getTaxSummary(t,n,o,r,i).map(function(e){return{name:encodeString(e.taxRate),value:formatIndianCurrency(e.taxAmount)}})}return[]}function getTaxSummaryByHsn(o,n){var r=[];return Object.keys(o).forEach(function(n){Object.keys(o[n]).forEach(function(e){var t=o[n][e];r.push({hsn:n,taxRate:e,taxAmount:t.taxAmount,taxableAmount:t.taxableAmount})})}),r.sort(function(e,t){return e.taxRate-t.taxRate}),Object.keys(n).forEach(function(e){var t;isNullOrZero(e)||(t=n[e],r.push({hsn:"-",taxRate:e,taxAmount:null!=(e=null==t?void 0:t.taxAmount)?e:0,taxableAmount:null!=(e=null==t?void 0:t.taxableAmount)?e:0}))}),r}function getTaxTable(e,t,n){switch(e){case"theme_three":case"theme_eight":return getTaxSummaryByHsn(t,n).map(function(e){var t=getCessRate(e.taxRate),t=getItemTax(e.taxableAmount,t),n=getEffectiveTaxRate(e.taxRate),o=e.taxAmount-t;return{hsn:e.hsn,value:formatIndianCurrency(e.taxableAmount),cgstRate:n/2,cgstAmount:formatIndianCurrency(o/2),sgstRate:n/2,sgstAmount:formatIndianCurrency(o/2),igstRate:n,igstAmount:formatIndianCurrency(o),cessAmount:formatIndianCurrency(t),totalTax:formatIndianCurrency(e.taxAmount)}})}return[]}function calculateDiscountValue(e,t,n){return(t+n)*e/100}function loyaltyPointsToMoney(e,t){return isNullOrZero(e)?0:toFixedTwoDouble(e/(null!=t?t:1))}function getDiscountValue(e,t,n,o){o=loyaltyPointsToMoney(e.loyalty,null==o||null==(o=o.loyalty)?void 0:o.burn_rate);return"percentage"===e.discount_type?calculateDiscountValue(convertToDouble(e.discount),t,n)+o:convertToDouble(e.discount)+o}function sanitizeBalanceAmount(e){return e<REMAINING_AMOUNT_THRESHOLD?0:convertToDouble(e)}function calculateReceivedAmount(e,t,n){return"cash"==e.payment_type?n:(e=(n="number"==typeof n?n.toBigDecimal():n).minus(t))<REMAINING_AMOUNT_THRESHOLD?0:e}function getPaymentLink(e){return isNullOrEmpty(e)?null:"".concat(e,"?source=pdf")}function getForeignCurrencyTotalAmount(e,t){return isNullOrZero(e)||isNullOrEmpty(t)?0:toFixedTwoDouble(t/e)}function getEnglishAmountInWord(e,t){return e?new EnglishCurrency({currencyName:e.name,subCurrencyName:e.minorName,currencyNickname:e.nickname}).asWord(t):""}function getCessRate(e){try{switch(Number(e).toFixed(1)){case"26.0":case"40.0":return 12;case"88.0":return 60}return 0}catch(e){return 0}}function getKeralaCessTaxRate(e,t){if("service"==t)return 0!==e?1:0;switch(e){case 3:return.25;case 0:case.1:case.25:case 5:case 26:return 0;default:return 1}}function getPPU(e,t,n){return n?e/(1+t/100):e}function getItemAmount(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)*(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}function getItemTax(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)*((1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)/100)}function getTaxableAmount(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)-e}function getDiscountAmount(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)*((1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)/100)}function getDiscountRate(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return isNullOrZero(e)?0:100*t/e}function getFormattedUnit(e){return e!=UNIT_NONE&&null!=e?e:""}function getItemNotesString(e,t,n){return!isNullOrEmpty(e)&&n?e:n&&null!=t?t:""}function getItemSerialNumbers(e,t){if(!isNullOrEmpty(e)&&null!=t&&t.length)return t=t.map(function(e){return e.serial_no}).join(", "),"".concat(e,": ").concat(t)}function getItemAdditionalFields(e){var t={};return null!=e&&e.forEach(function(e){t[encodeString(e.key)]=encodeString(e.value)}),t}function getEffectiveTaxRate(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return e-getCessRate(e)}function isUsePurchasePrice(e){switch(e){case voucherType.purchase:case voucherType.purchaseOrder:case voucherType.debitNote:case voucherType.purchaseReturn:return!0;default:return!1}}function processItems(e,t,n,f,y){var o,p=isUsePurchasePrice(e.invoice_type),g=showMRP(e.invoice_type,t),v=isTrue(null==t||null==(o=t.invoice)?void 0:o.show_item_description),b=!isNullOrZero(convertToDouble(e.cess_amount)),I=null!=(o=null==(o=e.invoice_settings)?void 0:o.serialisation_description)?o:null==t||null==(o=t.serialisation)?void 0:o.description,_=0,C=0,T=!0,E="",N=0,A=0,w=0,S=0,x=0,R=[],k=[],P=null==(t=e.invoice_settings)||null==(t=t.invoice_columns)||null==(t=t.filter(function(e){var t;return isNullOrEmpty(null==(t=e.default)?void 0:t.trim())&&isTrue(e.value)}))?void 0:t.map(function(e){return null==e?void 0:e.key}),O={},D={},B={};return null!=(o=e.items)&&o.forEach(function(e){var t,n=p?e.purchase_info:e.sales_info,o=convertToDouble(null==n?void 0:n.price_per_unit),r=convertToDouble(null==n?void 0:n.gst_percentage),n=isTrue(null==n?void 0:n.is_tax_included),i=convertToDouble(e.quantity),a=getCessRate(r),o=getPPU(o,r,n),n=getItemAmount(o,i),s="amount"==e.discount_type?convertToDouble(e.discount):getDiscountAmount(n,convertToDouble(e.discount)),l="percentage"==e.discount_type?convertToDouble(e.discount):getDiscountRate(n,convertToDouble(e.discount)),n=getTaxableAmount(s,n),u=getItemTax(n,a),c=getItemTax(n,r),m=n+c,d=getEffectiveTaxRate(r),h=c-u,s=((["theme_five","theme_six"].includes(f)||null!=y&&null!=(t=y.item_table)&&t.inclusive_tax_rate)&&(o=m/i+s/i),R.push(_objectSpread({name:encodeString(e.name),hsn:null!=(t=e.identification_code)?t:"",quantityStr:"".concat(i," ").concat(getFormattedUnit(e.unit)).trim(),rate:formatIndianCurrency(o),discountAmount:formatIndianCurrency(s),discountPercentage:toFixedTwoDouble(l),taxAmount:formatIndianCurrency(h),taxPercentage:d,cessAmount:formatIndianCurrency(u),cessPercentage:a,amount:formatIndianCurrency(m),amountWithoutTax:formatIndianCurrency(n),mrp:g?toFixedTwoDouble(e.mrp):"",description:encodeString(getItemNotesString(e.notes,e.description,v)),serialNumbers:encodeString(getItemSerialNumbers(I,e.serial_nos)),igstAmount:formatIndianCurrency(h),igstPercentage:d,cgstAmount:formatIndianCurrency(h/2),cgstPercentage:d/2,sgstAmount:formatIndianCurrency(h/2),sgstPercentage:d/2},getItemAdditionalFields(e.additional_fields))),b&&(x+=getItemTax(n,getKeralaCessTaxRate(r,e.item_type))),_+=c,C+=convertToDouble(e.quantity),N+=s,A+=u,w+=n,S+=m,(E=isNullOrEmpty(E)?e.unit:E)!==e.unit&&(T=!1),null!=(t=e.additional_fields)&&t.some(function(e){return!isNullOrEmpty(e.value)&&null!=P&&P.includes(null==e?void 0:e.key)&&k.push(encodeString(null==e?void 0:e.key)),!1}),O[d]=(null!=(i=O[d])?i:0)+h,D[a]=(null!=(o=D[a])?o:0)+u,null!=(l=e.identification_code)?l:"-");B[s]=_objectSpread(_objectSpread({},B[s]),{},_defineProperty({},r,{taxAmount:(null!=(t=null==(m=B[s])||null==(m=m[r])?void 0:m.taxAmount)?t:0)+c,taxableAmount:(null!=(i=null==(d=B[s])||null==(d=d[r])?void 0:d.taxableAmount)?i:0)+n}))}),_+=n.additionalChargesTaxTotal,w+=n.additionalChargeTaxableAmountTotal,"always"===(null==y||null==(t=y.item_table)?void 0:t.summarize_total_qty)&&(T=!0),{totalTax:_,processedItems:R,itemAdditionalFields:_toConsumableArray(new Set(k)),taxSlabs:O,cessSlabs:D,hsnSlabs:B,totalQuantity:T?C:0,totalDiscount:N,totalCess:A,totalTaxableAmount:w,itemSubtotal:S,keralaCessAmount:x}}function getStateFromGstin(e){try{var t;return isNullOrEmpty(e)?"":null!=(t=GST_STATES[parseInt(e.slice(0,2))])?t:""}catch(e){return""}}function getCompanyState(e){var t;return isNullOrEmpty(e.gst_number)?null!=(t=null==(t=e.address)?void 0:t.state)?t:"":getStateFromGstin(e.gst_number)}function getBankingPartnerName(e){return isNullOrEmpty(e)?"":null==e||null==(e=e.toLowerCase())||null==(e=e.split("_"))?void 0:e[0].toUpperCase()}function canShowVABankDetails(e){return isTrue(null==e?void 0:e.mbb_pay_enabled)&&isTrue(null==e?void 0:e.show_sc_bank_details)}function getMbbPayBank(e,t,n,o){if(canShowVABankDetails(null==(e=e.company_settings)?void 0:e.mbb_pay)&&n&&!isNullOrEmpty(null==(e=t.virtual_account)?void 0:e.account_number))return{account_number:t.virtual_account.account_number,ifsc_code:t.virtual_account.ifsc_code,account_holder_name:null!=(n=t.virtual_account.beneficiary_name)?n:"",branch_name:getBankingPartnerName(t.virtual_account.banking_partner),bank_name:getBankingPartnerName(t.virtual_account.banking_partner)};return o&&(e=[],null!=o&&o.bank_name&&e.push(null==o?void 0:o.bank_name),null!=o&&o.branch_name&&e.push(null==o?void 0:o.branch_name),o.bank_name=e.join(",")),o}function getUPIDetails(e,t,n,o){if(o)return isTrue(null==(o=e.company_settings)||null==(o=o.mbb_pay)?void 0:o.mbb_pay_enabled)?null!=t&&null!=(o=t.upi_details)&&null!=(o=o.upi_id)&&o.startsWith("billbook")?void 0:{upiId:null==t||null==(o=t.upi_details)?void 0:o.upi_id,name:isNullOrEmpty(null==t?void 0:t.beneficiary_name)?e.name:null==t?void 0:t.beneficiary_name,transactionRef:null==t||null==(o=t.upi_details)?void 0:o.transaction_reference,mobile:e.mobile_number}:{upiId:null==n?void 0:n.account_number,name:isNullOrEmpty(null==n?void 0:n.account_holder_name)?e.name:null==n?void 0:n.account_holder_name,mobile:e.mobile_number}}function getUserUpiAndBankAccount(e){var t,n,o;return!Array.isArray(e)||e.some(function(e){return!e})?[void 0,void 0]:(t=null==e?void 0:e.find(function(e){return"upi"!=e.bank_account_type&&e.account_number}),o=null==e?void 0:e.find(function(e){return"upi"==e.bank_account_type}),[o=null!=e&&null!=(n=e[0])&&n.upi_name?{account_number:null==e||null==(n=e[0])?void 0:n.upi_name,account_holder_name:null==e||null==(n=e[0])?void 0:n.account_holder_name}:o,t])}var CASH_SALE="Cash Sale";function getPartyState(e){var t;return isNullOrEmpty(e.gst_reg_state)?null!=(t=null==(t=e.billing_address)?void 0:t.state)?t:"":null!=(t=e.gst_reg_state)?t:""}function showPartyBalance(e,t,n,o){return!(e.invoice_type!=voucherType.sales||!isTrue(null==t||null==(e=t.invoice)?void 0:e.show_previous_balance)||o.name===CASH_SALE)&&n}function getPartyBalance(e,t,n){var o;return(null!=(o=e.closing_balance)?o:e.balance)&&n?formatIndianCurrency(convertToDouble(null!=(o=e.closing_balance)?o:e.balance)-convertToDouble(t.remaining_amount)):0}function showPartyShippingAddress(e,t,n,o){return!(isNullOrEmpty(e.gst_number)&&t===n||o)}function getPartyFields(e){return null!=(e=null==(e=e.invoice_settings)||null==(e=e.party_additional_settings)||null==(e=e.filter(function(e){return!isNullOrEmpty(null==e?void 0:e.key)&&!isNullOrEmpty(e.value)}))?void 0:e.map(function(e){return{name:encodeString(null==e?void 0:e.key),value:encodeString(e.value)}}))?e:[]}function encodeString(e){return isNullOrEmpty(e)||"string"!=typeof e?"":e.replace(/&/g,"&amp").replace(/\"/g,"&quot").replace(/\'/g,"&#39;").replace(/</g,"&lt").replace(/>/g,"&gt")}function encodeLineBreaks(e){return isNullOrEmpty(e)?"":e.trim().replace(/\n/g,"<br/>")}function getFormattedAddressPart(e){return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]?isNullOrEmpty(e)?"":"".concat(e," "):isNullOrEmpty(e)?"":"".concat(e,", ")}function toAddressString(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return isNullOrEmpty(e)?"":((e=e.shipping_address?e.shipping_address:e).billing_address&&(e=e.billing_address),"company"===t?"".concat(getFormattedAddressPart(e.street_address)).concat(getFormattedAddressPart(e.city)).concat(getFormattedAddressPart(e.state)).concat(getFormattedAddressPart(null==(t=e)?void 0:t.pincode,!0)):"".concat(getFormattedAddressPart(e.street_address)).concat(getFormattedAddressPart(e.city)).concat(getFormattedAddressPart(null==(t=e)?void 0:t.pincode,!0)))}function isTypeNonTransactional(e){switch(e){case voucherType.quotation:case voucherType.deliveryChallan:case voucherType.purchaseOrder:case voucherType.proforma:return!0;default:return!1}}function isTypePurchase(e){switch(e){case voucherType.purchase:case voucherType.purchaseOrder:case voucherType.salesReturn:case voucherType.creditNote:return!0;default:return!1}}function getBillToLabel(e){switch(e){case voucherType.purchase:case voucherType.purchaseOrder:return"BILL FROM";case voucherType.salesReturn:case voucherType.creditNote:return"PARTY NAME";default:return null}}function showMRP(e,t){var n;switch(e){case voucherType.sales:case voucherType.quotation:case voucherType.deliveryChallan:case voucherType.proforma:case voucherType.purchaseOrder:case voucherType.purchase:case voucherType.salesReturn:case voucherType.purchaseReturn:case voucherType.creditNote:case voucherType.debitNote:return isTrue(null==t||null==(n=t.item)?void 0:n.mrp_info);default:return!1}}function getTnc(e,t,n){return"ios"===n||"ios"===t.source?null!=(n=t.tnc)?n:e.sales_invoice_tnc:t.tnc}function generateUPIUri(e,t,n){var o;if(e&&null!=t&&t.upiId&&n)return o="upi://pay?pa=".concat(null==t?void 0:t.upiId,"&pn=").concat(null==t?void 0:t.name,"&tn=").concat(null==t?void 0:t.name,"&tr=").concat(null!=(o=null==t?void 0:t.transactionRef)?o:n,"&cu=","INR","&mode=","02","&mbbnumber=").concat(null==t?void 0:t.mobile),.01<e&&(o+="&am=".concat(e)),o}function prepareEInvoiceData(e,t){if([voucherType.sales,voucherType.creditNote,voucherType.debitNote].includes(e.invoice_type)&&null!=t&&null!=(t=t.invoice)&&null!=(t=t.einvoice_settings)&&t.show_qrn_irn&&e.einvoice_details)return{qr:e.einvoice_details.einvoice_qr,irn:e.einvoice_details.einvoice_irn,ackNo:e.einvoice_details.einvoice_ackNo,ackDateTime:formatDateTime(e.einvoice_details.einvoice_ackDt)}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ItemColumnNames={SERIAL_NUMBER:"Serial Number",NAME:"Name",HSN:"Hsn",QUANTITY:"Quantity",MRP:"Mrp",ADDN1:"Addn1",ADDN2:"Addn2",ADDN3:"Addn3",ADDN4:"Addn4",RATE:"Rate",DISCOUNT:"Discount",TAX:"Tax",SGST:"SGST",CGST:"CGST",IGST:"IGST",CESS:"Cess",TOTAL:"Total"},Highlight={NONE:0,THEME:1,SERIAL_NUMBER:2,PHONE_NUMBER:3,TNC:4,CUSTOM_VOUCHER_FIELDS:5,CUSTOM_ITEM_FIELDS:6,SHOW_PARTY_BALANCE:7,SHOW_MRP:8,SHOW_ITEM_DESCRIPTION:9,FREE_QUANTITY:10,TAGLINE:11,ADDITIONAL_SETTINGS:12,SIGNATURE:13,CUSTOM_PARTY_FIELDS:14,FOREIGN_CURRENCY:15,COMPANY_GST:16,COMPANY_ADDRESS:17,COMPANY_EMAIL:18,COMPANY_NAME:19},RUPEE_SYMBOL="&#x20b9",MM_IN_PIXEL=.2645833333,BASE_URI_UPI="upi://pay",UPI_TXN_FOR_INVOICE_QR="Instant and Safe Payment",IMCONFIG={party:["required"],voucher:["required"],company:["required"],"party.name":["required"],"company.name":["required"]},SPACING_SIZE_MAP={small:"4px",Medium:"8px",Large:"16px"};function openPricing(e){"android"===e&&Android.openPricing()}function isEmpty(e){return!e}function isNonZero(e){return!isEmpty(e=e&&e.toString().replace(/,/g,""))&&!isNaN(e)&&0!=parseFloat(e)}function sanitizeImageUri(e){return e.startsWith("https://")||e.startsWith("data:")?e:"data:image/jpeg;base64,".concat(e)}function setInnerHtml(e,t){null!=e&&(isEmpty(t)?e.innerHTML="":e.innerHTML=t)}function setInnerHtmlOrDefault(e,t){null!=e&&(isEmpty(t)?e.innerHTML="-":e.innerHTML=t)}function setInnerHtmlOrRemove(e,t,n){null!=e&&(isEmpty(t)?null!=n&&n.length?n.forEach(function(e){removeElement(e)}):null!=e&&e.remove():e.innerHTML=t)}function setValueForClass(e,t){for(var n=document.getElementsByClassName(e),o=0;o<n.length;o+=1)setInnerHtml(n[o],t)}function setValueForQueryOrRemove(e,t){for(var n=document.querySelectorAll(e),o=0;o<n.length;o+=1)setInnerHtmlOrRemove(n[o],t)}function setValueForIdOrRemove(e,t){for(var e=document.getElementById(e),n=arguments.length,o=new Array(2<n?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];setInnerHtmlOrRemove(e,t,null!=o&&o.length?o.map(function(e){return document.getElementById(e)}):[])}function setFirstChildValueOrRemoveFlag(e,t,n,o){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,e=document.getElementById(e);if(!t)return removeElement(e);setInnerHtml(null==e||null==(t=e.children)?void 0:t[r],isEmpty(n)?o:n)}function setValueForId(e,t){setInnerHtml(document.getElementById(e),t)}function setValueForIdIfValue(e,t){isEmpty(t)||setInnerHtml(document.getElementById(e),t)}function setImageByIdOrRemove(e,t){e=document.getElementById(e);e&&(isEmpty(t)?e&&e.remove():e.src=sanitizeImageUri(t))}function removeElement(e){null!=e&&e.remove()}function removeElementById(e){removeElement(document.getElementById(e))}function removeElementByQuery(e){document.querySelectorAll(e).forEach(function(e){return removeElement(e)})}function isGSTSupported(e){return![5,6].includes(e)}function hasTaxTable(e){return[3,8].includes(e)}function hasTotalRowInTaxTable(e){return[8].includes(e)}function isBoxTheme(e){return[3,4,5,6,8].includes(e)}function hasNoTaxColumn(e){return[8].includes(e)}function addClassInQueryList(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];n.forEach(function(e){document.querySelectorAll(e).forEach(function(e){return e.classList.add(t)})})}function setStyleInQuery(e,t){document.querySelectorAll(e).forEach(function(e){return e.setAttribute("style",t)})}function mapStyleObjectToString(t){var e;return t?("object"===_typeof(e=t)&&(e.font_size&&(t["font-size"]=e.font_size),e=Object.keys(t).map(function(e){return"".concat(e,": ").concat(t[e],";")}).join(" ")),e):""}function appendStyleInElement(e,t){null!=e&&(null==e.getAttribute("style")?e.setAttribute("style",t):e.setAttribute("style","".concat(e.getAttribute("style"),"; ").concat(t)))}function appendStylesInQuery(e,t){t&&document.querySelectorAll(e).forEach(function(e){appendStyleInElement(e,mapStyleObjectToString(t))})}function appendStylesForChildrenInQuery(e,o){o&&document.querySelectorAll(e).forEach(function(e){for(var t,n=0;n<e.children.length;n++)appendStyleInElement(null==(t=e.children)?void 0:t[n],mapStyleObjectToString(o))})}function appendStyleForFirstQuery(e,t){t&&appendStyleInElement(document.querySelector(e),mapStyleObjectToString(t))}function setStyleInPrintQuery(e,t){e="@media print { ".concat(e," { ").concat(mapStyleObjectToString(t)," } }");document.head.insertAdjacentHTML("beforeend","<style>".concat(e,"</style>"))}function mergeSide(e){return"".concat(e.value).concat(e.unit)}function setLinkById(e,t){e=document.getElementById(e);null!=e&&(e.href=t)}function openAdnSaveSignature(e){"android"===e&&Android.openAndSaveSignature()}function openLogo(e){"android"===e&&Android.openLogo()}function setQRCode(a,e,t,n,s,l){var o,r,u;return isEmpty(null==e?void 0:e.upiId)||isEmpty(null==e?void 0:e.name)||isEmpty(s)||isEmpty(n)?removeElementById(s):(r="".concat(BASE_URI_UPI,"?pa=").concat(null==e?void 0:e.upiId,"&pn=").concat(null==e?void 0:e.name,"&tn=").concat(null==e?void 0:e.name,"&tr=").concat(null!=(o=null==e?void 0:e.transactionRef)?o:n,"&cu=","INR","&mode=","02","&mbbnumber=").concat(null==e?void 0:e.mobile),isNullOrZero(t)||(r+="&am=".concat(convertToDouble(null==t?void 0:t.replace(/,/g,"")))),(u=document.createElement("div")).id="qr-code-flag-div",u.style.display="none",u.innerHTML="",document.body.append(u),new Promise(function(i,e){QRCode.toCanvas(document.getElementById(s),r,{errorCorrectionLevel:"L",margin:0,width:200},function(e){var t,n,o,r;return e?(i(),u.innerHTML="DONE",Sentry.captureException(e),console.error(e)):(t=document.getElementById(l),(n=document.getElementById(s))&&"function"==typeof(null==n?void 0:n.getContext)?(o=n.getContext("2d"),(r=new Image).onload=function(){a&&o.drawImage(r,72,72);var e=n.toDataURL();n.remove(),t.innerHTML+="<img id=".concat(s,' src="').concat(e,'" />'),u.innerHTML="DONE",i()},void(r.src=ICON_BASE64)):(i(),console.log(e)))})}))}function tdsTcsShowInInvoice(e){return![5,6].includes(e)}function getItemColumns(e){var t=[];switch(e){case 1:case 2:case 3:t=[ItemColumnNames.SERIAL_NUMBER];case 7:return[].concat(_toConsumableArray(t),[ItemColumnNames.NAME,ItemColumnNames.HSN,ItemColumnNames.ADDN1,ItemColumnNames.ADDN2,ItemColumnNames.ADDN3,ItemColumnNames.ADDN4,ItemColumnNames.QUANTITY,ItemColumnNames.MRP,ItemColumnNames.RATE,ItemColumnNames.DISCOUNT,ItemColumnNames.TAX,ItemColumnNames.CESS,ItemColumnNames.TOTAL]);case 4:return[ItemColumnNames.SERIAL_NUMBER,ItemColumnNames.NAME,ItemColumnNames.HSN,ItemColumnNames.ADDN1,ItemColumnNames.ADDN2,ItemColumnNames.ADDN3,ItemColumnNames.ADDN4,ItemColumnNames.QUANTITY,ItemColumnNames.MRP,ItemColumnNames.RATE,ItemColumnNames.DISCOUNT,ItemColumnNames.SGST,ItemColumnNames.CGST,ItemColumnNames.IGST,ItemColumnNames.CESS,ItemColumnNames.TOTAL];case 5:case 6:return[ItemColumnNames.SERIAL_NUMBER,ItemColumnNames.NAME,ItemColumnNames.ADDN1,ItemColumnNames.ADDN2,ItemColumnNames.ADDN3,ItemColumnNames.ADDN4,ItemColumnNames.QUANTITY,ItemColumnNames.MRP,ItemColumnNames.RATE,ItemColumnNames.DISCOUNT,ItemColumnNames.TOTAL];case 8:return[ItemColumnNames.SERIAL_NUMBER,ItemColumnNames.NAME,ItemColumnNames.HSN,ItemColumnNames.ADDN1,ItemColumnNames.ADDN2,ItemColumnNames.ADDN3,ItemColumnNames.ADDN4,ItemColumnNames.QUANTITY,ItemColumnNames.MRP,ItemColumnNames.RATE,ItemColumnNames.DISCOUNT,ItemColumnNames.TOTAL];default:return[]}}function getPageHeight(e){return[4,6].includes(e)?148:296}function validateValue(e,t){return"required"!==t||!!e}function checkIfValid(e,t){var n=t.split("."),o=nestedAccess.apply(void 0,[e].concat(_toConsumableArray(n))),r=!1;return null!=IMCONFIG&&null!=(e=IMCONFIG[t])&&e.forEach(function(e){r=validateValue(o,e)}),r}function validateConfig(e){var t=[];if(checkRightFileLoaded(e)){for(var n in IMCONFIG)if(!checkIfValid(e.data,n))return t.push("Key validation failed for "+n),void reportErrorToClient(e.data.platform,t)}else t.push("Wrong HTML File is loaded"),reportErrorToClient("web",t)}function checkRightFileLoaded(e){var t,n=document.querySelector('meta[name="description"]').content,n="".concat(n,".html");return!(null==(t=e.customThemeConfig)||!t.base_theme||n!=="custom_".concat(null==(t=e.customThemeConfig)?void 0:t.base_theme,".html"))||n==="".concat(null==e||null==(t=e.data)?void 0:t.themeType,".html")||n==="".concat(null==e||null==(t=e.data)||null==(t=t.company)||null==(t=t.company_settings)||null==(t=t.invoice)?void 0:t.invoice_theme,".html")||!(null!=e&&null!=(t=e.data)&&t.themeType||null!=e&&null!=(t=e.data)&&null!=(t=t.company.company_settings)&&null!=(t=t.invoice)&&t.invoice_theme||"theme_seven.html"!==n)}function reportErrorToClient(e,t){var n;switch(e){case"web":case"desktop":window.parent.postMessage({channel:"im",action:"im_error",data:{error:t}},"*");break;case"android":Android.imError(t.join("&\n"));break;case"ios":null!=(n=window.webkit.messageHandlers)&&null!=(n=n.imError)&&n.postMessage(t)}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}var ResizableTable=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),_defineProperty(this,"x",void 0),_defineProperty(this,"w",void 0),_defineProperty(this,"table",void 0),_defineProperty(this,"headers",void 0),_defineProperty(this,"totalCols",void 0),this.data=e}return _createClass(t,[{key:"mouseMoveHandler",value:function(e){for(var e=e.clientX-this.x,t=(this.headers[this.selectedIndex].style.width="".concat(this.w+e,"px"),e/(this.totalCols-1)),n=0;n<this.totalCols;n++)this.selectedIndex!==n&&(this.headers[n].style.width="".concat(this.getComputedWidthinPx(this.headers[n])-t,"px"))}},{key:"mouseDownHandler",value:function(e){var t;this.x=e.clientX,this.w=this.getComputedWidthinPx(e.target.parentNode),this.table=document.querySelector(null==(t=this.data)?void 0:t[1]),this.headers=_toConsumableArray(this.table.querySelectorAll("th")),this.selectedIndex=this.headers.indexOf(e.target.parentNode),this.totalCols=this.headers.length,document.addEventListener("mousemove",this.mouseMoveHandler.bind(this)),document.addEventListener("mouseup",this.mouseUpHandler.bind(this))}},{key:"mouseUpHandler",value:function(){var e;document.querySelector(null==(e=this.data)?void 0:e[1]).click(),document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler)}},{key:"getComputedWidthinPx",value:function(e){e=window.getComputedStyle(e).width;return parseFloat(e)}},{key:"getResizedTable",value:function(){var o,e,r=this;if(this.headers)return o=this.getComputedWidthinPx(document.querySelector(null==(e=this.data)?void 0:e[1])),(e=_toConsumableArray(null==(e=this.data)?void 0:e[0])).forEach(function(e,t){var n;e.width=Math.floor(parseFloat(null==(n=r.headers)||null==(n=n[t])?void 0:n.style.width)/o*100),e.unit="%"}),e}}]),t}(),RearrangableTable=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),_defineProperty(this,"isDraggingStarted",!1),_defineProperty(this,"draggingEle",void 0),_defineProperty(this,"placeholder",void 0),_defineProperty(this,"draggingColumnIndex",void 0),_defineProperty(this,"endColumnIndex",void 0),_defineProperty(this,"x",void 0),_defineProperty(this,"y",void 0),_defineProperty(this,"list",void 0),this.data=e}return _createClass(t,[{key:"cloneTable",value:function(){var s=this,e=document.querySelector(null==(e=this.data)?void 0:e[1]),t=e.getBoundingClientRect(),l=(this.list=document.createElement("div"),this.list.style.position="absolute",this.list.style.width="200px",this.list.style.height="50px",this.list.style.left="".concat(t.left),this.list.style.top="".concat(t.top),e.parentNode.insertBefore(this.list,e),e.style.visibility="hidden",[].slice.call(e.querySelectorAll("tbody td"))),t=[].slice.call(e.querySelectorAll("th")),u=t.length,n=window.getComputedStyle(e),e=this.computeWidth(e);this.list.style.width="".concat(e,"px"),this.list.style.height="".concat(n.height),t.forEach(function(e,n){var t=document.createElement("div"),o=(t.classList.add("draggable"),document.createElement("table")),r=(o.setAttribute("class","clone-table"),window.getComputedStyle(e)),i=e.cloneNode(!0),e=s.computeWidth(e),a=(i.style.height="".concat(r.height),i.style.width="".concat(e,"px"),document.createElement("tr"));a.appendChild(i),o.appendChild(a),l.filter(function(e,t){return(t-n)%u==0}).forEach(function(e){var t=e.cloneNode(!0),e=window.getComputedStyle(e);s.computeWidth(t),t.style.height="".concat(e.height),t.style.width="".concat(e.width),t.style.padding=e.padding,(a=document.createElement("tr")).appendChild(t),o.appendChild(a)}),t.appendChild(o),s.list.appendChild(t)})}},{key:"computeWidth",value:function(e){var t=window.getComputedStyle(e);return e.offsetWidth+(parseFloat(t.marginLeft)+parseFloat(t.marginRight))-(parseFloat(t.paddingLeft)+parseFloat(t.paddingRight))+(parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth))}},{key:"mouseMoveHandler",value:function(e){this.isDraggingStarted||(this.isDraggingStarted=!0,this.cloneTable(),this.draggingEle=_toConsumableArray(this.list.children)[this.draggingColumnIndex],this.placeholder=document.createElement("div"),this.placeholder.classList.add("placeholder"),this.placeholder.style.width="".concat(this.draggingEle.offsetWidth,"px"),this.draggingEle.parentNode.insertBefore(this.placeholder,this.draggingEle.nextSibling)),this.draggingEle.style.position="absolute",this.draggingEle.style.left="".concat(this.draggingEle.offsetLeft+e.clientX-this.x,"px"),this.draggingEle.style.zIndex=999,this.draggingEle.style.borderLeft="1px solid black",this.draggingEle.style.outline="2px dashed #FE6193",this.draggingEle.style.background="#FFF7FA",this.x=e.clientX,this.y=e.clientY;var e=this.draggingEle.previousElementSibling,t=this.draggingEle.nextElementSibling;e&&this.isOnLeft(this.draggingEle,e)?(this.swap(this.placeholder,this.draggingEle),this.swap(this.placeholder,e)):t&&this.isOnLeft(t,this.draggingEle)&&(this.swap(t,this.placeholder),this.swap(t,this.draggingEle))}},{key:"mouseUpHandler",value:function(e){var t;this.isDraggingStarted=!1,this.endColumnIndex=this.list?_toConsumableArray(this.list.children).indexOf(this.draggingEle):-1,document.querySelector(null==(t=this.data)?void 0:t[1]).click(),document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler)}},{key:"swap",value:function(e,t){var n=null==e?void 0:e.parentNode,o=(null==e?void 0:e.nextSibling)===t?e:e.nextSibling;null!=t&&t.parentNode.insertBefore(e,t),null!=n&&n.insertBefore(t,o)}},{key:"isOnLeft",value:function(e,t){e=e.getBoundingClientRect(),t=t.getBoundingClientRect();return e.left+e.width/2<t.left+t.width/2}},{key:"mouseDownHandler",value:function(e){var t,n=e.target.dataset.row;this.draggingColumnIndex=_toConsumableArray(document.querySelector(null==(t=this.data)?void 0:t[1]).querySelectorAll("[data-row='".concat(n,"']"))).indexOf(e.target),this.x=e.clientX,this.y=e.clientY-e.target.offsetTop,document.addEventListener("mousemove",this.mouseMoveHandler.bind(this)),document.addEventListener("mouseup",this.mouseUpHandler.bind(this))}},{key:"getReorderedTable",value:function(){-1===this.endColumnIndex&&(this.endColumnIndex=this.draggingColumnIndex);var e=this.data[0].filter(function(e){return null==e?void 0:e.show}),t=e.splice(this.draggingColumnIndex,1)[0];return e.splice(this.endColumnIndex,0,t),e}}]),t}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}var LoadCustomInvoice=function(){function i(e,t){var n,o,r=this;_classCallCheck(this,i),_defineProperty(this,"serverColumnKeys",_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},ItemColumnNames.HSN,"hsn"),ItemColumnNames.MRP,"mrp"),ItemColumnNames.NAME,"items"),ItemColumnNames.TOTAL,"total"),ItemColumnNames.RATE,"rate_item"),ItemColumnNames.QUANTITY,"quantity"),ItemColumnNames.DISCOUNT,"discount"),ItemColumnNames.SERIAL_NUMBER,"serial_numbers")),_defineProperty(this,"imColumnKeys",_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"hsn",ItemColumnNames.HSN),"mrp",ItemColumnNames.MRP),"items",ItemColumnNames.NAME),"total",ItemColumnNames.TOTAL),"rate_item",ItemColumnNames.RATE),"quantity",ItemColumnNames.QUANTITY),"discount",ItemColumnNames.DISCOUNT),"serial_numbers",ItemColumnNames.SERIAL_NUMBER)),_defineProperty(this,"additionalColumns",[ItemColumnNames.ADDN1,ItemColumnNames.ADDN2,ItemColumnNames.ADDN3,ItemColumnNames.ADDN4]),_defineProperty(this,"updateSectionsFont",["#company-name",".company-address-label","#company-address","#invoice-main-details",".meta-bill-ship-to",".meta-bill-ship-to",".items-table-info","#amount-words-label","#amount-words-value","#notes-label","#notes-value","#bank-details-label",".bank-details-info",".party-addn-field",".sub-details-class","#slogan"]),_defineProperty(this,"sections",["business_section","invoice_section","party_section","item_table","miscellaneous_section","footer"]),_defineProperty(this,"idSectionMap",{business_section:"business-invoice-details",item_table:"item-table-details",miscellaneous_section:"miscellaneous",footer:"footer"}),(this.invoice=e).isCustomTheme&&(this.baseTheme=t.base_theme,this.editMode=t.editMode,this.itemTable=t.item_table,this.businessSection=t.business_section,this.miscellaneousSection=t.miscellaneous_section,this.themeConfigs=t.theme_properties,this.focusSection=t.focusSection,n={},this.itemTableColumns=null==(e=t.item_table)||null==(e=e.columns)?void 0:e.filter(function(e){return!n[e.name]&&(n[e.name]=!0,null==e?void 0:e.show)}),this.itemTableColumnsMap=null==(t=this.itemTableColumns)?void 0:t.reduce(function(e,t){return e[t.name]=t,e},{}),o=_toConsumableArray(this.additionalColumns),this.additionalColumnKeys=null==(e=this.itemTableColumns)||null==(e=e.columns)?void 0:e.reduce(function(e,t){return r.imColumnKeys[null==t?void 0:t.name]||(e[o.shift()]=t),e},{}),this.interactionHelper=new InteractionHelper([this.itemTableColumns,"#items-table"]))}return _createClass(i,[{key:"preDataLoad",value:function(){this.invoice.isCustomTheme&&(this.updateItemColumns(),this.updateItemColumnStyle(),this.updateBasicValues(),this.setItemAdditionalFieldsOrder(),this.setBusinessSectionLayout(),this.generateItemTableHeaders())}},{key:"postSkeltonLoad",value:function(){this.invoice.isCustomTheme&&(this.setWatermarkImage(),this.setWatermarkText(),this.setFooterImage(),this.setFooterText(),this.setCompanyHeaderImage(),this.setSpacing(),this.editMode&&this.showSpacing(),this.editMode||this.removeResizers())}},{key:"postDataLoad",value:function(){this.invoice.isCustomTheme&&(this.updateInformationFromConfig(),this.overrideStylesFromConfig(),this.hideAmountInWords(),this.enableEditMode(),this.registerClickEvents(),this.registerHoverEvents(),this.focusSectionAndSubSection())}},{key:"updateItemColumns",value:function(){var e,t=this,n=_toConsumableArray(this.additionalColumns);this.invoice.itemColumns=null==(e=this.itemTableColumns)?void 0:e.map(function(e){return t.imColumnKeys[null==e?void 0:e.name]?t.imColumnKeys[null==e?void 0:e.name]:n.shift()})}},{key:"updateItemColumnStyle",value:function(){var e,o=this,r={};null!=(e=this.invoice.itemColumns)&&e.forEach(function(e){var t,n=(n=o.itemTableColumnsMap[o.serverColumnKeys[e]])||(null==(t=o.additionalColumnKeys)?void 0:t[e]);n&&(t=mapStyleObjectToString(n.style_properties),r[e]=t)}),this.invoice.itemColumnStyle=r}},{key:"setItemAdditionalFieldsOrder",value:function(){var e,t=this;this.invoice.itemAdditionalFields=null==(e=this.itemTableColumns)||null==(e=e.map(function(e){return e.name}))?void 0:e.filter(function(e){return t.invoice.itemAdditionalFields.includes(e)})}},{key:"updateBasicValues",value:function(){var e;"TAX INVOICE"===this.invoice.type&&(this.invoice.type=null==(e=this.themeConfigs)?void 0:e.document_title),this.invoice.primaryColor=null==(e=this.themeConfigs)?void 0:e.theme_color,this.invoice.stretchItemTable=null==(e=this.themeConfigs)?void 0:e.stretch_item_table}},{key:"getTemplateAndContainerIdBusinessSection",value:function(){switch(this.businessSection.layout_type){case"B_I_BT-ST":return["business-section-layout-one","business-section-layout-one-container"];case"B-I_BT-ST":return["business-section-layout-two","business-section-layout-two-container"];case"B_BT-ST-I":return["business-section-layout-three","business-section-layout-three-container"];default:return["business-section-layout-one","business-section-layout-one-container"]}}},{key:"setBusinessSectionLayout",value:function(){var e=this.getTemplateAndContainerIdBusinessSection(),e=_slicedToArray(e,2),t=e[0],e=e[1],n=document.getElementById("business-section-layout-container"),t=document.getElementById(t);null!=n&&n.setAttribute("id",e),null!=n&&n.appendChild(null==t?void 0:t.content.cloneNode(!0))}},{key:"generateItemTableHeaders",value:function(){var e,o,r=this,t=document.createElement("thead"),n=document.createElement("tr"),i=document.getElementById("items-table"),a="",s=1,l=this.itemTable.auto_width_adjust;null!=(e=this.itemTableColumns)&&e.forEach(function(e){o=null==(t=r.itemTableColumnsMap)||null==(t=t[e.name])?void 0:t.placeholder;var t,n=l?"":"width:".concat(e.width).concat(e.unit);switch(e.name){case r.serverColumnKeys[ItemColumnNames.NAME]:a+='<th scope="col" class="items-table-header items-type-header" style="'.concat(n,'">').concat(o||ItemColumnNames.NAME,'<div class="resizer"></div></th>');break;case r.serverColumnKeys[ItemColumnNames.HSN]:a+='<th scope="col" class="items-table-header items-hsn-column" style="'.concat(n,'">').concat(o||ItemColumnNames.HSN,'<div class="resizer"></div></th>');break;case r.serverColumnKeys[ItemColumnNames.SERIAL_NUMBER]:a+='<th scope="col" class="items-table-header" style="'.concat(n,'">').concat(o||ItemColumnNames.SERIAL_NUMBER,'<div class="resizer"></div></th>');break;case r.serverColumnKeys[ItemColumnNames.QUANTITY]:a+='<th scope="col" class="items-table-header items-qty-column" style="'.concat(n,'">').concat(o||ItemColumnNames.QUANTITY,'<div class="resizer"></div></th>');break;case r.serverColumnKeys[ItemColumnNames.MRP]:a+='<th scope="col" class="items-table-header items-mrp-column" style="'.concat(n,'">').concat(o||ItemColumnNames.MRP,'<div class="resizer"></div></th>');break;case r.serverColumnKeys[ItemColumnNames.RATE]:a+='<th scope="col" class="items-table-header items-rate-column" style="'.concat(n,'">').concat(o||ItemColumnNames.RATE,'<div class="resizer"></div></th>');break;case r.serverColumnKeys[ItemColumnNames.DISCOUNT]:a+='<th scope="col" class="items-table-header items-discount-column" style="'.concat(n,'">').concat(o||ItemColumnNames.DISCOUNT,'<div class="resizer"></div></th>');break;case r.serverColumnKeys[ItemColumnNames.TOTAL]:a+='<th scope="col" class="items-table-header" style="'.concat(n,'">').concat(o||ItemColumnNames.TOTAL,'<div class="resizer"></div></th>');break;default:a+='<th scope="col" class="items-table-header items-addn'.concat(s++,'-column" style="').concat(n,'">').concat(o,'<div class="resizer"></div></th>')}}),n.innerHTML=a,null!=t&&t.appendChild(n),i.prepend(t)}},{key:"setWatermarkImage",value:function(){var e,t;"Text"!==(null==(e=this.themeConfigs)||null==(e=e.watermark)?void 0:e.type)&&null!=(e=this.themeConfigs)&&null!=(e=e.watermark)&&e.link&&null!=(e=this.themeConfigs)&&null!=(e=e.watermark)&&e.show&&((e=document.createElement("img")).src=sanitizeImageUri(null==(t=this.themeConfigs)||null==(t=t.watermark)?void 0:t.link),e.id="watermark",null!=(t=this.themeConfigs)&&null!=(t=t.watermark)&&t.opacity&&(e.style.opacity=(null==(t=this.themeConfigs)||null==(t=t.watermark)?void 0:t.opacity)/100),document.getElementById("page").prepend(e))}},{key:"setFooterImage",value:function(){var e,t;"Text"!==(null==(t=this.themeConfigs)||null==(t=t.footer)?void 0:t.type)&&(null!=(t=this.themeConfigs)&&null!=(t=t.footer)&&t.show&&"Image"===(null==(t=this.themeConfigs)||null==(t=t.footer)?void 0:t.type)&&null!=(t=this.themeConfigs)&&null!=(t=t.footer)&&t.show_empty?document.getElementById("footer").style.height="162px":null!=(t=this.themeConfigs)&&null!=(t=t.footer)&&t.link&&null!=(t=this.themeConfigs)&&null!=(t=t.footer)&&t.show&&((t=document.createElement("img")).src=sanitizeImageUri(null==(e=this.themeConfigs)||null==(e=e.footer)?void 0:e.link),t.style.height="162px",t.style.width="100%",document.getElementById("footer").appendChild(t)))}},{key:"setFooterText",value:function(){var e,t;"Text"===(null==(t=this.themeConfigs)||null==(t=t.footer)?void 0:t.type)&&null!=(t=this.themeConfigs)&&null!=(t=t.footer)&&t.show&&null!=(t=this.themeConfigs)&&null!=(t=t.footer)&&null!=(t=t.text)&&t.length&&((t=document.createElement("h3")).innerHTML=null==(e=this.themeConfigs)||null==(e=e.footer)?void 0:e.text,t.style.display="flex",t.style.justifyContent="center",document.getElementById("footer").appendChild(t))}},{key:"hideAmountInWords",value:function(){var e;null!=(e=this.miscellaneousSection)&&null!=(e=e.amount_in_words)&&e.show||(setStyleInQuery("#amount-words","display: none"),setStyleInQuery("#foreign-amount-words","display: none"),setStyleInQuery("#amount-words-container","border-bottom: 1px solid black; border-inline: none; border-top: none;"))}},{key:"updateInformationFromConfig",value:function(){null!=(e=this.businessSection)&&null!=(e=e.bussiness_details)&&null!=(e=e.columns)&&e.forEach(function(e){switch(e.name){case"address":return setFirstChildValueOrRemoveFlag("company-address-content",null==e?void 0:e.show,null==e?void 0:e.placeholder,"Address:");case"mobile":return setFirstChildValueOrRemoveFlag("company-mobile-number-content",null==e?void 0:e.show,null==e?void 0:e.placeholder,"Mobile:");case"email":return setFirstChildValueOrRemoveFlag("company-email-content",null==e?void 0:e.show,null==e?void 0:e.placeholder,"Email:");case"gst":return setFirstChildValueOrRemoveFlag("company-gst-number-content",null==e?void 0:e.show,null==e?void 0:e.placeholder,"GSTIN:");case"pan":return setFirstChildValueOrRemoveFlag("company-pan-number-content",null==e?void 0:e.show,null==e?void 0:e.placeholder,"PAN:")}}),null!=(e=this.businessSection)&&null!=(e=e.invoice_details)&&null!=(e=e.columns)&&e.forEach(function(e){"due_date"!==e.name||null!=e&&e.show||removeElementById("invoice-due-date-container")}),"IT_S"===(null==(e=this.itemTable)?void 0:e.layout_type)&&removeElementById("tax-table"),null!=(e=this.itemTable)&&e.enable_item_desc||removeElementByQuery(".item-imei"),setValueForIdIfValue("amount-words-label",null==(e=this.miscellaneousSection)||null==(e=e.amount_in_words)||null==(e=e.heading)?void 0:e.name),setFirstChildValueOrRemoveFlag("notes",null==(e=this.miscellaneousSection)||null==(e=e.notes)?void 0:e.show,null==(e=this.miscellaneousSection)||null==(e=e.notes)||null==(e=e.heading)?void 0:e.name,"Notes"),setFirstChildValueOrRemoveFlag("tnc",null==(e=this.miscellaneousSection)||null==(e=e.tnc)?void 0:e.show,null==(e=this.miscellaneousSection)||null==(e=e.tnc)||null==(e=e.heading)?void 0:e.name,"Terms and Conditions"),null!=(e=this.miscellaneousSection)&&null!=(e=e.bank_details)&&e.show||(removeElementById("bank-details"),removeElementById("upi-details")),null!=(e=this.themeConfigs)&&e.show_slogan||removeElementByQuery(".page-header-tagline-value"),!this.invoice.logoUrl&&this.editMode||removeElementById("company-logo-placeholder"),setFirstChildValueOrRemoveFlag("signature",null==(e=this.miscellaneousSection)||null==(e=e.signature)?void 0:e.show,null==(e=this.miscellaneousSection)||null==(e=e.signature)?void 0:e.text,"Authorised Signatory For",1),null!=(e=this.businessSection)&&null!=(e=e.party_details)&&null!=(e=e.ship_to)&&e.show?null!=(e=this.businessSection)&&null!=(e=e.party_details)&&null!=(e=e.ship_to)&&null!=(e=e.columns)&&e.forEach(function(e){switch(e.name){case"address":null!=e&&e.show||removeElementById("ship-to-address-container");break;case"mobile_number":null!=e&&e.show||removeElementById("ship-to-mobile-container");break;case"company_name":!1===(null==e?void 0:e.show)&&removeElementById("ship-to-company-name")}}):removeElementById("ship-to"),null!=(e=this.businessSection)&&null!=(e=e.party_details)&&null!=(e=e.bill_to)&&null!=(e=e.columns)&&e.forEach(function(e){switch(e.name){case"mobile_number":null!=e&&e.show||removeElementById("bill-to-mobile-container");break;case"address":null!=e&&e.show||removeElementById("bill-to-address-container");break;case"gst":null!=e&&e.show||(removeElementById("bill-to-gstin-label"),removeElementById("bill-to-gstin"));break;case"place_of_supply":null!=e&&e.show||(removeElementById("bill-to-place-of-supply-label"),removeElementById("bill-to-place-of-supply"));break;case"company_name":!1===(null==e?void 0:e.show)&&removeElementById("bill-to-company-name")}}),"never"===(null==(e=this.itemTable)?void 0:e.summarize_total_qty)&&setValueForId("items-table-total-qty"),null!=(e=this.businessSection)&&null!=(e=e.bussiness_details)&&e.show_company_logo||removeElementById("company-logo-container");var e=100*((null==(e=this.businessSection)||null==(e=e.bussiness_details)?void 0:e.logo_size)||1)/100;appendStyleForFirstQuery("#company-logo",{width:"".concat(e,"px"),height:"".concat(e,"px")})}},{key:"updateDocumentMargins",value:function(){var e,t,n,o,r;null!=(r=this.themeConfigs)&&r.margin&&(r=mergeSide(null==(r=this.themeConfigs)||null==(r=r.margin)?void 0:r.top),e=mergeSide(null==(e=this.themeConfigs)||null==(e=e.margin)?void 0:e.bottom),t=mergeSide(null==(t=this.themeConfigs)||null==(t=t.margin)?void 0:t.left),n=mergeSide(null==(n=this.themeConfigs)||null==(n=n.margin)?void 0:n.right),o=document.createElement("style"),r="\n    @page{\n      size: A4;\n      margin: ".concat(r," ").concat(n," ").concat(e," ").concat(t,";\n    }\n\n    @media screen{\n      body {\n        padding: ").concat(r," ").concat(n," ").concat(e," ").concat(t,";\n      }\n    }\n    "),o.innerHTML=r,document.head.appendChild(o))}},{key:"overrideStylesFromConfig",value:function(){var e;setStyleInQuery("#page","font-family: "+(null==(e=this.themeConfigs)?void 0:e.font_style)+";"),this.updateDocumentMargins(),appendStylesInQuery(".items-table-info",null==(e=this.itemTable)||null==(e=e.item_list)?void 0:e.style_properties),appendStylesForChildrenInQuery("#company-address-content",null==(e=this.businessSection)||null==(e=e.bussiness_details)?void 0:e.style_properties),appendStylesForChildrenInQuery("#company-mobile-number-content",null==(e=this.businessSection)||null==(e=e.bussiness_details)?void 0:e.style_properties),appendStylesForChildrenInQuery("#company-email-content",null==(e=this.businessSection)||null==(e=e.bussiness_details)?void 0:e.style_properties),appendStylesForChildrenInQuery("#company-gst-number-content",null==(e=this.businessSection)||null==(e=e.bussiness_details)?void 0:e.style_properties),appendStylesForChildrenInQuery("#company-pan-number-content",null==(e=this.businessSection)||null==(e=e.bussiness_details)?void 0:e.style_properties),null!=(e=this.businessSection)&&null!=(e=e.invoice_details)&&null!=(e=e.columns)&&e.forEach(function(e){switch(e.name){case"invoice_number":appendStylesInQuery("#invoice-number-container",null==e?void 0:e.style_properties);break;case"invoice_date":appendStylesInQuery("#invoice-date-container",null==e?void 0:e.style_properties)}}),appendStylesInQuery("#invoice-main-details",null==(e=this.businessSection)||null==(e=e.invoice_details)?void 0:e.style_properties),appendStylesInQuery(".sub-details-class",null==(e=this.businessSection)||null==(e=e.invoice_details)?void 0:e.style_properties),null!=(e=this.itemTable)&&e.capital_item_name&&appendStylesInQuery(".item-name",_defineProperty({},"text-transform","uppercase")),appendStylesForChildrenInQuery("#amount-words",null==(e=this.miscellaneousSection)||null==(e=e.amount_in_words)?void 0:e.style_properties),appendStylesForChildrenInQuery("#foreign-amount-words",null==(e=this.miscellaneousSection)||null==(e=e.amount_in_words)?void 0:e.style_properties),appendStylesForChildrenInQuery("#notes",null==(e=this.miscellaneousSection)||null==(e=e.notes)?void 0:e.style_properties),appendStylesForChildrenInQuery("#tnc",null==(e=this.miscellaneousSection)||null==(e=e.tnc)?void 0:e.style_properties),appendStylesForChildrenInQuery("#bank-details",null==(e=this.miscellaneousSection)||null==(e=e.bank_details)?void 0:e.style_properties),this.editMode&&(setStyleInQuery("#item-table-details","margin-top: 20px;"),setStyleInQuery("#business-invoice-details","border-bottom: 1px solid black")),null!=(e=this.itemTable)&&e.sec_details_second_line?appendStylesForChildrenInQuery(".items-discount-column","display: block;"):appendStylesForChildrenInQuery(".items-discount-column","display: inline;"),appendStylesInQuery(".items-discount-column","text-align: end;"),appendStylesInQuery(".meta-bill-ship-to",null==(e=this.businessSection)||null==(e=e.party_details)?void 0:e.style_properties),appendStylesInQuery(".party-addn-field",null==(e=this.businessSection)||null==(e=e.party_details)?void 0:e.style_properties),appendStylesInQuery(".items-table-header",null==(e=this.itemTable)?void 0:e.style_properties),appendStylesInQuery("#company-name",null==(e=this.businessSection)||null==(e=e.bussiness_details)||null==(e=e.company_name)?void 0:e.style_properties),appendStylesInQuery("#slogan",null==(e=this.businessSection)||null==(e=e.bussiness_details)||null==(e=e.slogan)?void 0:e.style_properties),this.editMode&&this.showMargin()}},{key:"focusSectionAndSubSection",value:function(e){e=null!=e?e:this.focusSection;null!=e&&e.section&&"theme_properties"!==(null==e?void 0:e.section)&&(appendStyleForFirstQuery(".".concat(null==e?void 0:e.subSection),"border: 1.5px solid #3DA3ED; background-color: #FFF;"),appendStyleForFirstQuery(".".concat(null==e?void 0:e.subSection,"-tag"),"display:inline-block;"),"miscellaneous_section"===(null==e?void 0:e.section)&&(appendStyleForFirstQuery(".".concat(null==e?void 0:e.subSection),"border: 0.5px dashed #FE3A78; background-color: rgba(254, 58, 120, 0.05);"),appendStyleForFirstQuery(".bottom-content-container","border: 1.5px solid #3DA3ED; background-color: #FFF;"),appendStyleForFirstQuery(".".concat(null==e?void 0:e.section,"-tag"),"display:inline-block;")),document.body.style.cursor="pointer")}},{key:"postNavigateToSectionEvent",value:function(e,t){var n,o,r,e={channel:"im",action:"navigate_to_section",data:{section:e,sub_section:t}};"item_table"===t&&(this.interactionHelper.getResizedTable(),n=this.interactionHelper.getReorderedTable(),o=[],r=0,this.itemTable.columns.forEach(function(e,t){null!=e&&e.show&&r<n.length?(o.push(n[r]),r++):o.push(e)}),e.data.table=o),window.parent.postMessage(e,"*"),console.log("IM Logs => Posted Data: ",e)}},{key:"enableEditMode",value:function(){var e,n=this;!this.editMode||null!=(e=this.focusSection)&&e.section||(setStyleInQuery(".page-heading-edit","display: flex;"),document.body.style.cursor="pointer",null!=(e=document.querySelectorAll(".page-heading-edit-btn"))&&e.forEach(function(e){e.addEventListener("click",function(e){n.focusSectionAndSubSection({section:n.sections[e.target.dataset.sectionId]}),removeElementByQuery(".page-heading-edit");var t=null!=(t=n.sections[e.target.dataset.sectionId])?t:"";n.postNavigateToSectionEvent(t),e.stopPropagation()})}))}},{key:"registerClickEvents",value:function(){var e,n,o,r=this;this.editMode&&((e=document.getElementById("items-table")).querySelectorAll("[data-row]").forEach(function(e){return e.addEventListener("mousedown",r.interactionHelper.listenRearrange.bind(r.interactionHelper))}),e.querySelectorAll(".resizer").forEach(function(e){return e.addEventListener("mousedown",r.interactionHelper.listenResize.bind(r.interactionHelper))}),n={0:"business_details",1:"invoice_details",2:"party_details",3:"item_table",4:"amount_in_words",5:"notes",6:"bank_details",7:"tnc",8:"signature",9:"footer"},o={0:"business_section",1:"invoice_section",2:"party_section",3:"item_table",4:"miscellaneous_section",5:"miscellaneous_section",6:"miscellaneous_section",7:"miscellaneous_section",8:"miscellaneous_section",9:"footer"},null!=(e=Object.keys(n)))&&e.forEach(function(t){var e;null!=(e=document.querySelector('[data-subsection-id="'.concat(t,'"]')))&&e.addEventListener("click",function(e){r.postNavigateToSectionEvent(o[t],n[t])})})}},{key:"registerHoverEvents",value:function(){if(this.editMode)for(var e=0;e<=9;e++)!function(){var t=document.querySelector('[data-subsection-id="'.concat(e,'"]'));null!=t&&t.addEventListener("mouseover",function(e){t.classList.add("hoverClass")}),null!=t&&t.addEventListener("mouseout",function(e){t.classList.remove("hoverClass")})}()}},{key:"setSpacing",value:function(){var e,t=this;null!=(e=this.themeConfigs)&&e.spacing_size&&(["#company-details-meta","#bill-to","#ship-to","#invoice-details-meta"].forEach(function(e){appendStyleForFirstQuery(e,{"padding-bottom":SPACING_SIZE_MAP[null==(e=t.themeConfigs)?void 0:e.spacing_size]})}),appendStyleForFirstQuery("#amount-words-container",{"padding-top":SPACING_SIZE_MAP[null==(e=this.themeConfigs)?void 0:e.spacing_size]}))}},{key:"showSpacing",value:function(){var e;null!=(e=this.themeConfigs)&&e.spacing_size&&"Spacing"===(null==(e=this.focusSection)?void 0:e.subSection)&&(appendStylesInQuery(".spacing",{width:"100%",height:SPACING_SIZE_MAP[null==(e=this.themeConfigs)?void 0:e.spacing_size]}),appendStylesInQuery(".spacing-top",{width:"100%",height:SPACING_SIZE_MAP[null==(e=this.themeConfigs)?void 0:e.spacing_size]}))}},{key:"showMargin",value:function(){var e,t,n,o;"Margin"===(null==(e=this.focusSection)?void 0:e.subSection)&&(e=mergeSide(null==(e=this.themeConfigs)||null==(e=e.margin)?void 0:e.top),t=mergeSide(null==(t=this.themeConfigs)||null==(t=t.margin)?void 0:t.bottom),n=mergeSide(null==(n=this.themeConfigs)||null==(n=n.margin)?void 0:n.left),o=mergeSide(null==(o=this.themeConfigs)||null==(o=o.margin)?void 0:o.right),setValueForClass("margin-spacing-top",e),setValueForClass("margin-spacing-bottom",t),setValueForClass("margin-left-text",n),setValueForClass("margin-right-text",o),appendStyleForFirstQuery(".margin-spacing-top",{width:"90%",height:e,display:"flex"}),appendStyleForFirstQuery(".margin-spacing-bottom",{width:"90%",height:t,display:"flex"}),appendStyleForFirstQuery(".margin-spacing-left",{width:n,height:"180vh",display:"flex"}),appendStyleForFirstQuery(".margin-spacing-right",{width:o,height:"180vh",display:"flex"}))}},{key:"removeResizers",value:function(){removeElementByQuery(".resizer"),appendStylesInQuery(".items-table-info",{cursor:"default"})}},{key:"setWatermarkText",value:function(){var e,t;"Text"===(null==(e=this.themeConfigs)||null==(e=e.watermark)?void 0:e.type)&&null!=(e=this.themeConfigs)&&null!=(e=e.watermark)&&e.show&&null!=(e=this.themeConfigs)&&null!=(e=e.watermark)&&e.text&&((e=document.createElement("span")).innerHTML=null==(t=this.themeConfigs)||null==(t=t.watermark)?void 0:t.text,e.id="watermark",e.classList.add("watermark-text"),null!=(t=this.themeConfigs)&&null!=(t=t.watermark)&&t.opacity&&(e.style.opacity=(null==(t=this.themeConfigs)||null==(t=t.watermark)?void 0:t.opacity)/100),document.getElementById("page").prepend(e))}},{key:"updateFontForSection",value:function(e,t){document.querySelectorAll(e).forEach(function(e){e.style.fontSize=t})}},{key:"updateFontsofAllSections",value:function(){var e,t=this;null!=(e=this.themeConfigs)&&e.font_size&&"custom"!==(null==(e=this.themeConfigs)?void 0:e.font_size)&&this.updateSectionsFont.forEach(function(e){t.updateFontForSection(e,FONT_MAP[null==(e=t.themeConfigs)?void 0:e.font_size])})}},{key:"setCompanyHeaderImage",value:function(){var e;null!=(e=this.themeConfigs)&&null!=(e=e.header)&&e.show?null!=(e=this.themeConfigs)&&null!=(e=e.header)&&e.show_empty?(removeElementById("company-header-container"),appendStyleForFirstQuery("#company-details-meta",{display:"none"})):null!=(e=this.themeConfigs)&&null!=(e=e.header)&&e.link?(setImageByIdOrRemove("company-header-img",null==(e=this.themeConfigs)||null==(e=e.header)?void 0:e.link),appendStyleForFirstQuery("#company-details",{display:"none"})):null!=(e=this.themeConfigs)&&null!=(e=e.header)&&e.link||removeElementById("company-header-container"):removeElementById("company-header-container")}}]),i}(),InteractionHelper=function(){function t(e){_classCallCheck(this,t),this.data=e,this.rearrangableTable=new RearrangableTable(this.data),this.resizableTable=new ResizableTable(this.data)}return _createClass(t,[{key:"listenRearrange",value:function(e){this.rearrangableTable.mouseDownHandler(e)}},{key:"getReorderedTable",value:function(){return this.rearrangableTable.getReorderedTable()}},{key:"listenResize",value:function(e){this.resizableTable.mouseDownHandler(e)}},{key:"getResizedTable",value:function(){return this.resizableTable.getResizedTable()}}]),t}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var l,a={},e=Object.prototype,u=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(l){i=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r,i,a,s,t=t&&t.prototype instanceof g?t:g,t=Object.create(t.prototype),o=new A(o||[]);return c(t,"_invoke",{value:(r=e,i=n,a=o,s=d,function(e,t){if(s===f)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw t;return{value:l,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var o=n.method,r=t.iterator[o];if(r===l)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=l,e(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),p;o=m(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l),n.delegate=null,p):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}(n,a);if(n){if(n===p)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=f;n=m(r,i,a);if("normal"===n.type){if(s=a.done?y:h,n.arg===p)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=y,a.method="throw",a.arg=n.arg)}})}),t}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d="suspendedStart",h="suspendedYield",f="executing",y="completed",p={};function g(){}function v(){}function b(){}var t={},I=(i(t,o,function(){return this}),Object.getPrototypeOf),I=I&&I(I(w([]))),_=(I&&I!==e&&u.call(I,o)&&(t=I),b.prototype=g.prototype=Object.create(t));function C(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function T(a,s){var t;c(this,"_invoke",{value:function(n,o){function e(){return new s(function(e,t){!function t(e,n,o,r){var i,e=m(a[e],a,n);if("throw"!==e.type)return(n=(i=e.arg).value)&&"object"==_typeof(n)&&u.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,o,r)},function(e){t("throw",e,o,r)}):s.resolve(n).then(function(e){i.value=e,o(i)},function(e){return t("throw",e,o,r)});r(e.arg)}(n,o,e,t)})}return t=t?t.then(e,e):e()}})}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function w(t){if(t||""===t){var n,e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e}).next=e}throw new TypeError(_typeof(t)+" is not iterable")}return c(_,"constructor",{value:v.prototype=b,configurable:!0}),c(b,"constructor",{value:v,configurable:!0}),v.displayName=i(b,r,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,i(e,r,"GeneratorFunction")),e.prototype=Object.create(_),e},a.awrap=function(e){return{__await:e}},C(T.prototype),i(T.prototype,n,function(){return this}),a.AsyncIterator=T,a.async=function(e,t,n,o,r){void 0===r&&(r=Promise);var i=new T(s(e,t,n,o),r);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(_),i(_,r,"Generator"),i(_,o,function(){return this}),i(_,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),o=[];for(t in n)o.push(t);return o.reverse(),function e(){for(;o.length;){var t=o.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=w,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var o=this;function e(e,t){return i.type="throw",i.arg=n,o.next=e,t&&(o.method="next",o.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],i=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=u.call(r,"catchLoc"),s=u.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&u.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}var i=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,o,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(n=r.completion).type&&(o=n.arg,N(r)),o}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),p}},a}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function asyncGeneratorStep(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function _asyncToGenerator(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var o=s.apply(e,a);function r(e){asyncGeneratorStep(o,t,n,r,i,"next",e)}function i(e){asyncGeneratorStep(o,t,n,r,i,"throw",e)}r(void 0)})}}function renderInvoice(e){return _renderInvoice.apply(this,arguments)}function _renderInvoice(){return(_renderInvoice=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n,o,r=arguments;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=1<r.length&&void 0!==r[1]?r[1]:{},e.prev=1,n=new RenderInvoice(t),null!=(o=n.isCustomTheme?new LoadCustomInvoice(n,o):null)&&o.preDataLoad(),n.generateSkeleton(),null!=o&&o.postSkeltonLoad(),n.setInvoiceColors(),n.setInvoiceHeader(),n.setInvoiceDetails(),n.setCompanyDetails(),n.setBillToDetails(),n.setShipToDetails(),n.setPartyAdditionalFields(),n.setItemsColumns(),n.populateItems(),n.populateTotalSection(),n.populateAdditionalCharges(),n.populateDiscountAndRoundOff(),n.populateAdditionalInfoFields(),n.setInvoiceTotal(),n.setPartyBalance(),isGSTSupported(n.themeId)&&n.setGst(),hasTaxTable(n.themeId)&&n.populateTaxes(),n.setAmountInWords(),n.setNotesAndTnc(),n.setBankDetails(),e.next=29,n.setUpiDetails();case 29:return n.updateMiscDetailsContainer(),n.showBrandingInPage(),n.highlightContent(),n.showProfileBuilderHighlight(),n.showOnboarding(),e.next=36,n.setEInvoicingData();case 36:n.addAdditionalSpace(),n.balanceSignatureAndTnc(),n.setFinishedFlag(),null!=o&&o.postDataLoad(),n.isCustomTheme||(null!=n&&n.focusSectionAndSubSection(null==n?void 0:n.focusObject),null!=n&&n.registerClickForNormalThemes()),e.next=47;break;case 43:e.prev=43,e.t0=e.catch(1),Sentry.captureException(e.t0),console.log(e.t0.toString());case 47:case"end":return e.stop()}},e,null,[[1,43]])}))).apply(this,arguments)}var RenderInvoice=function(){function a(e){_classCallCheck(this,a);try{var t,n=e.invoiceDetails,o=e.companyDetails,r=e.skeletonDetails,i=e.partyDetails;this.stretchItemTable=!0,this.tnc=n.tnc,this.type=n.type,this.taxes=n.taxes,this.items=n.items,this.notes=n.notes,this.dueDate=n.dueDate,this.themeId=n.themeId,this.tagline=n.tagline,this.subType=n.subType,this.subTotal=n.subTotal,this.discount=n.discount,this.roundOff=n.roundOff,this.taxTable=n.taxTable,this.totalTax=n.totalTax,this.textColor=n.textColor,this.totalCgst=n.totalCgst,this.totalSgst=n.totalSgst,this.totalIgst=n.totalIgst,this.totalCess=n.totalCess,this.totalAmount=n.totalAmount,this.tdsAmount=n.tdsAmount,this.tcsAmount=n.tcsAmount,this.tcsLabel=n.tcsLabel,this.tdsLabel=n.tdsLabel,this.invoiceDate=n.invoiceDate,this.paymentLink=n.paymentLink,this.serviceView=n.serviceView,this.dueDateLabel=n.dueDateLabel,this.primaryColor=n.primaryColor,this.eInvoiceData=n.eInvoiceData,this.isCustomTheme=n.isCustomTheme,this.totalDiscount=n.totalDiscount,this.balanceAmount=n.balanceAmount,this.totalQuantity=n.totalQuantity,this.invoiceNumber=n.invoiceNumber,this.amountInWords=n.amountInWords,this.receivedAmount=n.receivedAmount,this.serviceItemMix=n.serviceItemMix,this.foreignCurrency=n.foreignCurrency,this.invoiceDateLabel=n.invoiceDateLabel,this.additionalFields=n.additionalFields,this.additionalCharges=n.additionalCharges,this.invoiceNumberLabel=n.invoiceNumberLabel,this.itemDefaultColumns=n.itemDefaultColumns,this.newCalculationUsed=n.newCalculationUsed,this.foreignTotalAmount=n.foreignTotalAmount,this.totalTaxableAmount=n.totalTaxableAmount,this.itemAdditionalFields=n.itemAdditionalFields,this.foreignAmountInWords=n.foreignAmountInWords,this.taxWithoutAdditionalCharges=n.taxWithoutAdditionalCharges,this.upiDetails=o.upiDetails,this.mbbPay=o.mbbPay,this.logoUrl=o.logoUrl,this.address=o.address,this.signUrl=o.signUrl,this.companyName=o.name,this.companyGst=o.gstin,this.ifscCode=o.ifscCode,this.companyMobile=o.mobile,this.companyEmail=o.email,this.companyPan=o.panNumber,this.accountNumber=o.accountNumber,this.bankAndBranchName=o.bankAndBranchName,this.accountHoldersName=o.accountHoldersName,this.isMrpOn=r.isMrpOn,this.isUTGst=r.isUTGst,this.platform=r.platform,this.showIgst=r.showIgst,this.highlight=r.highlight,this.isPurchase=r.isPurchase,this.billToLabel=r.billToLabel,this.isQuotation=r.isQuotation,this.showBranding=r.showBranding,this.isOnboarding=r.isOnboarding,this.showPrevBalance=r.showPrevBalance,this.showCurrBalance=r.showCurrBalance,this.showBalanceAmount=r.showBalanceAmount,this.showEmptySignature=r.showEmptySignature,this.partyName=i.name,this.partyGst=i.gstin,this.partyPan=i.panNumber,this.partyMobile=i.mobile,this.showShipTo=i.showShipTo,this.prevBalance=i.prevBalance,this.currBalance=i.currBalance,this.placeOfSupply=i.placeOfSupply,this.billingAddress=i.billingAddress,this.shippingAddress=i.shippingAddress,this.partyAdditionalFields=i.partyAdditionalFields,this.hasDiscount=!isEmpty(this.discount),this.hasRoundOff=!isEmpty(this.roundOff),this.showBrandingOnQr=r.showBranding,this.hasTaxColumn=isNonZero(this.totalTax)||isBoxTheme(this.themeId),this.discountLabel=this.newCalculationUsed?"Reward Points":"Discount",this.hasNotes=!isEmpty(this.notes),this.hasBankDetails=!isEmpty(this.accountNumber)&&!this.isPurchase,this.hasUpiDetails=!isEmpty(null==(t=this.upiDetails)?void 0:t.upiId)&&!this.isPurchase,this.hasTnc=!isEmpty(this.tnc),this.hasSignature=!isEmpty(this.signUrl)||this.showEmptySignature,this.hasMbbPay=this.mbbPay&&!isEmpty(this.paymentLink),this.showMrp=this.isMrpOn&&this.items.some(function(e){return isNonZero(e.mrp)}),this.showDiscount=this.isCustomTheme||this.items.some(function(e){return isNonZero(e.discountAmount)}),this.showHsn=this.isCustomTheme||this.items.some(function(e){return!isEmpty(e.hsn)}),this.showCess=this.items.some(function(e){return isNonZero(e.cessAmount)}),this.tcstdsShown=tdsTcsShowInInvoice(this.themeId),this.itemColumns=getItemColumns(this.themeId),this.itemColumnStyle={},this.focusObject=null==e?void 0:e.focusSection}catch(e){Sentry.captureException(e),console.log(e.toString())}}var e;return _createClass(a,[{key:"generateSkeleton",value:function(){this.generateItemRows(),this.generateAdditionalChargeRows(),this.generateAdditionalInfoRows(),this.generateDiscountRoundOffRows(),this.generateTotalRows(),hasTaxTable(this.themeId)&&this.generateTaxRows()}},{key:"generateItemRows",value:function(){var o=this;this.items.forEach(function(e,t){var n=!isEmpty(e.description),e=!isEmpty(e.serialNumbers);o.generateNewItemRow(n,e,!1,t)}),this.generateNewItemRow(!0,!0,!0)}},{key:"tdsExists",get:function(){return this.tdsAmount&&this.tcstdsShown}},{key:"tcsExists",get:function(){return this.tcsAmount&&this.tcstdsShown}},{key:"generateTotalRows",value:function(){isBoxTheme(this.themeId)?(this.foreignCurrency?(this.generateNewTotalRow("items-table-total","TOTAL AMOUNT (INR)"),this.generateNewTotalRow("items-table-total-foreign","TOTAL AMOUNT (".concat(this.foreignCurrency.nickname,")"))):this.generateNewTotalRow("items-table-total","TOTAL"),this.tdsExists&&(this.generateNewTotalRow("items-table-tax-tds","TDS ".concat(this.tdsLabel?"@".concat(this.tdsLabel):"")),this.generateNewTotalRow("items-table-total-payable","AMOUNT PAYABLE")),this.isQuotation||[4,6,8].includes(this.themeId)?[4,6].includes(this.themeId)&&(setStyleInQuery("#received-amount","display: flex;"),this.showBalanceAmount)&&setStyleInQuery("#balance-amount","display: flex;"):(this.generateNewTotalRow("items-table-received","RECEIVED AMOUNT"),this.showBalanceAmount&&this.generateNewTotalRow("items-table-balance","BALANCE AMOUNT")),[3,5,8].includes(this.themeId)?(this.showPrevBalance&&this.generateNewTotalRow("items-table-prev-balance","PREVIOUS BALANCE"),this.showCurrBalance&&this.generateNewTotalRow("items-table-curr-balance","CURRENT BALANCE")):(this.showPrevBalance&&setStyleInQuery("#prev-balance","display: flex;"),this.showCurrBalance&&setStyleInQuery("#current-balance","display: flex;"))):this.generateNewTotalRow("items-table-total","SUBTOTAL")}},{key:"generateAdditionalChargeRows",value:function(){if(isBoxTheme(this.themeId))for(var e=this.additionalCharges.length,t=0;t<e;++t)this.generateNewAdditionalChargeRow()}},{key:"generateDiscountRoundOffRows",value:function(){if(isBoxTheme(this.themeId)){var e=0;this.hasDiscount&&++e,this.hasRoundOff&&++e;for(var t=0;t<e;++t)this.generateNewAdditionalChargeRow()}}},{key:"generateAdditionalInfoRows",value:function(){if(isBoxTheme(this.themeId)){var e=this.taxes.length;this.foreignCurrency&&++e,this.tcsAmount&&++e;for(var t=0;t<e;++t)this.generateNewAdditionalChargeRow("item-additional-info")}}},{key:"generateTaxRows",value:function(){for(var e=this.taxTable.length,t=0;t<e;++t)this.generateNewTaxRow();hasTotalRowInTaxTable(this.themeId)&&this.generateNewTaxTotalRow()}},{key:"generateNewItemRow",value:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,r=document.getElementById("items-table-content");null!=r&&r.appendChild(this.getNewItemNode(e,t,n,o))}},{key:"generateNewTotalRow",value:function(e,t){var n=document.getElementById("items-table-content");null!=n&&n.appendChild(this.getNewTotalNode(e,t))}},{key:"generateNewAdditionalChargeRow",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"item-charge",t=document.getElementById("items-table-content");null!=t&&t.appendChild(this.getNewAdditionalChargeNode(e))}},{key:"generateNewTaxRow",value:function(){var e=document.getElementById("tax-table-content");null!=e&&e.appendChild(this.getNewTaxNode())}},{key:"generateNewTaxTotalRow",value:function(){var e=document.getElementById("tax-table-content");null!=e&&e.appendChild(this.getNewTaxTotalNode())}},{key:"getNewItemNode",value:function(r,i,e){var a=this,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,t=document.createElement("tr"),l="";return this.itemColumns.forEach(function(e){var t,n=null!=(t=a.itemColumnStyle[e])?t:"";switch(e){case ItemColumnNames.SERIAL_NUMBER:l+='<td class="items-table-info item-serial-number" style="'.concat(n,'" data-row="').concat(s,'"></td>');break;case ItemColumnNames.NAME:var o="";r&&(o+='<div class="item-imei"></div>'),i&&(o+='<div class="item-serial-no"></div>'),l+='<td class="items-table-info item-name-desc" style="'.concat(n,'" data-row="').concat(s,'"><div class="item-name"></div>').concat(o,"</td>");break;case ItemColumnNames.HSN:l+='<td class="items-table-info item-hsn items-hsn-column" style="'.concat(n,'" data-row="').concat(s,'"></td>');break;case ItemColumnNames.QUANTITY:l+='<td class="items-table-info item-quantity items-qty-column" style="'.concat(n,'" data-row="').concat(s,'"></td>');break;case ItemColumnNames.MRP:l+='<td class="items-table-info item-mrp items-mrp-column" style="'.concat(n,' nowrap" data-row="').concat(s,'"></td>');break;case ItemColumnNames.ADDN1:l+='<td class="items-table-info item-addn1 items-addn1-column" style="'.concat(n,'" data-row="').concat(s,'"></td>');break;case ItemColumnNames.ADDN2:l+='<td class="items-table-info item-addn2 items-addn2-column" style="'.concat(n,'" data-row="').concat(s,'"></td>');break;case ItemColumnNames.ADDN3:l+='<td class="items-table-info item-addn3 items-addn3-column" style="'.concat(n,'" data-row="').concat(s,'"></td>');break;case ItemColumnNames.ADDN4:l+='<td class="items-table-info item-addn4 items-addn4-column" style="'.concat(n,'" data-row="').concat(s,'"></td>');break;case ItemColumnNames.RATE:l+='<td class="items-table-info item-rate items-rate-column" style="'.concat(n,'" data-row="').concat(s,'"></td>');break;case ItemColumnNames.DISCOUNT:l+='<td class="items-table-info items-discount-column" style="'.concat(n,'" data-row="').concat(s,'"><div class="item-discount-amount"></div><div class="item-discount-percentage"></div></td>');break;case ItemColumnNames.TAX:l+='<td class="items-table-info tax-column"><div class="item-tax-amount"></div><div class="item-tax-percentage"></td>';break;case ItemColumnNames.SGST:l+='<td class="items-table-info tax-sgst-column"><div class="item-sgst-amount"></div><div class="item-sgst-percentage"></div></td>';break;case ItemColumnNames.CGST:l+='<td class="items-table-info tax-cgst-column"><div class="item-cgst-amount"></div><div class="item-cgst-percentage"></div></td>';break;case ItemColumnNames.IGST:l+='<td class="items-table-info tax-igst-column"><div class="item-igst-amount"></div><div class="item-igst-percentage"></div></td>';break;case ItemColumnNames.CESS:l+='<td class="items-table-info items-cess-column"><div class="item-cess-amount"></div><div class="item-cess-percentage"></div></td>';break;case ItemColumnNames.TOTAL:l+='<td class="items-table-info item-total nowrap" style="'.concat(n,'" data-row="').concat(s,'"></td>')}}),t.innerHTML=l.trim(),e&&(t.className="empty-row"),t}},{key:"getNewTotalNode",value:function(o,r){var i=this,e=document.createElement("tr"),a="";return this.itemColumns.forEach(function(e){var t,n=null!=(t=i.itemColumnStyle[e])?t:"";switch(e){case ItemColumnNames.SERIAL_NUMBER:a+='<td class="'.concat(o,'" style="').concat(n,'"></td>');break;case ItemColumnNames.NAME:a+='<td id="'.concat(o,'-label" class="bold ').concat(o,'" style="').concat(n,'">').concat(r,"</td>");break;case ItemColumnNames.HSN:a+='<td class="'.concat(o,' items-hsn-column" style="').concat(n,'"></td>');break;case ItemColumnNames.QUANTITY:a+='<td id="'.concat(o,'-qty" class="bold ').concat(o,' items-qty-column" style="').concat(n,'"></td>');break;case ItemColumnNames.MRP:a+='<td class="'.concat(o,' items-mrp-column nowrap" style="').concat(n,'"></td>');break;case ItemColumnNames.ADDN1:a+='<td class="'.concat(o,' items-addn1-column" style="').concat(n,'"></td>');break;case ItemColumnNames.ADDN2:a+='<td class="'.concat(o,' items-addn2-column" style="').concat(n,'"></td>');break;case ItemColumnNames.ADDN3:a+='<td class="'.concat(o,' items-addn3-column" style="').concat(n,'"></td>');break;case ItemColumnNames.ADDN4:a+='<td class="'.concat(o,' items-addn4-column" style="').concat(n,'"></td>');break;case ItemColumnNames.RATE:a+='<td class="'.concat(o,' items-rate-column" style="').concat(n,'"></td>');break;case ItemColumnNames.DISCOUNT:a+='<td id="'.concat(o,'-discount" class="bold ').concat(o,' items-discount-column" style="').concat(n,'"></td>');break;case ItemColumnNames.TAX:a+='<td id="'.concat(o,'-tax" class="bold ').concat(o,' tax-column"></td>');break;case ItemColumnNames.SGST:a+='<td id="'.concat(o,'-sgst" class="bold ').concat(o,' tax-sgst-column"></td>');break;case ItemColumnNames.CGST:a+='<td id="'.concat(o,'-cgst" class="bold ').concat(o,' tax-cgst-column"></td>');break;case ItemColumnNames.IGST:a+='<td id="'.concat(o,'-igst" class="bold ').concat(o,' tax-igst-column"></td>');break;case ItemColumnNames.CESS:a+='<td id="'.concat(o,'-cess" class="bold ').concat(o,' items-cess-column"></td>');break;case ItemColumnNames.TOTAL:a+='<td id="'.concat(o,'-amount" class="bold ').concat(o,' nowrap"></td>')}}),e.innerHTML=a.trim(),e}},{key:"getNewAdditionalChargeNode",value:function(o){var r=this,e=document.createElement("tr"),i="";return this.itemColumns.forEach(function(e){var t,n=null!=(t=r.itemColumnStyle[e])?t:"";switch(e){case ItemColumnNames.SERIAL_NUMBER:i+='<td class="items-table-info item-serial-number-charge" style="'.concat(n,'"></td>');break;case ItemColumnNames.NAME:i+='<td class="items-table-info '.concat(o,'-label" style="').concat(n,'"></td>');break;case ItemColumnNames.HSN:i+='<td class="items-table-info '.concat(o,'-dash items-hsn-column" style="').concat(n,'">-</td>');break;case ItemColumnNames.QUANTITY:i+='<td class="items-table-info '.concat(o,'-dash items-qty-column" style="').concat(n,'">-</td>');break;case ItemColumnNames.MRP:i+='<td class="items-table-info '.concat(o,'-dash items-mrp-column nowrap" style="').concat(n,'">-</td>');break;case ItemColumnNames.ADDN1:i+='<td class="items-table-info '.concat(o,'-dash items-addn1-column" style="').concat(n,'">-</td>');break;case ItemColumnNames.ADDN2:i+='<td class="items-table-info '.concat(o,'-dash items-addn2-column" style="').concat(n,'">-</td>');break;case ItemColumnNames.ADDN3:i+='<td class="items-table-info '.concat(o,'-dash items-addn3-column" style="').concat(n,'">-</td>');break;case ItemColumnNames.ADDN4:i+='<td class="items-table-info '.concat(o,'-dash items-addn4-column" style="').concat(n,'">-</td>');break;case ItemColumnNames.RATE:i+='<td class="items-table-info '.concat(o,'-rate items-rate-column" style="').concat(n,'">-</td>');break;case ItemColumnNames.DISCOUNT:i+='<td class="items-table-info '.concat(o,'-dash items-discount-column" style="').concat(n,'">-</td>');break;case ItemColumnNames.TAX:i+='<td class="items-table-info tax-column"><div class="'.concat(o,'-tax-amount"></div><div class="').concat(o,'-tax-percentage"></td>');break;case ItemColumnNames.SGST:i+='<td class="items-table-info tax-sgst-column"><div class="'.concat(o,'-sgst-amount"></div><div class="').concat(o,'-sgst-percentage"></div></td>');break;case ItemColumnNames.CGST:i+='<td class="items-table-info tax-cgst-column"><div class="'.concat(o,'-cgst-amount"></div><div class="').concat(o,'-cgst-percentage"></div></td>');break;case ItemColumnNames.IGST:i+='<td class="items-table-info tax-igst-column"><div class="'.concat(o,'-igst-amount"></div><div class="').concat(o,'-igst-percentage"></div></td>');break;case ItemColumnNames.CESS:i+='<td class="items-table-info '.concat(o,'-dash items-cess-column">-</td>');break;case ItemColumnNames.TOTAL:i+='<td class="items-table-info '.concat(o,'-value nowrap"></td>')}}),e.innerHTML=i.trim(),e}},{key:"getNewTaxNode",value:function(){var e=document.createElement("tr"),t="";return e.innerHTML=(t=(t=(t=(t+='<td class="tax-table-info tax-hsn"></td>')+'<td class="tax-table-info tax-value"></td>'+'<td class="tax-table-sub-info tax-cgst-column"><div><div class="tax-cgst-rate"></div><div class="tax-cgst-amount"></div></div></td>')+'<td class="tax-table-sub-info tax-sgst-column"><div><div class="tax-sgst-rate"></div><div class="tax-sgst-amount"></div></div></td>'+'<td class="tax-table-sub-info tax-igst-column"><div><div class="tax-igst-rate"></div><div class="tax-igst-amount"></div></div></td>')+'<td class="tax-table-info tax-cess tax-cess-column"></td>'+'<td class="tax-table-info tax-amount"></td>').trim(),e}},{key:"getNewTaxTotalNode",value:function(){var e=document.createElement("tr"),t="";return e.innerHTML=(t=(t=(t=(t+='<td class="tax-table-info bold">Total</td>')+'<td class="tax-table-info" id="total-tax-value"></td>'+'<td class="tax-table-sub-info tax-cgst-column"><div><div class="tax-cgst-rate"></div><div class="tax-cgst-amount" id="total-tax-cgst-amount"></div></div></td>')+'<td class="tax-table-sub-info tax-sgst-column"><div><div class="tax-sgst-rate"></div><div class="tax-sgst-amount" id="total-tax-sgst-amount"></div></div></td>'+'<td class="tax-table-sub-info tax-igst-column"><div><div class="tax-igst-rate"></div><div class="tax-igst-amount" id="total-tax-igst-amount"></div></div></td>')+'<td class="tax-table-info tax-cess-column" id="total-tax-cess"></td>'+'<td class="tax-table-info bold" id="total-tax-amount"></td>').trim(),e}},{key:"setInvoiceHeader",value:function(){setValueForClass("page-header-type-value",this.type),setValueForClass("page-header-tagline-value",this.tagline),setValueForQueryOrRemove(".page-header-sub-type",this.subType)}},{key:"setInvoiceDetails",value:function(){var e;if(setValueForIdOrRemove("invoice-number",this.invoiceNumber,"invoice-number-container"),setValueForIdOrRemove("invoice-number-label",this.invoiceNumberLabel,"invoice-number-container"),setValueForIdOrRemove("invoice-date",this.invoiceDate,"invoice-date-container"),setValueForIdOrRemove("invoice-date-label",this.invoiceDateLabel,"invoice-date-container"),setValueForIdOrRemove("invoice-due-date",this.dueDate,"invoice-due-date-container"),setValueForIdOrRemove("invoice-due-date-label",this.dueDateLabel,"invoice-due-date-container"),this.additionalFields&&null!=(e=this.additionalFields)&&e.length){for(var t=0;t<Math.min(6,null==(n=this.additionalFields)?void 0:n.length);++t){var n=t+1;setValueForIdOrRemove("invoice-addn-field-value-".concat(n),this.additionalFields[t].value),setValueForIdOrRemove("invoice-addn-field-name-".concat(n),this.additionalFields[t].name)}for(;t<6;++t)removeElementById("invoice-addn-field-container-".concat(t+1))}else{removeElementById("invoice-sub-details");for(var o=0;o<6;++o)removeElementById("invoice-addn-field-container-".concat(o+1))}(null==(e=this.additionalFields)?void 0:e.length)<=3&&null!=(e=document.getElementsByClassName("sub-details-row"))&&null!=(e=e[0])&&e.remove()}},{key:"setCompanyDetails",value:function(){setImageByIdOrRemove("company-logo",this.logoUrl),isEmpty(this.logoUrl)&&removeElementById("dummy-div"),setValueForId("company-name",this.companyName),this.isOnboarding&&!this.address||setValueForIdOrRemove("company-address",this.address),setValueForIdOrRemove("company-gst-number",this.companyGst,"company-gst-number-content"),setValueForIdOrRemove("company-pan-number",this.companyPan,"company-pan-number-content"),setValueForIdOrRemove("company-mobile-number",this.companyMobile,"company-mobile-number-content"),setValueForIdOrRemove("company-email",this.companyEmail,"company-email-content"),this.showEmptySignature?(setValueForId("signatory-name",this.companyName),removeElementById("signature-img"),[1,7].includes(this.themeId)&&setStyleInQuery("#signature-img-container","border: 0.5px solid #000;")):isEmpty(this.signUrl)?removeElementById("signature-img"):(setValueForId("signatory-name",this.companyName),setImageByIdOrRemove("signature-img",this.signUrl))}},{key:"setBillToDetails",value:function(){this.billToLabel&&setValueForId("title-bill-to",this.billToLabel),setValueForIdOrRemove("bill-to-company-name",this.partyName),setValueForIdOrRemove("bill-to-address",this.billingAddress,"bill-to-address-container"),setValueForIdOrRemove("bill-to-mobile",this.partyMobile,"bill-to-mobile-container"),setValueForIdOrRemove("bill-to-pan",this.partyPan,"bill-to-pan-container"),isGSTSupported(this.themeId)&&(setValueForIdOrRemove("bill-to-gstin",this.partyGst,"bill-to-gstin-container","bill-to-gstin","bill-to-gstin-label"),setValueForIdOrRemove("bill-to-place-of-supply",this.placeOfSupply,"bill-to-place-of-supply-container","bill-to-place-of-supply-label"))}},{key:"setShipToDetails",value:function(){this.showShipTo?(this.isPurchase&&setValueForId("title-ship-to","SHIP FROM"),setValueForIdOrRemove("ship-to-company-name",this.partyName),setValueForIdOrRemove("ship-to-address",this.shippingAddress,"ship-to-address-container"),setValueForIdOrRemove("ship-to-mobile",void 0,"ship-to-mobile-container")):removeElementById("ship-to")}},{key:"setPartyAdditionalFields",value:function(){var n=document.getElementById("party-addn-field-container");this.partyAdditionalFields&&this.partyAdditionalFields.length?this.partyAdditionalFields.forEach(function(e){var t=document.createElement("div");t.setAttribute("class","party-addn-field"),setInnerHtml(t,"<div>".concat(e.name,":&nbsp;&nbsp;</div><div>").concat(e.value,"</div>")),null!=n&&n.appendChild(t)}):removeElement(n)}},{key:"setItemsColumns",value:function(){this.serviceView?setValueForClass("items-type-header","SERVICES"):this.serviceItemMix&&setValueForClass("items-type-header","ITEMS/SERVICES");var e=this.itemAdditionalFields.length;switch(this.showMrp?++e:removeElementByQuery(".items-mrp-column"),this.itemAdditionalFields.length){case 0:removeElementByQuery(".items-addn1-column");case 1:removeElementByQuery(".items-addn2-column");case 2:removeElementByQuery(".items-addn3-column");case 3:removeElementByQuery(".items-addn4-column")}this.itemAdditionalFields.forEach(function(e,t){return setValueForClass("items-addn".concat(t+1,"-header"),e.toUpperCase())}),3<=e&&addClassInQueryList("text-small",".items-table-header",".items-table-info",".item-charge-label",".item-charge-value",".items-table-total",".items-table-total-foreign",".items-table-received",".items-table-balance",".items-table-curr-balance",".items-table-prev-balance"),this.showDiscount||removeElementByQuery(".items-discount-column"),this.showHsn?this.serviceView?setValueForClass("items-hsn-header","SAC"):this.serviceItemMix&&setValueForClass("items-hsn-header","HSN/SAC"):removeElementByQuery(".items-hsn-column"),this.showCess||removeElementByQuery(".items-cess-column"),!1===this.itemDefaultColumns.qty&&removeElementByQuery(".items-qty-column"),!1===this.itemDefaultColumns.rate&&removeElementByQuery(".items-rate-column"),this.hasTaxColumn||removeElementByQuery(".tax-column")}},{key:"populateItems",value:function(){var n=this,o=document.getElementsByClassName("item-serial-number"),r=document.getElementsByClassName("item-name"),i=document.getElementsByClassName("item-imei"),a=document.getElementsByClassName("item-serial-no"),s=document.getElementsByClassName("item-hsn"),l=document.getElementsByClassName("item-quantity"),u=document.getElementsByClassName("item-mrp"),c=document.getElementsByClassName("item-addn1"),m=document.getElementsByClassName("item-addn2"),d=document.getElementsByClassName("item-addn3"),h=document.getElementsByClassName("item-addn4"),f=document.getElementsByClassName("item-rate"),y=document.getElementsByClassName("item-discount-amount"),p=document.getElementsByClassName("item-discount-percentage"),g=document.getElementsByClassName("item-tax-amount"),v=document.getElementsByClassName("item-tax-percentage"),b=document.getElementsByClassName("item-cgst-amount"),I=document.getElementsByClassName("item-cgst-percentage"),_=document.getElementsByClassName("item-sgst-amount"),C=document.getElementsByClassName("item-sgst-percentage"),T=document.getElementsByClassName("item-igst-amount"),E=document.getElementsByClassName("item-igst-percentage"),N=document.getElementsByClassName("item-cess-amount"),A=document.getElementsByClassName("item-cess-percentage"),w=document.getElementsByClassName("item-total"),S=0,x=0;this.items.forEach(function(e,t){switch(setInnerHtml(o[t],t+1),setInnerHtml(r[t],e.name),isEmpty(e.description)||setInnerHtml(i[S++],e.description),isEmpty(e.serialNumbers)||setInnerHtml(a[x++],e.serialNumbers),setInnerHtmlOrDefault(s[t],e.hsn),setInnerHtmlOrDefault(l[t],e.quantityStr),setInnerHtmlOrDefault(u[t],e.mrp),setInnerHtmlOrDefault(f[t],e.rate),setInnerHtmlOrDefault(y[t],e.discountAmount),setInnerHtml(p[t],"(".concat(e.discountPercentage,"%)")),setInnerHtmlOrDefault(g[t],e.taxAmount),setInnerHtml(v[t],"(".concat(e.taxPercentage,"%)")),setInnerHtmlOrDefault(b[t],e.cgstAmount),setInnerHtml(I[t],"(".concat(e.cgstPercentage,"%)")),setInnerHtmlOrDefault(_[t],e.sgstAmount),setInnerHtml(C[t],"(".concat(e.sgstPercentage,"%)")),setInnerHtmlOrDefault(T[t],e.igstAmount),setInnerHtml(E[t],"(".concat(e.igstPercentage,"%)")),setInnerHtmlOrDefault(N[t],e.cessAmount),setInnerHtml(A[t],"(".concat(e.cessPercentage,"%)")),setInnerHtmlOrDefault(w[t],e.amount),hasNoTaxColumn(n.themeId)&&setInnerHtmlOrDefault(w[t],e.amountWithoutTax),4-n.itemAdditionalFields.length){case 0:setInnerHtmlOrDefault(h[t],e[n.itemAdditionalFields[3]]);case 1:setInnerHtmlOrDefault(d[t],e[n.itemAdditionalFields[2]]);case 2:setInnerHtmlOrDefault(m[t],e[n.itemAdditionalFields[1]]);case 3:setInnerHtmlOrDefault(c[t],e[n.itemAdditionalFields[0]])}})}},{key:"getTotalTableRow",value:function(){for(var e=document.createElement("tr"),t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.innerHTML=n.map(function(e){return'<td class="invoice-total-section-data">'.concat(e,"</td>")}).join(""),e.className="invoice-total-section-row",e}},{key:"getDividerTableRow",value:function(){var e=document.createElement("tr");return e.innerHTML='<td colspan="2"><div class="hr-divider" /></td>',e}},{key:"populateTotalSection",value:function(){var n,e,o=this;isBoxTheme(this.themeId)||(n=document.getElementById("invoice-total-table"),null!=(e=this.additionalCharges)&&e.forEach(function(e){var t=e.name;0<e.gstPercentage&&(t+=" (excl ".concat(e.gstPercentage,"% GST)")),null!=n&&n.appendChild(o.getTotalTableRow(t,"".concat(RUPEE_SYMBOL," ").concat(e.amount)))}),this.totalTax&&(e=isEmpty(this.totalTaxableAmount)?"-":"".concat(RUPEE_SYMBOL," ").concat(this.totalTaxableAmount),null!=n)&&n.appendChild(this.getTotalTableRow("TAXABLE AMOUNT",e)),null!=(e=this.taxes)&&e.forEach(function(e){null!=n&&n.appendChild(o.getTotalTableRow(e.name,"".concat(RUPEE_SYMBOL," ").concat(e.value)))}),this.tcsExists&&(e=this.getTotalTableRow("TCS ".concat(this.tcsLabel?"@".concat(this.tcsLabel):""),"".concat(RUPEE_SYMBOL," ").concat(this.tcsAmount)),null!=n)&&n.appendChild(e),this.discount&&(e="".concat(RUPEE_SYMBOL," ").concat(formatIndianCurrency(Math.abs(this.discount))),this.discount<0&&(e="- ".concat(e)),null!=n)&&n.appendChild(this.getTotalTableRow(this.discountLabel,e)),this.roundOff&&(e="".concat(RUPEE_SYMBOL," ").concat(formatIndianCurrency(Math.abs(this.roundOff))),this.roundOff<0&&(e="- ".concat(e)),null!=n)&&n.appendChild(this.getTotalTableRow("Round Off",e)),this.foreignCurrency&&null!=n&&n.appendChild(this.getTotalTableRow("Exchange Rate (".concat(this.foreignCurrency.nickname,")"),"".concat(this.foreignCurrency.symbol," 1 = ").concat(RUPEE_SYMBOL," ").concat(this.foreignCurrency.conversionRate))),null!=n&&n.appendChild(this.getDividerTableRow()),e=this.foreignCurrency?"TOTAL AMOUNT (INR)":"TOTAL AMOUNT",(e=this.getTotalTableRow(e,"".concat(RUPEE_SYMBOL," ").concat(this.totalAmount))).classList.add("bold"),null!=n&&n.appendChild(e),this.foreignCurrency&&((e=this.getTotalTableRow("TOTAL AMOUNT (".concat(this.foreignCurrency.nickname,")"),"".concat(this.foreignCurrency.symbol," ").concat(this.foreignTotalAmount))).classList.add("bold"),e.classList.add("foreign-currency-row"),null!=n)&&n.appendChild(e),null!=n&&n.appendChild(this.getDividerTableRow()),this.tdsExists&&(e=this.getTotalTableRow("TDS ".concat(this.tdsLabel?"@".concat(this.tdsLabel):""),"-".concat(RUPEE_SYMBOL," ").concat(this.tdsAmount)),null!=n&&n.appendChild(e),e=toFixedTwoDouble(parseIndianCurrencyToNumber(this.totalAmount)-this.tdsAmount),e=this.getTotalTableRow("Amount Payable","".concat(RUPEE_SYMBOL," ").concat(e)),null!=n)&&n.appendChild(e),this.isQuotation||(e=this.isPurchase?"Paid Amount":"Received Amount",null!=n&&n.appendChild(this.getTotalTableRow(e,"".concat(RUPEE_SYMBOL," ").concat(this.receivedAmount))),this.showBalanceAmount&&((e=this.getTotalTableRow("Balance","".concat(RUPEE_SYMBOL," ").concat(this.balanceAmount))).classList.add("bold"),null!=n)&&n.appendChild(e)),this.showPrevBalance&&(n.appendChild(this.getDividerTableRow()),(e=this.getTotalTableRow("Previous Balance","".concat(RUPEE_SYMBOL," ").concat(this.prevBalance))).classList.add("previous-balance-row"),null!=n&&n.appendChild(e),(e=this.getTotalTableRow("Current Balance","".concat(RUPEE_SYMBOL," ").concat(this.currBalance))).classList.add("current-balance-row"),null!=n)&&n.appendChild(e))}},{key:"populateAdditionalCharges",value:function(){var o=this,r=document.getElementsByClassName("item-charge-label"),i=document.getElementsByClassName("item-charge-value"),a=document.getElementsByClassName("item-charge-rate"),s=document.getElementsByClassName("item-charge-tax-amount"),l=document.getElementsByClassName("item-charge-tax-percentage"),u=document.getElementsByClassName("item-charge-igst-amount"),c=document.getElementsByClassName("item-charge-igst-percentage"),m=document.getElementsByClassName("item-charge-cgst-amount"),d=document.getElementsByClassName("item-charge-cgst-percentage"),h=document.getElementsByClassName("item-charge-sgst-amount"),f=document.getElementsByClassName("item-charge-sgst-percentage");this.additionalCharges.forEach(function(e,t){var n;hasNoTaxColumn(o.themeId)?(n=e.name,0<e.gstPercentage&&(n="".concat(e.name,"(excl ").concat(e.gstPercentage,"% GST)")),setInnerHtmlOrDefault(r[t],n),setInnerHtmlOrDefault(i[t],"&#x20b9 ".concat(e.amount))):(setInnerHtmlOrDefault(r[t],e.name),setInnerHtmlOrDefault(i[t],"&#x20b9 ".concat(e.taxInclusiveAmount)),setInnerHtmlOrDefault(a[t],e.amount)),setInnerHtmlOrDefault(s[t],e.taxAmount),setInnerHtmlOrDefault(l[t],"(".concat(e.gstPercentage,"%)")),setInnerHtmlOrDefault(u[t],e.igstAmount),setInnerHtmlOrDefault(c[t],"(".concat(e.igstPercentage,"%)")),setInnerHtmlOrDefault(m[t],e.cgstAmount),setInnerHtmlOrDefault(d[t],"(".concat(e.cgstPercentage,"%)")),setInnerHtmlOrDefault(h[t],e.sgstAmount),setInnerHtmlOrDefault(f[t],"(".concat(e.sgstPercentage,"%)"))})}},{key:"populateDiscountAndRoundOff",value:function(){var e=document.getElementsByClassName("item-charge-label"),t=document.getElementsByClassName("item-charge-value"),n="".concat(RUPEE_SYMBOL," ").concat(formatIndianCurrency(Math.abs(this.discount))),o=(this.discount<0&&(n="- ".concat(n)),"".concat(RUPEE_SYMBOL," ").concat(formatIndianCurrency(Math.abs(this.roundOff))));this.roundOff<0&&(o="- ".concat(o)),isEmpty(this.discount)||0==this.discount||isEmpty(this.roundOff)||0==this.roundOff?isEmpty(this.discount)||0==this.discount?isEmpty(this.roundOff)||0==this.roundOff||(setInnerHtml(e[e.length-1],"Round Off"),setInnerHtml(t[t.length-1],o)):(setInnerHtml(e[e.length-1],this.discountLabel),setInnerHtml(t[t.length-1],n)):(setInnerHtml(e[e.length-2],this.discountLabel),setInnerHtml(t[t.length-2],n),setInnerHtml(e[e.length-1],"Round Off"),setInnerHtml(t[t.length-1],o))}},{key:"populateAdditionalInfoFields",value:function(){var e,t,n,o=document.getElementsByClassName("item-additional-info-label"),r=document.getElementsByClassName("item-additional-info-value"),i=0;this.tcsExists&&(setInnerHtml(o[i],"TCS ".concat(this.tcsLabel?"@".concat(this.tcsLabel):"")),setInnerHtml(r[i],"&#x20b9 ".concat(this.tcsAmount)),++i),this.taxes.forEach(function(e){setInnerHtml(o[i],e.name),setInnerHtml(r[i],"&#x20b9 ".concat(e.value)),++i}),this.foreignCurrency&&(e=(n=this.foreignCurrency).nickname,t=n.symbol,n=n.conversionRate,setInnerHtml(o[i],"Exchange Rate (".concat(e,")")),setInnerHtml(r[i],"".concat(t,"1 = &#x20b9 ").concat(n)),++i)}},{key:"setGst",value:function(){this.showIgst?(removeElementByQuery(".tax-cgst-column"),removeElementByQuery(".tax-sgst-column")):removeElementByQuery(".tax-igst-column"),this.isUTGst&&setValueForClass("label-sgst","UTGST")}},{key:"populateTaxes",value:function(){var n=this,o=document.getElementsByClassName("tax-hsn"),r=document.getElementsByClassName("tax-value"),i=document.getElementsByClassName("tax-amount"),a=document.getElementsByClassName("tax-igst-rate"),s=document.getElementsByClassName("tax-igst-amount"),l=document.getElementsByClassName("tax-cgst-rate"),u=document.getElementsByClassName("tax-cgst-amount"),c=document.getElementsByClassName("tax-sgst-rate"),m=document.getElementsByClassName("tax-sgst-amount"),d=document.getElementsByClassName("tax-cess"),h=!0,e=(this.taxTable.forEach(function(e,t){setInnerHtmlOrDefault(o[t],e.hsn),setInnerHtmlOrDefault(r[t],e.value),setInnerHtmlOrDefault(i[t],"&#x20b9 ".concat(e.totalTax)),setInnerHtmlOrDefault(d[t],e.cessAmount),isNullOrZero(e.cessAmount)||(h=!1),n.showIgst?(setInnerHtmlOrDefault(a[t],"".concat(e.igstRate,"%")),setInnerHtmlOrDefault(s[t],e.igstAmount)):(setInnerHtmlOrDefault(l[t],"".concat(e.cgstRate,"%")),setInnerHtmlOrDefault(u[t],e.cgstAmount),setInnerHtmlOrDefault(c[t],"".concat(e.sgstRate,"%")),setInnerHtmlOrDefault(m[t],e.sgstAmount))}),setValueForId("total-tax-value",this.totalTaxableAmount),setValueForId("total-tax-cgst-amount",this.totalCgst),setValueForId("total-tax-sgst-amount",this.totalSgst),setValueForId("total-tax-igst-amount",this.totalIgst),setValueForId("total-tax-cess",this.totalCess),h&&removeElementByQuery(".tax-cess-column"),convertToDouble(null==(e=this.totalTax)?void 0:e.replace(/,/g,""))+convertToDouble(null==(e=this.totalCess)?void 0:e.replace(/,/g,"")));setValueForId("total-tax-amount","&#x20b9 ".concat(formatIndianCurrency(e)))}},{key:"setAmountInWords",value:function(){setValueForId("amount-words-value",this.amountInWords),this.foreignCurrency?(setValueForId("amount-words-label","&#x20b9 Total Amount (in words)"),setValueForId("foreign-amount-words-label","".concat(this.foreignCurrency.symbol," Total Amount (in words)")),setValueForId("foreign-amount-words-value",this.foreignAmountInWords)):removeElementById("foreign-amount-words")}},{key:"updateMiscDetailsContainer",value:function(){var e=0;this.hasNotes?++e:removeElementById("notes"),this.hasBankDetails?++e:removeElementById("bank-details"),this.hasUpiDetails?++e:removeElementById("upi-details"),this.hasMbbPay||removeElementById("mbb-pay"),this.hasTnc?++e:removeElementById("tnc"),this.hasSignature||this.isOnboarding?++e:removeElementById("signature"),0!==(this.numberOfMiscDetails=e)||[4,6].includes(this.themeId)||removeElementByQuery(".misc-details-container")}},{key:"setNotesAndTnc",value:function(){setValueForIdOrRemove("notes-value",this.notes,"notes-container","notes"),setValueForIdOrRemove("tnc-value",this.tnc,"tnc")}},{key:"setBankDetails",value:function(){setValueForId("bank-details-name",this.accountHoldersName),setValueForId("bank-details-ifsc",this.ifscCode),setValueForId("bank-details-account",this.accountNumber),setValueForId("bank-details-bank-name",this.bankAndBranchName)}},{key:"setUpiDetails",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return isEmpty(null==(t=this.upiDetails)?void 0:t.transactionRef)?setValueForId("upi-id",null==(t=this.upiDetails)?void 0:t.upiId):setValueForIdOrRemove("upi-id",void 0,"upi-id-label"),e.next=3,setQRCode(this.showBrandingOnQr,this.upiDetails,this.balanceAmount,this.invoiceNumber,"upi-qr-code","upi-qr-code-container");case 3:this.mbbPay&&!isEmpty(this.paymentLink)&&(setStyleInQuery("#payment-link-container","display: block;"),setValueForId("payment-link",this.paymentLink.replace(/^https?:[/][/]/i,"").split("?")[0]),setLinkById("payment-link",this.paymentLink),setLinkById("payment-cta",this.paymentLink));case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"setInvoiceTotal",value:function(){isBoxTheme(this.themeId)?(setValueForId("items-table-total-amount","&#x20b9 ".concat(this.totalAmount)),setValueForId("items-table-total-payable-amount",toFixedTwoDouble(parseIndianCurrencyToNumber(this.totalAmount)-this.tdsAmount)),setValueForId("items-table-tax-tds-amount","- &#x20b9 ".concat(this.tdsAmount))):setValueForId("items-table-total-amount","&#x20b9 ".concat(this.subTotal));var e=this.totalTax;isBoxTheme(this.themeId)||(e=this.taxWithoutAdditionalCharges),setValueForId("items-table-total-qty",this.totalQuantity),setValueForId("items-table-total-tax","&#x20b9 ".concat(e)),setValueForId("items-table-total-cess","&#x20b9 ".concat(this.totalCess)),setValueForId("items-table-total-discount","&#x20b9 ".concat(this.totalDiscount)),setValueForId("items-table-total-foreign-amount","".concat(null==(e=this.foreignCurrency)?void 0:e.symbol," ").concat(this.foreignTotalAmount)),setValueForId("items-table-total-cgst","&#x20b9 ".concat(this.totalCgst)),setValueForId("items-table-total-sgst","&#x20b9 ".concat(this.totalSgst)),setValueForId("items-table-total-igst","&#x20b9 ".concat(this.totalIgst)),setValueForId("items-table-received-amount","&#x20b9 ".concat(this.receivedAmount)),this.isPurchase&&([4,6].includes(this.themeId)?setValueForId("items-table-received-label","Paid Amount:&nbsp;&nbsp;"):setValueForId("items-table-received-label","PAID AMOUNT")),setValueForId("items-table-balance-amount","&#x20b9 ".concat(this.balanceAmount))}},{key:"setPartyBalance",value:function(){this.showPrevBalance&&setValueForId("items-table-prev-balance-amount","&#x20b9 ".concat(this.prevBalance)),this.showCurrBalance&&setValueForId("items-table-curr-balance-amount","&#x20b9 ".concat(this.currBalance))}},{key:"setInvoiceColors",value:function(){var e;isEmpty(this.primaryColor)||isEmpty(this.textColor)||(setStyleInQuery("#company-name",e="color: ".concat(this.textColor,";")),setStyleInQuery("#payment-link",e),setStyleInQuery("#payment-cta","background-color: ".concat(this.textColor,";")),appendStylesInQuery(".items-table-header",e="background-color: ".concat(this.primaryColor,";")),setStyleInQuery(".items-table-total",e),setStyleInQuery(".items-table-total-foreign",e),setStyleInQuery(".tax-table-header",e),setStyleInQuery(".divider","background-color: ".concat(this.textColor,";")),[1,2].includes(this.themeId)&&setStyleInQuery(".title-bill-ship-to",e),[7].includes(this.themeId)&&(setStyleInQuery(".items-table-header","border-color: ".concat(this.textColor," !important;")),setStyleInQuery(".items-table-total","border-color: ".concat(this.textColor," !important;"))))}},{key:"highlightContent",value:function(){var e=[];switch(this.highlight){case Highlight.SERIAL_NUMBER:e.push(document.getElementById("invoice-number-container"));break;case Highlight.PHONE_NUMBER:e.push(document.getElementById("company-mobile-number"));break;case Highlight.COMPANY_EMAIL:e.push(document.getElementById("company-email-content"));break;case Highlight.COMPANY_NAME:e.push(document.getElementById("company-name"));break;case Highlight.TNC:e.push(document.getElementById("tnc"));break;case Highlight.CUSTOM_VOUCHER_FIELDS:e.push.apply(e,_toConsumableArray(document.getElementsByClassName("sub-details-class"))),e.push(document.getElementById("invoice-addn-field-container-1")),e.push(document.getElementById("invoice-addn-field-container-2")),e.push(document.getElementById("invoice-addn-field-container-3")),e.push(document.getElementById("invoice-addn-field-container-4")),e.push(document.getElementById("invoice-addn-field-container-5")),e.push(document.getElementById("invoice-addn-field-container-6"));break;case Highlight.CUSTOM_ITEM_FIELDS:e.push(document.getElementsByClassName("items-addn1-header")[0]),e.push(document.getElementsByClassName("items-addn2-header")[0]),e.push(document.getElementsByClassName("items-addn3-header")[0]),e.push(document.getElementsByClassName("items-addn4-header")[0]);break;case Highlight.SHOW_PARTY_BALANCE:e.push(document.getElementById("items-table-prev-balance-label")),e.push(document.getElementById("items-table-curr-balance-label")),e.push(document.getElementById("items-table-prev-balance-amount")),e.push(document.getElementById("items-table-curr-balance-amount")),e.push.apply(e,_toConsumableArray(document.getElementsByClassName("previous-balance-row"))),e.push.apply(e,_toConsumableArray(document.getElementsByClassName("current-balance-row")));break;case Highlight.SHOW_MRP:e.push(document.getElementsByClassName("items-mrp-header")[0]);break;case Highlight.SHOW_ITEM_DESCRIPTION:e.push(document.getElementsByClassName("item-imei")[0]);break;case Highlight.FREE_QUANTITY:e.push(document.getElementsByClassName("item-name-desc")[1]);break;case Highlight.TAGLINE:e.push(document.getElementsByClassName("page-header-tagline-value")[0]);break;case Highlight.SIGNATURE:e.push(document.getElementById("signature"));break;case Highlight.CUSTOM_PARTY_FIELDS:e.push(document.getElementById("party-addn-field-container"));break;case Highlight.FOREIGN_CURRENCY:e.push(document.getElementById("items-table-total-foreign-label")),e.push(document.getElementById("items-table-total-foreign-amount")),e.push.apply(e,_toConsumableArray(document.getElementsByClassName("foreign-currency-row")))}"ios"==this.platform&&0<e.length&&(document.body.style.zoom="250%");for(var t=0;t<e.length;++t)e[t]&&(e[t].classList.add("highlight"),e[t].scrollIntoView(!0))}},{key:"showBrandingInPage",value:function(){if(this.showBranding&&!this.isCustomTheme?(setStyleInQuery(".page-branding","display: flex"),document.getElementById("page-branding-container")&&(document.getElementById("page-branding-container").onclick=function(){openPricing(this.platform)})):(setStyleInQuery(".page-footer","height: 8px;"),setStyleInQuery(".page-footer-space","height: 8px;")),this.showBranding&&2!==this.themeId&&!this.isCustomTheme){var e=0,t=!1;switch(this.themeId){case 1:case 3:case 5:case 7:case 8:e=14;break;case 4:e=13,t=!0;break;case 6:e=12,t=!0}setStyleInQuery(".page-header","height: ".concat(e,"mm")),setStyleInPrintQuery(".page-header","height: ".concat(t?e:++e,"mm")),setStyleInPrintQuery(".page-header-space","height: ".concat(e,"mm"));var n=document.getElementById("mbb-logo-container");n&&(n.onclick=function(){openPricing(this.platform)})}else removeElementById("mbb-logo-container")}},{key:"addAdditionalSpace",value:function(){var e,t,n;this.stretchItemTable&&null!=(n=document.getElementById("main-content"))&&(e=5,this.showBranding&&(e=8),n=(n.offsetTop+n.offsetHeight)*MM_IN_PIXEL,e=getPageHeight(this.themeId)-e-n,[1,7].includes(this.themeId)&&30<=e&&(e=30),[2].includes(this.themeId)&&(n=document.getElementById("tnc"),t=document.getElementById("signature"),0<(n=(null==n?void 0:n.offsetTop)+(null==n?void 0:n.offsetHeight)-((null==t?void 0:t.offsetTop)+(null==t?void 0:t.offsetHeight))))&&(e-=n*MM_IN_PIXEL),0<e?setStyleInQuery(".empty-row","height: ".concat(e,"mm")):removeElementByQuery(".empty-row"))}},{key:"balanceSignatureAndTnc",value:function(){var e,t,n;isBoxTheme(this.themeId)||(n=document.getElementById("tnc"),e=document.getElementById("signature"),n=(null==n?void 0:n.offsetTop)+(null==n?void 0:n.offsetHeight),(t=(null==e?void 0:e.offsetTop)+(null==e?void 0:e.offsetHeight))<n&&(n=n-t-(null==e?void 0:e.offsetHeight),setStyleInQuery("#signature","padding-top: ".concat(n,"px"))))}},{key:"showOnboarding",value:function(){var e,t=this;this.isOnboarding&&(this.logoUrl||(e=document.getElementById("company-logo-container"))&&(e.classList.add("highlight"),e.innerHTML='<div class="company-logo-container"><img class="plus-missing-field-icon" src="plus_and_circle.svg" height="24mm" /><span class="plus-missing-field-text">Add Logo</span></div>',e.onclick=function(){return openLogo(t.platform)}),this.signUrl||(e=document.getElementById("signature"))&&(e.classList.add("highlight"),e.innerHTML='<div><img class="plus-missing-field-icon" src="plus_and_circle.svg" height="24mm" /><span class="plus-missing-field-text">Add Signature</span><div>',e.onclick=function(){return openAdnSaveSignature(t.platform)}))}},{key:"showProfileBuilderHighlight",value:function(){var e,t=document.getElementById("company-highlight-label");this.highlight==Highlight.COMPANY_GST?((e=null!=(e=document.getElementById("company-gst-number-content"))?e:t).classList.add("highlight"),e.classList.add("highlight-padding"),isEmpty(this.companyGst)&&(e.innerHTML='<span class="plus-missing-field-text">Add GST Number</span>'),e.scrollIntoView({block:"center",inline:"center"})):this.highlight==Highlight.COMPANY_ADDRESS?((e=null!=(e=document.getElementById("company-address"))?e:t).classList.add("highlight"),e.classList.add("highlight-padding"),isEmpty(this.address)&&(e.innerHTML='<span class="plus-missing-field-text">Add Business Address</span>'),e.scrollIntoView({block:"center",inline:"center"})):removeElement(t)}},{key:"setFinishedFlag",value:function(){var e=document.createElement("div");e.id="finished-flag",e.style.display="none",e.innerHTML="",document.body.append(e)}},{key:"setEInvoicingData",value:function(){var t=this;return this.eInvoiceData&&isGSTSupported(this.themeId)?(setValueForIdOrRemove("e-invoice-irn",this.eInvoiceData.irn,"e-invoice-irn-container"),setValueForIdOrRemove("e-invoice-ack-no",this.eInvoiceData.ackNo,"e-invoice-ack-no-container"),setValueForIdOrRemove("e-invoice-ack-date",this.eInvoiceData.ackDateTime,"e-invoice-ack-date-container"),new Promise(function(o,e){QRCode.toCanvas(document.getElementById("e-invoice-qr"),t.eInvoiceData.qr,{errorCorrectionLevel:"L",margin:0,width:100},function(e){if(e)return o(),Sentry.captureException(e),console.error(e);var e=document.getElementById("e-invoice-qr-container"),t=document.getElementById("e-invoice-qr"),n=t.toDataURL();t.remove(),e.innerHTML+='<img id="e-invoice-qr" src="'.concat(n,'" />'),o()})})):removeElementById("e-invocing-container")}},{key:"focusSectionAndSubSection",value:function(e){e&&0===Object.keys(e).length||(null!=e&&e.subSection&&"miscellaneous_section"===(null==e?void 0:e.subSection)?appendStyleForFirstQuery(".misc-details-container","outline: 1.5px solid #3DA3ED; border: 1.5px solid #3DA3ED; background-color: #FFF;"):null!=e&&e.subSection&&appendStyleForFirstQuery(".".concat(null==e?void 0:e.subSection),"outline: 1.5px solid #3DA3ED; border: 1.5px solid #3DA3ED; background-color: #FFF;"))}},{key:"registerClickForNormalThemes",value:function(){var e,n=this,o={0:"business_details",1:"invoice_details",2:"party_details",3:"item_table",4:"amount_in_words",5:"notes",6:"bank_details",7:"tnc",8:"signature",9:"footer"},r={0:"business_section",1:"invoice_section",2:"party_section",3:"item_table",4:"miscellaneous_section",5:"miscellaneous_section",6:"miscellaneous_section",7:"miscellaneous_section",8:"miscellaneous_section",9:"footer"};null!=(e=Object.keys(o))&&e.forEach(function(t){var e;null!=(e=document.querySelector('[data-subsection-id="'.concat(t,'"]')))&&e.addEventListener("click",function(e){n.postNavigateToSectionEvent(r[t],o[t])})})}},{key:"postNavigateToSectionEvent",value:function(e,t){window.parent.postMessage({channel:"im",action:"navigate_to_section",data:{section:e,sub_section:t}},"*")}}]),a}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var l,a={},e=Object.prototype,u=e.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(l){i=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r,i,a,s,t=t&&t.prototype instanceof g?t:g,t=Object.create(t.prototype),o=new A(o||[]);return c(t,"_invoke",{value:(r=e,i=n,a=o,s=d,function(e,t){if(s===f)throw new Error("Generator is already running");if(s===y){if("throw"===e)throw t;return{value:l,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var o=n.method,r=t.iterator[o];if(r===l)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=l,e(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),p;o=m(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;r=o.arg;return r?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l),n.delegate=null,p):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}(n,a);if(n){if(n===p)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=y,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=f;n=m(r,i,a);if("normal"===n.type){if(s=a.done?y:h,n.arg===p)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s=y,a.method="throw",a.arg=n.arg)}})}),t}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var d="suspendedStart",h="suspendedYield",f="executing",y="completed",p={};function g(){}function v(){}function b(){}var t={},I=(i(t,o,function(){return this}),Object.getPrototypeOf),I=I&&I(I(w([]))),_=(I&&I!==e&&u.call(I,o)&&(t=I),b.prototype=g.prototype=Object.create(t));function C(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function T(a,s){var t;c(this,"_invoke",{value:function(n,o){function e(){return new s(function(e,t){!function t(e,n,o,r){var i,e=m(a[e],a,n);if("throw"!==e.type)return(n=(i=e.arg).value)&&"object"==_typeof(n)&&u.call(n,"__await")?s.resolve(n.__await).then(function(e){t("next",e,o,r)},function(e){t("throw",e,o,r)}):s.resolve(n).then(function(e){i.value=e,o(i)},function(e){return t("throw",e,o,r)});r(e.arg)}(n,o,e,t)})}return t=t?t.then(e,e):e()}})}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function w(t){if(t||""===t){var n,e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e}).next=e}throw new TypeError(_typeof(t)+" is not iterable")}return c(_,"constructor",{value:v.prototype=b,configurable:!0}),c(b,"constructor",{value:v,configurable:!0}),v.displayName=i(b,r,"GeneratorFunction"),a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,i(e,r,"GeneratorFunction")),e.prototype=Object.create(_),e},a.awrap=function(e){return{__await:e}},C(T.prototype),i(T.prototype,n,function(){return this}),a.AsyncIterator=T,a.async=function(e,t,n,o,r){void 0===r&&(r=Promise);var i=new T(s(e,t,n,o),r);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(_),i(_,r,"Generator"),i(_,o,function(){return this}),i(_,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),o=[];for(t in n)o.push(t);return o.reverse(),function e(){for(;o.length;){var t=o.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=w,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var o=this;function e(e,t){return i.type="throw",i.arg=n,o.next=e,t&&(o.method="next",o.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],i=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=u.call(r,"catchLoc"),s=u.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&u.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}var i=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,o,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(n=r.completion).type&&(o=n.arg,N(r)),o}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),p}},a}function asyncGeneratorStep(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function _asyncToGenerator(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var o=s.apply(e,a);function r(e){asyncGeneratorStep(o,t,n,r,i,"next",e)}function i(e){asyncGeneratorStep(o,t,n,r,i,"throw",e)}r(void 0)})}}var params=new Proxy(new URLSearchParams(window.location.search),{get:function(e,t){return e.get(t)}});function loadInvoice(B){var L,F,M,e,t,U,H,Q,V,j,G,Y,z,q,W,K,J,Z,X,$,ee,te,n,ne,oe,re,ie,ae,se,le,ue,ce,me,de,he,o,fe,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{if(!window.executed){"undefined"!==r&&"null"!==r||(r={}),window.executed=!0;var i,a,ye,pe,ge,ve,be,s,l,u,c,Ie,_e,Ce,Te,m,d,h,Ee,f,y,p,g,Ne,v,b,I,_,C,T,Ae,E,N,we,Se,A,w,xe,Re,ke,Pe,Oe,De,Be,Le,Fe,S,x,Me,Ue,R,k=JSON.parse(window.decodeURIComponent(window.atob(B))),P=k.party,O=k.voucher,D=k.company,He=(null==k?void 0:k.focusSection)||{};if(O&&D&&P)return setSentryUser({email:D.email,userId:null!=(L=D.mobile_number)?L:D.id}),i=k.platform,a=null!=(F=null!=(M=k.themeType)?M:null==(e=D.company_settings)||null==(e=e.invoice)?void 0:e.invoice_theme)?F:"theme_seven",validateConfig({data:k,customThemeConfig:r=r&&"string"==typeof r?JSON.parse(window.decodeURIComponent(window.atob(r))):r}),(ye=null==(t=r)||null==(t=t.base_theme)?void 0:t.startsWith("theme_"))&&(a=r.base_theme),pe=null!=(U=k.voucherPdfType)?U:"Original for Recipient",ge=k.highlight,ve=k.isOnboarding,be=k.showBranding,s=isNullOrEmpty(null==(H=O.invoice_settings)?void 0:H.foreign_currency),(l=FOREIGN_CURRENCY.find(function(e){return e.nickname==(null==(e=O.invoice_settings)?void 0:e.foreign_currency)}))&&(l.conversionRate=convertToDouble(null==(Q=O.invoice_settings)?void 0:Q.foreign_currency_conversion_rate)),u=k.logoBase64,c=k.signatureBase64,Ie=getUserUpiAndBankAccount(k.userBankDetails),Ce=(_e=_slicedToArray(Ie,2))[0],Te=_e[1],m=isThisLatestVoucher(O,P),d=D.company_settings,h=getTaxType(getPartyState(P,null==O?void 0:O.shipping_address),getCompanyState(D),!s),Ee=getPartyBalance(P,O,m),f=isTrue(null==(V=O.items)?void 0:V.every(function(e){return"service"===e.item_type})),y=toAddressString(null!=(j=O.billing_address)?j:P.billing_address),p=toAddressString(null!=(G=O.shipping_address)?G:P.shipping_address),g={name:encodeString(P.name),billingAddress:encodeString(y),shippingAddress:encodeString(p),mobile:null!=(Y=P.mobile_number)?Y:"",gstin:null!=(z=P.gst_number)?z:"",placeOfSupply:encodeString(null!=(q=P.gst_reg_state)?q:""),prevBalance:Ee,currBalance:formatIndianCurrency(null!=(W=P.closing_balance)?W:P.balance),panNumber:null!=(K=P.pan_number)?K:"",showShipTo:showPartyShippingAddress(D,y,p,f),partyAdditionalFields:getPartyFields(O)},Ne=isTrue(null==d||null==(J=d.invoice)?void 0:J.show_company_number)&&null!=(Z=D.mobile_number)?Z:"",v=getUPIDetails(D,P.virtual_account,Ce,s),b=getMbbPayBank(D,P,s,Te),I={logoUrl:null!=(X=null!=u?u:D.logo_url)?X:D.company_logo,name:encodeString(D.name),address:encodeString(toAddressString(D.address,"company")),gstin:null!=($=D.gst_number)?$:"",mobile:Ne,email:D.email,signUrl:O.invoice_type!==voucherType.purchase?null!=c?c:D.sign_url:"",accountNumber:null!=(ee=null==b?void 0:b.account_number)?ee:"",ifscCode:null!=(te=null==b?void 0:b.ifsc_code)?te:"",bankAndBranchName:encodeString(null==b?void 0:b.bank_name),accountHoldersName:encodeString(null==b?void 0:b.account_holder_name),upiDetails:v,mbbPay:isTrue(null==(n=D.company_settings)||null==(n=n.mbb_pay)?void 0:n.mbb_pay_enabled)&&s,panNumber:null!=(ne=D.pan_number)?ne:""},_=getAdditionalCharges(O.additional_charges,convertToDouble(O.cess_amount)),C=processItems(O,d,_,a,r),T=getVoucherLabels(O.invoice_type),Ae=getItemDefaultColumns(null==O||null==(oe=O.invoice_settings)?void 0:oe.invoice_columns),E=getDiscountValue(O,C.itemSubtotal,_.additionalChargesTotal,d),we=(N=C.totalTax-C.totalCess)-_.additionalChargesTaxTotal,Se=C.itemSubtotal.toBigDecimal().plus(C.keralaCessAmount).plus(_.additionalChargesTotal).minus(E).plus(convertToDouble(O.round_off)),A=(0==Se?convertToDouble(O.total_amount).toBigDecimal():Se).plus(convertToDouble(O.tcs_amount)),w=sanitizeBalanceAmount(null!=(re=O.remaining_amount)?re:0),xe=calculateReceivedAmount(O,w,A.minus(convertToDouble(O.tds_amount))),ke=!1,f||(ke=isTrue(null==(Re=O.items)?void 0:Re.some(function(e){return"good"!==e.item_type}))),Pe=getForeignCurrencyTotalAmount(null==l?void 0:l.conversionRate,A),Oe=s?null:{name:l.name,nickname:l.nickname,symbol:l.symbol,minorName:l.minorName,conversionRate:toFixedTwoDouble(l.conversionRate)},De=getEnglishAmountInWord(l,Pe),Be=prepareEInvoiceData(O,d),Le=orElse(null!=(ie=k.textColor)?ie:null==d||null==(ae=d.invoice)?void 0:ae.invoice_theme_color_dark,"#000000"),Fe=orElse(null!=(se=k.primaryColor)?se:null==d||null==(le=d.invoice)?void 0:le.invoice_theme_color_light,"#E2E2E2"),S={themeId:getThemeId(a),type:getVoucherType(a,O.invoice_type,C.totalTax),subType:O.invoice_type==voucherType.sales?pe:"",tagline:encodeString(null!=(ue=null==d||null==(ce=d.online_store)?void 0:ce.tagline)?ue:""),textColor:Le,primaryColor:Fe,invoiceNumber:encodeString(null!=(me=O.invoice_number)?me:""),dueDate:getDueDate(O),invoiceDate:formatInvoiceDate(O.invoice_date),invoiceNumberLabel:T.invoiceNumberLabel,invoiceDateLabel:T.invoiceDateLabel,dueDateLabel:T.dueDateLabel,additionalFields:getVoucherAdditionalFields(d,O),items:C.processedItems,itemAdditionalFields:C.itemAdditionalFields,itemDefaultColumns:Ae,additionalCharges:_.additionalChargesList,taxes:getTaxes(a,h,C.taxSlabs,C.cessSlabs,_.additionalChargesSlab,_.additionalChargesCessSlab),taxTable:getTaxTable(a,C.hsnSlabs,_.ACHsnSlab),discount:isNullOrZero(E)?"":toFixedTwoDouble(-1*E),roundOff:isNullOrZero(convertToDouble(O.round_off))?"":toFixedTwoDouble(O.round_off),totalQuantity:isNullOrZero(C.totalQuantity)?"-":toFixedTwoDouble(C.totalQuantity),totalDiscount:formatIndianCurrency(C.totalDiscount),totalTax:formatIndianCurrency(N),taxWithoutAdditionalCharges:formatIndianCurrency(we),totalCess:formatIndianCurrency(C.totalCess),totalIgst:formatIndianCurrency(N),totalCgst:formatIndianCurrency(N/2),totalSgst:formatIndianCurrency(N/2),totalAmount:formatIndianCurrency(A),receivedAmount:formatIndianCurrency(xe),balanceAmount:formatIndianCurrency(w),totalTaxableAmount:formatIndianCurrency(C.totalTaxableAmount),subTotal:formatIndianCurrency(C.itemSubtotal),notes:encodeLineBreaks(encodeLineBreaks(null!=(de=O.customer_note)?de:O.customer_notes)),tnc:encodeLineBreaks(encodeString(getTnc(D,O,i))),serviceView:f,serviceItemMix:ke,paymentLink:getPaymentLink(O.share_link),foreignCurrency:Oe,foreignTotalAmount:formatIndianCurrency(Pe),foreignAmountInWords:De,amountInWords:indianCurrencyFormatter.asWord(A),eInvoiceData:Be,tdsAmount:toFixedTwoDouble(O.tds_amount),tcsAmount:toFixedTwoDouble(O.tcs_amount),tdsLabel:O.tds_label,tcsLabel:O.tcs_label,newCalculationUsed:null==(he=O.invoice_settings)?void 0:he.new_calculation_used,isCustomTheme:ye},(x=showPartyBalance(O,d,m,P))&&!1===(null==(o=r)||null==(o=o.item_table)?void 0:o.show_party_balance)&&(x=!1),Me=0!=xe,Ue=isTypePurchase(O.invoice_type),R={highlight:ge,showBranding:be,isOnboarding:ve,billToLabel:getBillToLabel(O.invoice_type),isMrpOn:showMRP(O.invoice_type,d),isPurchase:Ue,isQuotation:isTypeNonTransactional(O.invoice_type),showIgst:"IGST"===h.first||"GST"===h.first,isUTGst:"CGST"===h.first&&"UTGST"===h.second,showEmptySignature:isTrue(null==d||null==(fe=d.invoice)?void 0:fe.show_emptybox_for_signature),showBalanceAmount:Me,showCurrBalance:x,showPrevBalance:x,platform:i},"api"==i?function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,renderInvoice(t,r);case 2:return e.abrupt("return",{isPurchase:Ue,totalAmount:A.toString(),bankAccount:b,balanceAmount:w.toString(),voucherLabels:T,companyName:D.name,invoiceDate:O.invoice_date,invoiceNo:O.invoice_number,voucherType:O.invoice_type,smartCollect:I.mbbPay,dueDate:O.due_date,companyNumber:D.mobile_number,companyLogo:I.logoUrl,upiUri:generateUPIUri(w,v,O.invoice_number)});case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()({invoiceDetails:S,skeletonDetails:R,partyDetails:g,companyDetails:I}):"web"==i||"desktop"==i?renderInvoice({invoiceDetails:S,skeletonDetails:R,partyDetails:g,companyDetails:I,focusSection:He},r):void renderInvoice({invoiceDetails:S,skeletonDetails:R,partyDetails:g,companyDetails:I},r)}}catch(e){Sentry.captureException(e),console.log(e.toString())}}params.rawPayload&&loadInvoice(params.rawPayload,params.customPayload),window.addEventListener("message",function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("loadInvoice"===(null==(n=t.data)?void 0:n.type))return e.next=3,loadInvoice(t.data.payload,t.data.customPayload);e.next=4;break;case 3:t.source.postMessage({type:"invoiceLoaded"},t.origin);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());</script>
  </body>
</html>